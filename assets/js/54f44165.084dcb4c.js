"use strict";(self.webpackChunkchia_docs=self.webpackChunkchia_docs||[]).push([[7924],{4575:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>h,contentTitle:()=>c,default:()=>p,frontMatter:()=>o,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"getting-started/installation","title":"Advanced Installation","description":"This page will go into the details of the various different ways to install Chia. If you already installed Chia as part of the Farming Guide, then feel free to skip ahead to the Plotting Basics page.","source":"@site/docs/getting-started/installation.md","sourceDirName":"getting-started","slug":"/installation","permalink":"/installation","draft":false,"unlisted":false,"editUrl":"https://github.com/Chia-Network/chia-docs/blob/main/docs/getting-started/installation.md","tags":[],"version":"current","frontMatter":{"title":"Advanced Installation","slug":"/installation"},"sidebar":"tutorialSidebar","previous":{"title":"Known Issues","permalink":"/getting-started/cloud-wallet/known-issues"},"next":{"title":"Testnets","permalink":"/testnets"}}');var a=i(4848),s=i(8453),r=i(5537),l=i(9329);const o={title:"Advanced Installation",slug:"/installation"},c=void 0,h={},d=[{value:"System Requirements",id:"system-requirements",level:2},{value:"Drive Format",id:"drive-format",level:3},{value:"Sleep kills plots",id:"sleep-kills-plots",level:3},{value:"Install",id:"install",level:2},{value:"Using the CLI",id:"using-the-cli",level:3},{value:"From Source",id:"from-source",level:3},{value:"Raspberry Pi 4",id:"raspberry-pi",level:3},{value:"Swap",id:"raspberry-pi-swap",level:4},{value:"Setup",id:"raspberry-pi-setup",level:4},{value:"Proceed",id:"raspberry-pi-install",level:4},{value:"Disable Timelord",id:"raspberry-pi-timelord",level:4},{value:"Other environments",id:"other-environments",level:3},{value:"Check if you already have WSL2 or WSL1 installed:",id:"check-if-you-already-have-wsl2-or-wsl1-installed",level:4},{value:"If WSL is not installed:",id:"if-wsl-is-not-installed",level:4},{value:"Installing a new WSL2 instance:",id:"installing-a-new-wsl2-instance",level:4},{value:"Install from source - WSL2",id:"install-from-source---wsl2",level:4},{value:"Increasing the WSL Maximum Storage Capacity",id:"increasing-the-wsl-maximum-storage-capacity",level:4},{value:"Setting a maximum limit to WSL2 memory access",id:"setting-a-maximum-limit-to-wsl2-memory-access",level:4},{value:"WSL VHD Plotting Nuances",id:"wsl-vhd-plotting-nuances",level:4},{value:"Install from source - Amazon Linux 2",id:"install-from-source---amazon-linux-2",level:4},{value:"Install from binary package",id:"install-from-binary-package",level:4},{value:"Upgrading Existing Chia Installs",id:"upgrading-existing-chia-installs",level:4},{value:"Why This Manual Installation?",id:"why-this-manual-installation",level:4},{value:"Notes on FreeNAS (TrueNAS)",id:"notes-on-freenas-truenas",level:4},{value:"Other Notes",id:"other-notes",level:4},{value:"Discouraged?",id:"discouraged",level:4},{value:"Pre-requisite package installation",id:"pre-requisite-package-installation",level:4},{value:"gcc notes",id:"gcc-notes",level:4},{value:"Install rust, Python, and everything else.",id:"install-rust-python-and-everything-else",level:4},{value:"Repo Cloning and Virtual Environment (venv) Activation",id:"repo-cloning-and-virtual-environment-venv-activation",level:4},{value:"Building py-cryptography from ports",id:"building-py-cryptography-from-ports",level:4},{value:"clvm_rs",id:"clvm_rs",level:4},{value:"Install py-cryptography to the venv",id:"install-py-cryptography-to-the-venv",level:4},{value:"Chia modifications and Building Chia Itself",id:"chia-modifications-and-building-chia-itself",level:4},{value:"Installed and Ready to Farm!",id:"installed-and-ready-to-farm",level:4},{value:"GUI Build / Usage",id:"gui-build--usage",level:4},{value:"Prerequisite package installation",id:"prerequisite-package-installation",level:4},{value:"Build",id:"build",level:4},{value:"Launch GUI",id:"launch-gui",level:4},{value:"Directory Structure",id:"directory-structure",level:2},{value:"CLI",id:"cli",level:2},{value:"GUI",id:"gui",level:2},{value:"Initial Startup",id:"initial-startup",level:2},{value:"Systemd",id:"systemd",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Testnets",id:"testnets",level:2},{value:"Beta and release candidate installations",id:"beta-and-release-candidate-installations",level:2},{value:"From Source",id:"from-source-1",level:3},{value:"From packaged installer",id:"from-packaged-installer",level:3}];function u(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.admonition,{type:"info",children:(0,a.jsxs)(n.p,{children:["This page will go into the details of the various different ways to install Chia. If you already installed Chia as part of the Farming Guide, then feel free to skip ahead to the ",(0,a.jsx)(n.a,{href:"/plotting-basics",children:"Plotting Basics"})," page."]})}),"\n",(0,a.jsx)(n.p,{children:"There are various ways to install Chia, with the best method depending on what you intend to do:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["If you simply wish to use the Chia wallet, or to run a farm on a single personal computer, then we recommend installing the GUI from our ",(0,a.jsx)(n.a,{href:"https://www.chia.net/downloads",children:"official downloads page"})," for Windows and MacOS, and for Linux users to install the package ",(0,a.jsx)(n.a,{href:"#using-the-cli",children:"as described below"}),". The GUI is the simplest way to interact with the Chia client and ideal for most non-developer use cases."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["If you intend to run a dedicated Chia full node on a server and connect to it programmatically using the ",(0,a.jsx)(n.a,{href:"/rpc",children:"RPC interface"}),", the best method would be to install and run Chia via the command line on a proper server environment."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["If you intend to do ",(0,a.jsx)(n.a,{href:"https://chialisp.com",children:"Chialisp"})," development or build projects that leverage Chia, you have the options of either using an installer (the recommended pattern), or installing from source."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["Lastly, if you plan on making contributions to the source code, then installing Chia ",(0,a.jsx)(n.a,{href:"/installation#from-source",children:"from source"})," would be your path."]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:(0,a.jsxs)(n.em,{children:["In summary, unless you already knew before reading this page that you should be installing from source, chances are your best path will be to install from our ",(0,a.jsx)(n.a,{href:"https://www.chia.net/downloads",children:"official downloads page"})," or a Linux package, depending on your OS."]})})}),"\n",(0,a.jsx)(n.h2,{id:"system-requirements",children:"System Requirements"}),"\n",(0,a.jsx)(n.p,{children:"The minimum supported specs are that of the Raspberry Pi 4, 4GB model:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Quad core 1.5Ghz CPU (must be 64 bit)"}),"\n",(0,a.jsx)(n.li,{children:"4 GB RAM"}),"\n",(0,a.jsx)(n.li,{children:"As of Chia version 2.5, Python versions 3.9 and later are supported"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"drive-format",children:"Drive Format"}),"\n",(0,a.jsx)(n.p,{children:"Chia plot files are at least 108GB in size (for K32). To plot successfully requires drives formatted to support large files. Formats that will work include NTFS, APFS, exFAT, and ext4. Do not use drives with FAT formatting (for example FAT12, FAT16, and FAT32), or else plotting will fail. Future versions of Chia will check for unsupported drives, but for now it's up to each user to check their drive format."}),"\n",(0,a.jsx)(n.h3,{id:"sleep-kills-plots",children:"Sleep kills plots"}),"\n",(0,a.jsxs)(n.p,{children:["If the computer or hard drives go to sleep during the plotting process, it will fail, and you will need to start over. Please ensure all sleep, hibernate and power saving modes for your computer and hard drives are disabled before starting the Chia plotting process. In the future, Chia will have a resume plot feature. In the meantime, if you do get a failed plot, delete all ",(0,a.jsx)(n.code,{children:"*.tmp"})," files before starting a new plot."]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"install",children:"Install"}),"\n",(0,a.jsx)(n.h3,{id:"using-the-cli",children:"Using the CLI"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.em,{children:"This method is intended for linux environments"})}),"\n",(0,a.jsxs)(r.A,{defaultValue:"apt",groupId:"install",values:[{label:"APT",value:"apt"},{label:"YUM",value:"yum"},{label:"DNF",value:"dnf"},{label:"PIP",value:"pip"}],children:[(0,a.jsx)(l.A,{value:"apt",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'# Install packages\nsudo apt-get update\nsudo apt-get install ca-certificates curl gnupg\n\n# Add GPG key\ncurl -sL https://repo.chia.net/FD39E6D3.pubkey.asc | sudo gpg --dearmor -o /usr/share/keyrings/chia.gpg\n\n# Set up repository\necho "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/chia.gpg] https://repo.chia.net/debian/ stable main" | sudo tee /etc/apt/sources.list.d/chia.list > /dev/null\nsudo apt-get update\n\n# Install chia-blockchain\nsudo apt-get install chia-blockchain\n\n# Use chia-blockchain-cli instead for CLI only\n'})})}),(0,a.jsx)(l.A,{value:"yum",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Install packages\nsudo yum install -y yum-utils\nsudo yum-config-manager --add-repo https://repo.chia.net/rhel/chia-blockchain.repo\n\n# Install chia-blockchain\nsudo yum install chia-blockchain\n\n# Use chia-blockchain-cli for CLI only\n"})})}),(0,a.jsx)(l.A,{value:"dnf",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Install packages\nsudo dnf install 'dnf-command(config-manager)'\nsudo dnf config-manager --add-repo https://repo.chia.net/rhel/chia-blockchain.repo\n\n# Install chia-blockchain\nsudo dnf install chia-blockchain\n\n# Use chia-blockchain-cli for CLI only\n"})})}),(0,a.jsxs)(l.A,{value:"pip",children:[(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Create virtual environment\npython -m venv venv\n\n# Activate virtual environment\n. ./venv/bin/activate # MacOS / Linux\n./venv/Scripts/Activate.ps1 # Windows\n\n# Update pip\npip install --upgrade pip\n\n# Install chia-blockchain\npip install --extra-index-url https://pypi.chia.net/simple chia-blockchain miniupnpc\n"})}),(0,a.jsxs)(n.p,{children:["Chia strives to provide ",(0,a.jsx)(n.a,{href:"https://pythonwheels.com",children:"binary wheels"})," for modern systems. If your system does not have binary wheels, you may need to install development tools to build some Python extensions from source. If you're attempting to install from source, setting the environment variable ",(0,a.jsx)(n.code,{children:"BUILD_VDF_CLIENT"})," to ",(0,a.jsx)(n.code,{children:"N"})," will skip trying to build Timelord components that aren't very cross platform, e.g. ",(0,a.jsx)(n.code,{children:"export BUILD_VDF_CLIENT=N"}),"."]})]})]}),"\n",(0,a.jsx)(n.h3,{id:"from-source",children:"From Source"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.em,{children:"This method is primarily intended for contributing to the Chia codebase"})}),"\n",(0,a.jsxs)(r.A,{defaultValue:"linux-macos",groupId:"source",values:[{label:"Linux/MacOS",value:"linux-macos"},{label:"Windows",value:"windows"}],children:[(0,a.jsxs)(l.A,{value:"linux-macos",children:[(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Download chia-blockchain\ngit clone https://github.com/Chia-Network/chia-blockchain -b latest --recurse-submodules\n\n# Change directory\ncd chia-blockchain\n\n# Install dependencies\nsh install.sh\n\n# Activate virtual environment\n. ./activate\n\n# Initialize\nchia init\n"})}),(0,a.jsx)(n.p,{children:"The following is how you update to the latest version:"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'# Change directory\ncd chia-blockchain\n\n# Activate the virtual environment\n. ./activate\n\n# Stop running services\nchia stop -d all\n\n# Deactivate the virtual environment\ndeactivate\n\n# Remove the current virtual environments\nrm -r venv\nrm -r .penv\nrm -r .venv\n\n# Pull the latest version\ngit fetch\ngit checkout latest\ngit reset --hard FETCH_HEAD --recurse-submodules\n\n# If you get RELEASE.dev0 then delete the package-lock.json in chia-blockchain-gui and install.sh again\n\n# This should say "nothing to commit, working tree clean"\n# if you have uncommitted changes, RELEASE.dev0 will be reported\ngit status\n\n# Install the new version\nsh install.sh\n\n# Activate the virtual environment\n. ./activate\n\n# Initialize the new version\nchia init\n'})})]}),(0,a.jsxs)(l.A,{value:"windows",children:[(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Download chia-blockchain\ngit clone https://github.com/Chia-Network/chia-blockchain -b latest --recurse-submodules\n\n# Change directory\ncd chia-blockchain\n\n# Install dependencies\n./Install.ps1\n\n# Activate virtual environment\n. ./venv/Scripts/Activate.ps1\n\n# Initialize\nchia init\n"})}),(0,a.jsx)(n.p,{children:"The following is how you update to the latest version:"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'# Change directory\ncd chia-blockchain\n\n# Activate the virtual environment\n. ./venv/Scripts/Activate.ps1\n\n# Stop running services\nchia stop -d all\n\n# Deactivate the virtual environment\ndeactivate\n\n# Remove the current virtual environment\nrm -r venv\nrm -r .penv\nrm -r .venv\n\n# Pull the latest version\ngit fetch\ngit checkout latest\ngit reset --hard FETCH_HEAD --recurse-submodules\n\n# If you get RELEASE.dev0 then delete the package-lock.json in chia-blockchain-gui and install.sh again\n\n# This should say "nothing to commit, working tree clean"\n# if you have uncommitted changes, RELEASE.dev0 will be reported\ngit status\n\n# Install the new version\n./Install.ps1\n\n# Activate the virtual environment\n. ./venv/Scripts/Activate.ps1\n\n# Initialize the new version\nchia init\n'})})]})]}),"\n",(0,a.jsx)(n.h3,{id:"raspberry-pi",children:"Raspberry Pi 4"}),"\n",(0,a.jsxs)(n.admonition,{type:"note",children:[(0,a.jsx)(n.p,{children:"Chia does not support the Raspberry Pi 3, and we do not recommend running the GUI on the 4GB Raspberry Pi 4 model."}),(0,a.jsx)(n.p,{children:"It is highly recommended you put the Chia blockchain and wallet database on an SSD or NVMe drive, rather than the SD card."})]}),"\n",(0,a.jsx)(n.h4,{id:"raspberry-pi-swap",children:"Swap"}),"\n",(0,a.jsx)(n.p,{children:"It is suggested that you set up 1024 MiB of swap:"}),"\n",(0,a.jsxs)(r.A,{defaultValue:"ubuntu",groupId:"source",values:[{label:"Ubuntu 20.04 LTS",value:"ubuntu"},{label:"Raspbian 64",value:"raspbian"}],children:[(0,a.jsxs)(l.A,{value:"ubuntu",children:[(0,a.jsx)(n.p,{children:"Run the following commands to set up the swap:"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sudo dd if=/dev/zero of=/swap bs=1M count=1024\nsudo chmod 600 /swap\nsudo mkswap /swap\nsudo swapon /swap\n"})}),(0,a.jsxs)(n.p,{children:["Add this line to ",(0,a.jsx)(n.code,{children:"/etc/fstab"})," so that swap available on reboot:"]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"/swap swap swap defaults 0 0\n"})})]}),(0,a.jsx)(l.A,{value:"raspbian",children:(0,a.jsxs)(n.p,{children:["Here is an excellent ",(0,a.jsx)(n.a,{href:"https://pimylifeup.com/raspberry-pi-swap-file/",children:"walk-through of increasing swap space"})," on Raspbian 64."]})})]}),"\n",(0,a.jsx)(n.h4,{id:"raspberry-pi-setup",children:"Setup"}),"\n",(0,a.jsx)(n.p,{children:"Run the following commands to prepare for installation:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Requirements to compile the blockchain\nsudo apt-get install -y build-essential python3-dev\n\n# If you are not using Raspbian 64, add this\nexport PIP_EXTRA_INDEX_URL=https://www.piwheels.org/simple/\n\n# Make sure you have 64-bit Python 3.9 or later\npython3 -c 'import platform; print(platform.architecture())'\n"})}),"\n",(0,a.jsx)(n.h4,{id:"raspberry-pi-install",children:"Proceed"}),"\n",(0,a.jsxs)(n.admonition,{type:"note",children:[(0,a.jsx)(n.p,{children:"If you run into an error during the build process, make sure you are running a 64-bit version of the OS."}),(0,a.jsxs)(n.p,{children:["You can check by running ",(0,a.jsx)(n.code,{children:"uname -a"}),". If it says ",(0,a.jsx)(n.code,{children:"arm7l"}),", you need a 64-bit version of the OS. The ",(0,a.jsx)(n.code,{children:"uname -a"})," output should end with ",(0,a.jsx)(n.code,{children:"aarch64 GNU/Linux"}),"."]})]}),"\n",(0,a.jsxs)(n.p,{children:["Finally, follow the typical ",(0,a.jsx)(n.a,{href:"#from-source",children:"from source installation for Linux"})," to continue."]}),"\n",(0,a.jsx)(n.h4,{id:"raspberry-pi-timelord",children:"Disable Timelord"}),"\n",(0,a.jsx)(n.p,{children:"This is not necessary when installing from source."}),"\n",(0,a.jsx)(n.p,{children:"However, if you install Chia in some other way, disable the timelord build process:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"export BUILD_VDF_CLIENT=N\n"})}),"\n",(0,a.jsx)(n.h3,{id:"other-environments",children:"Other environments"}),"\n",(0,a.jsxs)(r.A,{children:[(0,a.jsx)(l.A,{value:"Docker",label:"Docker",default:!0,children:(0,a.jsxs)(n.p,{children:["Installation instructions for docker are found on the container repo:\n",(0,a.jsx)(n.a,{href:"https://github.com/orgs/Chia-Network/packages/container/package/chia",children:"Docker"})]})}),(0,a.jsxs)(l.A,{value:"WSL2",label:"WSL2",children:[(0,a.jsx)(n.p,{children:"You can run chia-blockchain in Ubuntu 20.04 LTS via WSL2 on Windows."}),(0,a.jsxs)(n.p,{children:["NOTE: WSL2 plotting is currently only ",(0,a.jsx)(n.em,{children:"slightly"})," faster than plotting on the native windows client. WSL2 requires significant tweaking to set up correctly. If you find that daunting, it's probably easier to just use the native windows client."]}),(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"You can not run the GUI"})," as WSL2 doesn't yet support graphical interfaces from WSL2."]}),(0,a.jsx)(n.h4,{id:"check-if-you-already-have-wsl2-or-wsl1-installed",children:"Check if you already have WSL2 or WSL1 installed:"}),(0,a.jsx)(n.p,{children:"From PowerShell, type:"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"wsl -l -v\n"})}),(0,a.jsxs)(n.p,{children:["If you get a listing of help topics for wsl commands, you have WSL1, and need to upgrade. To upgrade, ",(0,a.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/windows/wsl/install-win10#update-to-wsl-2",children:"follow the instructions here"}),". If you get a blank result or a listing of installed Linux versions, you have WSL2 and are OK to proceed."]}),(0,a.jsx)(n.h4,{id:"if-wsl-is-not-installed",children:"If WSL is not installed:"}),(0,a.jsx)(n.p,{children:"From an Administrator PowerShell:"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart\ndism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all\n"})}),(0,a.jsx)(n.p,{children:"You will be prompted to reboot."}),(0,a.jsx)(n.h4,{id:"installing-a-new-wsl2-instance",children:"Installing a new WSL2 instance:"}),(0,a.jsx)(n.p,{children:"Install Ubuntu 20.04 LTS from the Microsoft Store and run it and complete its initial install steps. You now have a linux bash shell environment that can run linux native software on Windows."}),(0,a.jsx)(n.h4,{id:"install-from-source---wsl2",children:"Install from source - WSL2"}),(0,a.jsxs)(n.p,{children:["See ",(0,a.jsx)(n.a,{href:"/installation#from-source",children:"install from source"})," for detailed instruction."]}),(0,a.jsx)(n.p,{children:"Running a standalone Windows wallet gui is deprecated but may return in later versions. You can run the Windows version and share keys. You can also plot in WSL2 and migrate the plots to a Windows farmed plot directory."}),(0,a.jsx)(n.h4,{id:"increasing-the-wsl-maximum-storage-capacity",children:"Increasing the WSL Maximum Storage Capacity"}),(0,a.jsxs)(n.p,{children:["WSL2 uses a Virtual Hardware Disk (VHD) to store files, and it automatically resizes as files grow. ",(0,a.jsx)(n.strong,{children:"However, the VHD has an initial maximum size of 256 GB."})," Therefore, the default WSL2 VHD is probably only capable of plotting k=30 plots. To plot anything larger, you will need to increase the maximum allowable size. ",(0,a.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/windows/wsl/compare-versions#expanding-the-size-of-your-wsl-2-virtual-hardware-disk",children:"Follow the guide here."})]}),(0,a.jsx)(n.h4,{id:"setting-a-maximum-limit-to-wsl2-memory-access",children:"Setting a maximum limit to WSL2 memory access"}),(0,a.jsxs)(n.p,{children:["If you try plotting Chia in WSL2 without limiting the memory access, WSL2 will use 100% of your available machine's memory, and your computer will get bogged down and begin swapping memory to your hard drive. This will severely cripple your plotting speeds. To set the maximum memory that WSL2 is allowed to use, create a configuration file ",(0,a.jsx)(n.a,{href:"https://www.bleepingcomputer.com/news/microsoft/windows-10-wsl2-now-allows-you-to-configure-global-options/",children:"as described in this guide"}),"."]}),(0,a.jsx)(n.h4,{id:"wsl-vhd-plotting-nuances",children:"WSL VHD Plotting Nuances"}),(0,a.jsx)(n.p,{children:"Plotting within WSL2 can write to either the native VHD (which is EXT4) or to any other drive, which can be NTFS or any other FS-type. Writing to the native VHD is faster than writing out to another drive."}),(0,a.jsx)(n.p,{children:"Plotting uses three commands for directory control:"}),(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"-t"})," for initial temp directory. Phases 1 and 2 happen here."]}),(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"-2"})," for secondary temp directory. Phase 3 (compression) happens here."]}),(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"-d"})," for final destination. Phase 4 happens here."]}),(0,a.jsxs)(n.p,{children:["Plotting works such that ",(0,a.jsx)(n.code,{children:"-t"})," and ",(0,a.jsx)(n.code,{children:"-2"})," require the exact same amount of storage space. Therefore, if ",(0,a.jsx)(n.code,{children:"-t"})," and ",(0,a.jsx)(n.code,{children:"-2"})," point to the same drive, that drive needs 2x the final file size + 1x the max working file size."]}),(0,a.jsxs)(n.p,{children:["For maximum speed, ",(0,a.jsx)(n.code,{children:"-t"})," and ",(0,a.jsx)(n.code,{children:"-2"})," should be inside the WSL2 filesystem. Something like: ",(0,a.jsx)(n.code,{children:"-t ~/chia_temp -2 ~/chia_temp"}),". Just beware that the WSL2 VHD will need a much larger maximum capacity."]}),(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"-d"})," can point to any other drive for the final destination."]})]}),(0,a.jsxs)(l.A,{value:"Amazon Linux 2",label:"Amazon Linux 2",children:[(0,a.jsx)(n.h4,{id:"install-from-source---amazon-linux-2",children:"Install from source - Amazon Linux 2"}),(0,a.jsxs)(n.p,{children:["See ",(0,a.jsx)(n.a,{href:"/installation#from-source",children:"install from source"})," for detailed instruction."]}),(0,a.jsx)(n.h4,{id:"install-from-binary-package",children:"Install from binary package"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Install chia-blockchain as a binary package\npython -m venv venv\nln -s venv/bin/activate\n. ./activate\npip install --upgrade pip\n\npip install --extra-index-url https://pypi.chia.net/simple chia-blockchain miniupnpc\n"})})]}),(0,a.jsxs)(l.A,{value:"FreeBSD",label:"FreeBSD",children:[(0,a.jsx)(n.p,{children:(0,a.jsx)(n.em,{children:(0,a.jsx)(n.strong,{children:"These instructions were tested with Chia 1.1.4 on FreeBSD 11.3- and 11.4-RELEASE, newer versions may exist"})})}),(0,a.jsx)(n.hr,{}),(0,a.jsx)(n.h4,{id:"upgrading-existing-chia-installs",children:"Upgrading Existing Chia Installs"}),(0,a.jsxs)(n.p,{children:["If you're upgrading from a previously built chia installation, exit from your previous venv environment (",(0,a.jsx)(n.code,{children:"deactivate"}),"), create a new directory in which to place the latest Chia (e.g. ",(0,a.jsx)(n.code,{children:"mkdir ~/chia-1.0.5 && cd ~/chia-1.0.5"}),"), clone the latest repo (",(0,a.jsx)(n.code,{children:"git clone https://github.com/Chia-Network/chia-blockchain.git -b latest"}),"), enter it and create a new Python virtual environment within it (",(0,a.jsx)(n.code,{children:"python3 -m venv venv"}),"). Now, activate the newest environment (",(0,a.jsx)(n.code,{children:". venv/bin/activate"}),"), upgrade pip (",(0,a.jsx)(n.code,{children:"pip install --upgrade pip"}),"). Now you may skip down to the ",(0,a.jsx)(n.a,{href:"#clvm_rs",children:"clvm_rs install section"})," and begin there."]}),(0,a.jsx)(n.hr,{}),(0,a.jsx)(n.h4,{id:"why-this-manual-installation",children:"Why This Manual Installation?"}),(0,a.jsx)(n.p,{children:"Currently the only way to ensure Chia builds on FreeBSD is to do it from the source. By following these instructions to the letter, you should have no problem building the latest Chia from source on a FreeBSD 11.3 or 11.4. This should also work on FreeBSD 12, possibly with some modifications - e.g. if the ports py-cryptography version is newer than 3.3.2, simply edit as needed - or if your preferred Python version is 3.8+ it should all still work considering you modify the package names as necessary."}),(0,a.jsx)(n.h4,{id:"notes-on-freenas-truenas",children:"Notes on FreeNAS (TrueNAS)"}),(0,a.jsx)(n.p,{children:"If you had been using NFS or Samba sharing to expose your plots to a harvester on another OS, such as Linux, you can instead build Chia within a jail (see the FreeNAS manual for 'jails'), expose your plot directories to it and run the harvester within. In my experience, it provides lower-latency and more reliable access to the plots since the disks are direct-attached and not being provided through an extra few layers of network protocols."}),(0,a.jsx)(n.p,{children:"If you are using a fresh jail created by the FreeNAS web GUI you may need to install openssh and setup a ssh key to login as root because by default it appears PAM password logins do not work. The jail shell CLI provided by the FreeNAS GUI allows copy and pasting so you can easily paste your public-key into /root/.ssh/authorized_keys && chmod -R 700 /root/.ssh."}),(0,a.jsx)(n.p,{children:"These instructions would be applicable to 11.3 and 11.4 jails created within FreeNAS 11 only. Version 12 (FreeBSD 12) \u2714"}),(0,a.jsx)(n.h4,{id:"other-notes",children:"Other Notes"}),(0,a.jsx)(n.p,{children:"These instructions will have you building both chia-blockchain and clvm_rs from github source, and python-cryptography from FreeBSD's ports."}),(0,a.jsx)(n.p,{children:'The result of this build will be the "chia version" showing the current release branch ahead by 1 and in "dev0"; for instance building 1.0.1 results in "chia version" returning "1.0.2.dev0". If someone knows why this is and how to fix it, please, edit and correct this! It does not happen on Linux.'}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.em,{children:(0,a.jsx)(n.strong,{children:"These instructions assume a fresh FreeBSD 11 installation!"})})}),(0,a.jsx)(n.h4,{id:"discouraged",children:"Discouraged?"}),(0,a.jsxs)(n.p,{children:["Following the instructions in this document will result in a working Chia CLI build on FreeBSD 11 if you follow step-by-step starting from a vanilla FreeBSD installation. Is something broken? Compare the commands you typed, accessible in your ",(0,a.jsx)(n.strong,{children:"bash"})," shell history, and match them with each command in this document. If you feel you've messed something up, do the following:"]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"# if you have (venv) in your shell prompt, type deactivate\ndeactivate\n# remove the chia-blockchain directory which will contain clvm_rs and the Python venv\nrm -rf chia-blockchain\n# ... now start again! You don't need to do all the setup steps but instead may start at the upgrade notes above if you had finished up to the py-cryptography ports build.\n"})}),(0,a.jsx)(n.h4,{id:"pre-requisite-package-installation",children:"Pre-requisite package installation"}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.em,{children:"If starting the build again after a failure and you have not re-installed FreeBSD, don't just skip this package installation section! You may have missed one or more software packages critical to the build."})}),(0,a.jsx)(n.p,{children:"The 'pkg', 'portsnap' and port build are to be run as root. Everything else can be run from a normal non-root user."}),(0,a.jsx)(n.p,{children:"As root, update pkg and ports, and then install all packages as instructed below."}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"# Update your packages and ports; if ports are already installed as part of your fresh install run portsnap update instead of fetch/extract.\npkg update\nportsnap fetch && portsnap extract\n\n# Install bash if you have not; the default csh will not suffice for the build scripts.\npkg install bash\n# change your shell to bash\nchsh -s /usr/local/bin/bash\n# run bash\n/usr/local/bin/bash\n"})}),(0,a.jsx)(n.p,{children:"Make sure you change the shell for your non-root chia-blockchain user. If you're opting to run Chia as root, you can skip this. If you are root, run this as it appears below; otherwise, you can omit the username because you are already that user."}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"chsh -s /usr/local/bin/bash NONROOT_USERNAME\n"})}),(0,a.jsx)(n.p,{children:"Now proceed with installing the mandatory development tools."}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"pkg install lang/gcc9 gcc gmake cmake\n\n"})}),(0,a.jsx)(n.h4,{id:"gcc-notes",children:"gcc notes"}),(0,a.jsx)(n.p,{children:"After installing gcc version 9.0, this message appears:"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"To ensure binaries built with this toolchain find appropriate versions\nof the necessary run-time libraries, you may want to link using\n\n  -Wl,-rpath=/usr/local/lib/gcc9\n"})}),(0,a.jsxs)(n.p,{children:["It's probably possible to build the libraries in a way that doesn't require ",(0,a.jsx)(n.code,{children:"export LD_LIBRARY_PATH=/usr/local/lib/gcc9"}),'. If you know how click "edit" and dish.']}),(0,a.jsx)(n.h4,{id:"install-rust-python-and-everything-else",children:"Install rust, Python, and everything else."}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"pkg install lang/rust\npkg install lang/python37 py37-pip py37-setuptools py37-wheel py37-sqlite3 py37-cffi py37-virtualenv py37-maturin python\npkg install node npm git openssl\n"})}),(0,a.jsxs)(n.p,{children:["If you are ssh'ing into the machine you might want to use 'screen' so that processes will continue even if you logout. For more information: ",(0,a.jsx)(n.a,{href:"https://www.freebsd.org/cgi/man.cgi?query=screen",children:"https://www.freebsd.org/cgi/man.cgi?query=screen"}),". 'tmux' is also a great alternative especially if you use iTerm2 on macOS as it supports native tabs and windows with the '-CC' CLI option."]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"# optional packages\npkg install screen tmux\n"})}),(0,a.jsx)(n.h4,{id:"repo-cloning-and-virtual-environment-venv-activation",children:"Repo Cloning and Virtual Environment (venv) Activation"}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"From this point on, with the exception of the security/py-cryptography port build process (and any other exceptions noted), you may proceed as a normal user."})}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'# Clone the latest chia-blockchain repository, via HTTP:\ngit clone https://github.com/Chia-Network/chia-blockchain.git -b latest\n# or with SSH:\ngit clone git@github.com:Chia-Network/chia-blockchain.git -b latest\n# Note: you can specify the branch by adding "--branch <version>" like: git clone http://github.com/Chia-Network/chia-blockchain.git --branch 1.0.1\n\n'})}),(0,a.jsxs)(n.p,{children:["Create a virtual environment directory 'venv' from ",(0,a.jsx)(n.em,{children:"within"})," the 'chia-blockchain' directory and activate it before proceeding"]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"cd chia-blockchain\npython3 -m venv venv\nsource venv/bin/activate\n"})}),(0,a.jsx)(n.p,{children:'You are now in the virtual environment that Python (and so chia) will use. You should have a "(venv)" prefix to your terminal prompt to confirm the venv is working.'}),(0,a.jsx)(n.p,{children:"Upgrade pip:"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"pip install --upgrade pip\n"})}),(0,a.jsx)(n.p,{children:"To exit the virtual environment:"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"deactivate\n"})}),(0,a.jsx)(n.h4,{id:"building-py-cryptography-from-ports",children:"Building py-cryptography from ports"}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.em,{children:(0,a.jsx)(n.strong,{children:"You'll need to switch to root for this part. If you're already using root remember to leave the virtual environment for this step."})})}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"cd /usr/ports/security/py-cryptography\n\n# Instruct 'make' that the SSL library is openssl.\n# Also force the Python version in case the port tries for a higher one\necho \"DEFAULT_VERSIONS+=ssl=openssl python=3.7 python3=3.7\" >> /etc/make.conf\n\nmake\n"})}),(0,a.jsx)(n.p,{children:"You'll probably see a bunch of warnings and notices; these are not errors and it will build."}),(0,a.jsx)(n.p,{children:"Do NOT run make install. We will do our own py-cryptography install because 'make install' does not copy to our virtual environment. (If you know how to change this, please edit)."}),(0,a.jsx)(n.p,{children:"If you are running inside a jail and make fails with an error about the OSVERSION not matching UNAME, you will need to set the UNAME_r environment variable to match your jails OSVERSION:"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"# Adjust the value to match your jails OSVERSION\nexport UNAME_r=11.4-RELEASE\n"})}),(0,a.jsxs)(n.p,{children:["A full version list can be found ",(0,a.jsx)(n.a,{href:"https://docs.freebsd.org/en/books/porters-handbook/book.html#versions",children:"here"}),"."]}),(0,a.jsx)(n.p,{children:"Once complete switch back to your non-root user if you so optioned. You must now be in your venv once again."}),(0,a.jsx)(n.h4,{id:"clvm_rs",children:"clvm_rs"}),(0,a.jsxs)(n.p,{children:["Build and install the current version of ",(0,a.jsx)(n.a,{href:"https://github.com/Chia-Network/clvm_rs",children:"clvm_rs"}),".\nThese instructions were created for version 0.1.7 but a newer version may exist."]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"git clone http://github.com/Chia-Network/clvm_rs.git --branch 0.1.7\ncd clvm_rs\nmaturin develop --release\npip install git+https://github.com/Chia-Network/clvm@use_clvm_rs\n"})}),(0,a.jsx)(n.p,{children:"clvm_rs 0.1.7 is now installed in your virtual environment."}),(0,a.jsx)(n.h4,{id:"install-py-cryptography-to-the-venv",children:"Install py-cryptography to the venv"}),(0,a.jsx)(n.p,{children:"Copy py-cryptography and its meta-data from the staging directory to your virtual environment:"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"cp -R /usr/ports/security/py-cryptography/work-py37/stage/usr/local/lib/python3.7/site-packages/cryptography ${VIRTUAL_ENV}/lib/python3.7/site-packages/cryptography\ncp -R /usr/ports/security/py-cryptography/work-py37/stage/usr/local/lib/python3.7/site-packages/cryptography-3.3.2-py3.7.egg-info ${VIRTUAL_ENV}/lib/python3.7/site-packages/cryptography-3.3.2-py3.7.egg-info\n"})}),(0,a.jsx)(n.p,{children:"Clear any Python byte-code cache files that may contain the old path. These should be re-built by the interpreter but we like a clean environment."}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'find ${VIRTUAL_ENV}/lib/python3.7/site-packages/cryptography -name __pycache__ | xargs -I{} rm -rf "{}"\n'})}),(0,a.jsx)(n.h4,{id:"chia-modifications-and-building-chia-itself",children:"Chia modifications and Building Chia Itself"}),(0,a.jsx)(n.p,{children:"Switch to your chia-blockchain clone directory. You will need to edit two files."}),(0,a.jsx)(n.p,{children:"Using your favorite text editor, modify setup.py to edit the cryptography package version to 3.3.2."}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'"cryptography==3.4.6" --\x3e to --\x3e "cryptography==3.3.2"\n'})}),(0,a.jsx)(n.p,{children:"Now you must modify chia/util/keychain.py to provide a static key when using the Python keyring. This is mandatory otherwise every time the keyring is accessed your passphrase will need to be entered on the command line, and for the CLI daemon this will not do."}),(0,a.jsx)(n.p,{children:"On line 25 of chia/util/keychain.py, change:"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'elif platform=="linux":\n'})}),(0,a.jsx)(n.p,{children:"to:"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'elif platform=="linux" or platform.startswith("freebsd"):\n'})}),(0,a.jsx)(n.p,{children:'On line 27 of the same file, change the passphrase from "your keyring password" to whatever you wish your passphrase to be. This is intended to be fixed in future versions but, for the time being, Linux and FreeBSD must have the keyphrase provided statically.'}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'keyring.keyring_key = "your keyring password"  # type: ignore\n'})}),(0,a.jsx)(n.p,{children:"can be changed like so:"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'keyring.keyring_key = "Too Many Secrets"\n'})}),(0,a.jsx)(n.p,{children:"Now, you will build Chia!"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"sh install.sh\n"})}),(0,a.jsx)(n.p,{children:"Once done, run:"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"chia init\n"})}),(0,a.jsx)(n.p,{children:'NOTE: if you need to disable UPnP - a protocol which automatically sets up port-forwarding on routers using NAT which is a typical setup at any residence with broadband - set "enable_upnp: False" in config.yaml. You can use the one-liner below or do it yourself.'}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"sed -i .bak 's/enable_upnp: True/enable_upnp: False' ~/.chia/mainnet/config/config.yaml\n"})}),(0,a.jsxs)(n.p,{children:["While you don't absolutely need port 8444 forwarded to your Chia node, it is advised that you do so that other peers may connect to you instead of you solely connecting to them. For the average at-home farmer it is advised you do not disable UPnP unless you absolutely know what you're doing or have another node on your local network already using the port and are planning to ",(0,a.jsx)(n.a,{href:"https://docs.chia.net/farming-on-many-machines/",children:"Farm on Many Machines"}),"."]}),(0,a.jsx)(n.hr,{}),(0,a.jsx)(n.h4,{id:"installed-and-ready-to-farm",children:"Installed and Ready to Farm!"}),(0,a.jsxs)(n.p,{children:["That's it! Provided the instructions were followed to the T, and the build is a fresh FreeBSD 11.3 or 11.4, either hardware or FreeNAS jailed, you should be good to go! Now go to town with ",(0,a.jsx)(n.code,{children:"chia start node"})," or whatever floats your boat."]}),(0,a.jsxs)(n.p,{children:["More details can be found in the ",(0,a.jsx)(n.a,{href:"https://docs.chia.net/introduction",children:"Chia Introduction"}),"."]})]}),(0,a.jsxs)(l.A,{value:"OpenBSD",label:"OpenBSD",children:[(0,a.jsx)(n.p,{children:(0,a.jsx)(n.em,{children:(0,a.jsx)(n.strong,{children:"These instructions were tested with Chia 1.1.4 on OpenBSD/amd64 6.8, newer versions may exist"})})}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:'# install required packages\ndoas pkg_add git python-3.8.6 rust cmake gmake gmpxx\n\n# create a new user with the login class "daemon" so that it can use all\n# available memory for plotting, then switch to that user\ndoas useradd -m -Ldaemon chia\ndoas -u chia ksh -l\ncd\n\n# clone repos\ngit clone https://github.com/Chia-Network/chia-blockchain.git --branch latest\ngit clone https://github.com/Chia-Network/clvm_rs.git --branch 0.1.7\ngit clone https://github.com/PyO3/maturin.git --branch v0.10.3\ngit clone https://github.com/timkuijsten/chiavdf.git --branch openbsd # chiavdf/pull/71\n\nexport BUILD_VDF_CLIENT=N\n\n# create python virtual environment for Chia\ncd chia-blockchain/\npython3 -m venv venv\n. ./venv/bin/activate\npip install --upgrade pip\n\ncd ../chiavdf/\npip install .\n\ncd ../maturin/\n# don\'t pass static compiler flags to the rust linker because that would cause\n# a core dump, possibly because of resource limits\nsed -i \'s|cargo_args.extend(\\["--", "-C", "link-arg=-s"\\])|#cargo_args.extend(\\["--", "-C", "link-arg=-s"\\])|\' setup.py\npip install .\n\ncd ../clvm_rs/\nmaturin develop --release\n\n# XXX should be a more elegant way...\ncp target/release/libclvm_rs.so ../chia-blockchain/clvm_rs.so\n\ncd ../chia-blockchain/\n# use our previous compile results\nsed -i \'s|"chiavdf==1.0.1"|"chiavdf==1.0.2.dev1"|\' setup.py\n\n# use a hardcoded random secret so the software can run headless and without\n# user intervention\nsed -i \'s|elif platform == "linux":|elif platform == "linux" or platform.startswith("openbsd"):|\' chia/util/keychain.py\n_keyring=$(dd status=none if=/dev/random bs=8 count=1 | od -H | tr -d \' \' | head -1 | cut -b8-25)\nsed -i \'s|keyring.keyring_key = "your keyring password"|keyring.keyring_key = "\'"$_keyring"\'"|\' chia/util/keychain.py\nunset _keyring\n\nsh install.sh\n\n# DONE, Chia is installed now, start using it by creating a config and keys\n\nchia init\nchia keys generate\n\n# if you are going to setup port forwarding, disable upnp\nchia configure --enable-upnp false\n\nchia start node wallet farmer harvester\n'})}),(0,a.jsx)(n.h4,{id:"gui-build--usage",children:"GUI Build / Usage"}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.em,{children:"WARNING: the following has only been tested with Chia 1.0beta7 on OpenBSD/amd64 6.7"})}),(0,a.jsx)(n.p,{children:"The build instructions in the previous sections above must be completed successfully before attempting to build the GUI using the procedure below."}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.em,{children:"WARNING: Although the following steps have been used successfully, the resulting GUI will be run with an older version of electron than is recommended by the Chia Network team. This may result in unexpected problems."})}),(0,a.jsx)(n.h4,{id:"prerequisite-package-installation",children:"Prerequisite package installation"}),(0,a.jsx)(n.p,{children:"As root (or using doas / sudo), first install some additional OpenBSD packages required for GUI usage:"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"pkg_add -i electron\n"})}),(0,a.jsx)(n.h4,{id:"build",children:"Build"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"cd chia-blockchain\n. ./activate\n\ncd chia-blockchain-gui\n\n# build / set up GUI\nnpm run build\n\n# Remove failed electron 8.2.5 install and fall back to the OpenBSD\n# ports tree 8.2.0 electron, which currently (as of 6/10/2020) works.\n#\n# This may not continue to work in the future.  A full solution to\n# this requires official OpenBSD electron builds, provided by the\n# electron project itself.\n\nrm -rf node_modules/electron\n"})}),(0,a.jsx)(n.h4,{id:"launch-gui",children:"Launch GUI"}),(0,a.jsx)(n.p,{children:"The GUI can now be launched using the following commands:"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"cd chia-blockchain\n. ./activate\n\ncd chia-blockchain-gui\nnpm run electron\n"})})]})]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"directory-structure",children:"Directory Structure"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:".chia/\n\u2514\u2500\u2500 mainnet/\n      \u251c\u2500 config/\n      \u2502      \u251c\u2500 config.yaml\n      \u2502      \u2514\u2500 ssl/\n      \u251c\u2500 db/\n      \u251c\u2500 log/\n      \u2502      \u2514\u2500 debug.log\n      \u251c\u2500 run/\n      \u2514\u2500 wallet/\n"})}),"\n",(0,a.jsxs)(n.p,{children:["All data used by the Chia blockchain is stored at the location set with the ",(0,a.jsx)(n.code,{children:"CHIA_ROOT"})," environment variable, which defaults to ",(0,a.jsx)(n.code,{children:"~/.chia/mainnet"})," (the hidden folder ",(0,a.jsx)(n.code,{children:".chia"})," inside of your home directory) if unset."]}),"\n",(0,a.jsxs)(n.p,{children:["The blockchain database is stored under the ",(0,a.jsx)(n.code,{children:"db"})," subdirectory. It is possible to copy the database file to use as a backup or put on another machine. To resync the full node from the start, delete the database file and restart the node."]}),"\n",(0,a.jsxs)(n.p,{children:["The config file under the ",(0,a.jsx)(n.code,{children:"config"})," subdirectory. Its name is ",(0,a.jsx)(n.code,{children:"config.yaml"}),", and it can be used to find the root cause of problems."]}),"\n",(0,a.jsxs)(n.p,{children:["It is possible to configure the ",(0,a.jsx)(n.code,{children:"CHIA_ROOT"})," environment variable to another location. A common use for this would be to switch it to ",(0,a.jsx)(n.code,{children:"~/.chia/testnet"})," to have a separate config for the testnet."]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"cli",children:"CLI"}),"\n",(0,a.jsxs)(n.p,{children:["Using the CLI gives greater and more precise control over the various Chia services such as the full node. As of 1.8.2, when installing from an installer or package CLI commands will be automatically added to your path for Windows and Linux. For more details on the commands, read the ",(0,a.jsx)(n.a,{href:"/cli",children:"CLI Reference"}),"."]}),"\n",(0,a.jsxs)(r.A,{children:[(0,a.jsxs)(l.A,{value:"MacOS",label:"MacOS",default:!0,children:[(0,a.jsx)(n.p,{children:"The CLI commands are stored in the following location:"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"/Applications/Chia.app/Contents/Resources/app.asar.unpacked/daemon\n"})}),(0,a.jsx)(n.p,{children:"To be able to use these commands without going to that directory in the terminal, add it to the path."}),(0,a.jsx)(n.p,{children:"This can be done by running the following command:"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"export PATH=/Applications/Chia.app/Contents/Resources/app.asar.unpacked/daemon:$PATH\n"})}),(0,a.jsxs)(n.p,{children:["To load this on startup, add it to the ",(0,a.jsx)(n.code,{children:".bashrc"}),", ",(0,a.jsx)(n.code,{children:".bash_profile"}),", or ",(0,a.jsx)(n.code,{children:".zshrc"})," file depending on which is used by the shell."]})]}),(0,a.jsxs)(l.A,{value:"Windows",label:"Windows",children:[(0,a.jsx)(n.p,{children:"The CLI commands are stored in the following location:\nIf installed for the user it can be found at"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"~\\AppData\\Local\\Programs\\Chia\\resources\\app.asar.unpacked\\daemon\n"})}),(0,a.jsx)(n.p,{children:"If installed for all users it can be found at"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"C:\\Program Files\\Chia\\resources\\app.asar.unpacked\\daemon\\chia.exe\n"})})]}),(0,a.jsxs)(l.A,{value:"Linux",label:"Linux",children:[(0,a.jsx)(n.p,{children:"The CLI commands are stored in the following location:"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"/usr/bin/chia\n"})}),(0,a.jsxs)(n.p,{children:["This location should already be included in your system's PATH, so you should be able to run ",(0,a.jsx)(n.code,{children:"chia"})," directly from the command line without any further setup."]})]})]}),"\n",(0,a.jsx)(n.h2,{id:"gui",children:"GUI"}),"\n",(0,a.jsx)(n.p,{children:"The GUI is the most user-friendly method of interacting with Chia for non-developer uses, and it can be installed manually from the CLI if you installed from source."}),"\n",(0,a.jsxs)(r.A,{children:[(0,a.jsxs)(l.A,{value:"MacOS / Linux",label:"MacOS / Linux",default:!0,children:[(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Install the GUI\n. ./install-gui.sh\n\n# Start the GUI\nsh start-gui.sh\n"})}),(0,a.jsx)(n.p,{children:"The following is how you update to the latest version:"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Change directory into the GUI\ncd chia-blockchain-gui\n\n# Pull the latest version\ngit fetch\n\n# Change directory\ncd ..\n\n# Change permissions on install script\nchmod +x ./install-gui.sh\n\n# Install the new version of the GUI\n./install-gui.sh\n\n# Start the GUI\nbash start-gui.sh\n"})})]}),(0,a.jsxs)(l.A,{value:"Windows",label:"Windows",children:[(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Install the GUI\n. .\\Install-gui.ps1\n\n# Change directory\ncd chia-blockchain-gui\n\n# Start the GUI\nStart-Process -NoNewWindow npm run electron\n"})}),(0,a.jsx)(n.p,{children:"The following is how you update to the latest version:"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Change directory\ncd chia-blockchain-gui\n\n# Pull the latest version\ngit fetch\n\n# Change directory\ncd ..\n\n# Install the new version of the GUI\n./Install-gui.ps1\n\n# Change directory\ncd chia-blockchain-gui\n\n# Start the GUI\nStart-Process -NoNewWindow npm run electron\n"})})]})]}),"\n",(0,a.jsx)(n.h2,{id:"initial-startup",children:"Initial Startup"}),"\n",(0,a.jsx)(n.p,{children:"Upon launch the GUI will set everything up automatically, however if installing from source then the initial setup needs to be done manually via the CLI."}),"\n",(0,a.jsx)(n.p,{children:"First, initialize the Chia configuration files:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"chia init\n"})}),"\n",(0,a.jsx)(n.p,{children:"Then, generate your keys:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"chia keys generate\n"})}),"\n",(0,a.jsx)(n.p,{children:"Finally, start the farmer and its full node:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"chia start farmer\n"})}),"\n",(0,a.jsx)(n.h3,{id:"systemd",children:"Systemd"}),"\n",(0,a.jsxs)(n.p,{children:["Linux users who have installed the ",(0,a.jsx)(n.code,{children:"chia-blockchain-cli"})," package using ",(0,a.jsx)(n.a,{href:"https://docs.chia.net/installation/#using-the-cli",children:"apt, yum, or dnf"})," will receive systemd configuration files for initializing and managing the Chia processes. Each Chia service needs to be managed separately with systemd, except for the chia-daemon, which will be initialized automatically when any other Chia service is started with systemd (for example, the data-layer service will not automatically start the wallet service - both need to be started individually with systemd). A user must be specified during the initialization to ensure the resulting process can find the Chia root directory. The included systemd files support the default Chia directory location of ",(0,a.jsx)(n.code,{children:"/home/<user>/.chia/mainnet"})," only."]}),"\n",(0,a.jsxs)(n.p,{children:["To start a Chia process with systemd, the command format is ",(0,a.jsx)(n.code,{children:"systemctl start chia-<service-name>@<user>"}),". For example, if starting a Chia full node for the Linux user ",(0,a.jsx)(n.code,{children:"ubuntu"}),", the command would be:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"systemctl start chia-full-node@ubuntu\n"})}),"\n",(0,a.jsx)(n.p,{children:"To start the full-node at system boot:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"systemctl enable chia-full-node@ubuntu\n"})}),"\n",(0,a.jsx)(n.p,{children:"The services available to be managed with systemd are:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"chia-crawler\nchia-data-layer\nchia-data-layer-http\nchia-farmer\nchia-full-node\nchia-harvester\nchia-introducer\nchia-seeder\nchia-timelord\nchia-wallet\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Note that the ",(0,a.jsx)(n.code,{children:"chia-timelord"})," service runs the timelord coordinator service, but not the VDF clients."]}),"\n",(0,a.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,a.jsx)(n.p,{children:"Sometimes stray daemons left over from previously running processes will cause strange bugs/errors when upgrading to a new version. Make sure all daemons and chia processes are killed before installing or upgrading."}),"\n",(0,a.jsxs)(n.p,{children:["This is normally done by executing ",(0,a.jsx)(n.code,{children:"chia stop -d all"})," from the upgrade example above.",(0,a.jsx)(n.br,{}),"\n","But it doesn't hurt to double check using ",(0,a.jsx)(n.code,{children:"ps -Af | grep chia"})," to make sure there are no chia processes left running. You may have to manually kill the chia daemon if an install and chia start was performed without first running ",(0,a.jsx)(n.code,{children:"chia stop -d all"})]}),"\n",(0,a.jsx)(n.p,{children:"If all else fails, rebooting the machine and restarting the chia daemon/processes usually does the trick."}),"\n",(0,a.jsx)(n.h2,{id:"testnets",children:"Testnets"}),"\n",(0,a.jsxs)(n.p,{children:["To join a testnet, follow the instructions on ",(0,a.jsx)(n.a,{href:"/testnets#join-the-official-testnet",children:"How to Join the Official Testnet"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["It is recommended that you keep a separate testnet environment by prepending ",(0,a.jsx)(n.code,{children:'CHIA_ROOT="~/.chia/testnetx"'})," to all of your cli commands. For example, ",(0,a.jsx)(n.code,{children:'CHIA_ROOT="~/.chia/testnet11" chia init'}),". An easier way to do this is to run ",(0,a.jsx)(n.code,{children:'export CHIA_ROOT="~/.chia/testnet11"'})," so that all commands will use testnet11 instead of mainnet. You can update all config values to the testnet values by running ",(0,a.jsx)(n.code,{children:"chia configure -t true"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"beta-and-release-candidate-installations",children:"Beta and release candidate installations"}),"\n",(0,a.jsx)(n.h3,{id:"from-source-1",children:"From Source"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.em,{children:"This method is primarily intended for contributing to the Chia codebase"})}),"\n",(0,a.jsxs)(r.A,{defaultValue:"linux-macos",groupId:"source",values:[{label:"Linux/MacOS",value:"linux-macos"},{label:"Windows",value:"windows"}],children:[(0,a.jsx)(l.A,{value:"linux-macos",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Download chia-blockchain\ngit clone https://github.com/Chia-Network/chia-blockchain -b latest --recurse-submodules\n\n# Change directory\ncd chia-blockchain\n\n# Checkout the beta or release candidate by tag, tags can be found https://github.com/Chia-Network/chia-blockchain/tags.\ngit checkout tags/2.1.2-rc2\n\n# Install dependencies\nsh install.sh\n\n# Activate virtual environment\n. ./activate\n\n# Initialize\nchia init\n"})})}),(0,a.jsx)(l.A,{value:"windows",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Download chia-blockchain\ngit clone https://github.com/Chia-Network/chia-blockchain -b latest --recurse-submodules\n\n# Change directory\ncd chia-blockchain\n\n# Checkout the beta or release candidate by tag, tags can be found https://github.com/Chia-Network/chia-blockchain/tags.\ngit checkout tags/2.1.2-rc2\n\n# Install dependencies\n./Install.ps1\n\n# Activate virtual environment\n. ./venv/Scripts/Activate.ps1\n\n# Initialize\nchia init\n"})})})]}),"\n",(0,a.jsx)(n.h3,{id:"from-packaged-installer",children:"From packaged installer"}),"\n",(0,a.jsxs)(r.A,{defaultValue:"apt",groupId:"source",values:[{label:"Apt",value:"apt"},{label:"exe, deb, dmg, rpm",value:"exe, deb, dmg, rpm"}],children:[(0,a.jsx)(l.A,{value:"apt",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'# Install packages\nsudo apt-get update\nsudo apt-get install ca-certificates curl gnupg\n\n# Add GPG key\ncurl -sL https://repo.chia.net/FD39E6D3.pubkey.asc | sudo gpg --dearmor -o /usr/share/keyrings/chia.gpg\n\n# Set up repository\necho "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/chia.gpg] https://repo.chia.net/prerelease/debian/ prerelease main" | sudo tee /etc/apt/sources.list.d/chia-blockchain-prerelease.list > /dev/null\nsudo apt-get update\n\n# Install chia-blockchain\nsudo apt-get install chia-blockchain\n\n# Use chia-blockchain-cli instead for CLI only\n'})})}),(0,a.jsx)(l.A,{value:"exe, deb, dmg, rpm",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Navigate to downloads page\nOpen https://github.com/Chia-Network/chia-blockchain/releases in a web browser\n\n# Download the correct asset\nNavigate to the release candidate of interest and download the necessary installer for your OS (ex. exe for windows)\n\n# Install the downloaded installer\nUsing your system finder/file explorer install the downloaded installer (note - make sure no other versions of chia are installed prior to this step)\n"})})})]})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}},9329:(e,n,i)=>{i.d(n,{A:()=>r});i(6540);var t=i(4164);const a={tabItem:"tabItem_Ymn6"};var s=i(4848);function r(e){let{children:n,hidden:i,className:r}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,t.A)(a.tabItem,r),hidden:i,children:n})}},5537:(e,n,i)=>{i.d(n,{A:()=>w});var t=i(6540),a=i(4164),s=i(5627),r=i(6347),l=i(372),o=i(604),c=i(1861),h=i(8749);function d(e){return t.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,t.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:n,children:i}=e;return(0,t.useMemo)((()=>{const e=n??function(e){return d(e).map((e=>{let{props:{value:n,label:i,attributes:t,default:a}}=e;return{value:n,label:i,attributes:t,default:a}}))}(i);return function(e){const n=(0,c.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,i])}function p(e){let{value:n,tabValues:i}=e;return i.some((e=>e.value===n))}function m(e){let{queryString:n=!1,groupId:i}=e;const a=(0,r.W6)(),s=function(e){let{queryString:n=!1,groupId:i}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!i)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return i??null}({queryString:n,groupId:i});return[(0,o.aZ)(s),(0,t.useCallback)((e=>{if(!s)return;const n=new URLSearchParams(a.location.search);n.set(s,e),a.replace({...a.location,search:n.toString()})}),[s,a])]}function g(e){const{defaultValue:n,queryString:i=!1,groupId:a}=e,s=u(e),[r,o]=(0,t.useState)((()=>function(e){let{defaultValue:n,tabValues:i}=e;if(0===i.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!p({value:n,tabValues:i}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${i.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const t=i.find((e=>e.default))??i[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:s}))),[c,d]=m({queryString:i,groupId:a}),[g,y]=function(e){let{groupId:n}=e;const i=function(e){return e?`docusaurus.tab.${e}`:null}(n),[a,s]=(0,h.Dv)(i);return[a,(0,t.useCallback)((e=>{i&&s.set(e)}),[i,s])]}({groupId:a}),v=(()=>{const e=c??g;return p({value:e,tabValues:s})?e:null})();(0,l.A)((()=>{v&&o(v)}),[v]);return{selectedValue:r,selectValue:(0,t.useCallback)((e=>{if(!p({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);o(e),d(e),y(e)}),[d,y,s]),tabValues:s}}var y=i(9136);const v={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var f=i(4848);function x(e){let{className:n,block:i,selectedValue:t,selectValue:r,tabValues:l}=e;const o=[],{blockElementScrollPositionUntilNextRender:c}=(0,s.a_)(),h=e=>{const n=e.currentTarget,i=o.indexOf(n),a=l[i].value;a!==t&&(c(n),r(a))},d=e=>{let n=null;switch(e.key){case"Enter":h(e);break;case"ArrowRight":{const i=o.indexOf(e.currentTarget)+1;n=o[i]??o[0];break}case"ArrowLeft":{const i=o.indexOf(e.currentTarget)-1;n=o[i]??o[o.length-1];break}}n?.focus()};return(0,f.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.A)("tabs",{"tabs--block":i},n),children:l.map((e=>{let{value:n,label:i,attributes:s}=e;return(0,f.jsx)("li",{role:"tab",tabIndex:t===n?0:-1,"aria-selected":t===n,ref:e=>{o.push(e)},onKeyDown:d,onClick:h,...s,className:(0,a.A)("tabs__item",v.tabItem,s?.className,{"tabs__item--active":t===n}),children:i??n},n)}))})}function b(e){let{lazy:n,children:i,selectedValue:s}=e;const r=(Array.isArray(i)?i:[i]).filter(Boolean);if(n){const e=r.find((e=>e.props.value===s));return e?(0,t.cloneElement)(e,{className:(0,a.A)("margin-top--md",e.props.className)}):null}return(0,f.jsx)("div",{className:"margin-top--md",children:r.map(((e,n)=>(0,t.cloneElement)(e,{key:n,hidden:e.props.value!==s})))})}function j(e){const n=g(e);return(0,f.jsxs)("div",{className:(0,a.A)("tabs-container",v.tabList),children:[(0,f.jsx)(x,{...n,...e}),(0,f.jsx)(b,{...n,...e})]})}function w(e){const n=(0,y.A)();return(0,f.jsx)(j,{...e,children:d(e.children)},String(n))}},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>l});var t=i(6540);const a={},s=t.createContext(a);function r(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);
"use strict";(self.webpackChunkchia_docs=self.webpackChunkchia_docs||[]).push([[4332],{5882:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>l,contentTitle:()=>d,default:()=>u,frontMatter:()=>c,metadata:()=>t,toc:()=>f});const t=JSON.parse('{"id":"guides/datalayer/datalayer-user-guide","title":"DataLayer User Guide","description":"This document will guide you through the process of setting up Chia\'s DataLayer\u2122 and running a few basic functions.","source":"@site/docs/guides/datalayer/datalayer-user-guide.md","sourceDirName":"guides/datalayer","slug":"/guides/datalayer-user-guide","permalink":"/guides/datalayer-user-guide","draft":false,"unlisted":false,"editUrl":"https://github.com/Chia-Network/chia-docs/blob/main/docs/guides/datalayer/datalayer-user-guide.md","tags":[],"version":"current","frontMatter":{"slug":"/guides/datalayer-user-guide","title":"DataLayer User Guide"},"sidebar":"guides","previous":{"title":"DataLayer\u2122","permalink":"/guides/datalayer-developer-guide"},"next":{"title":"DataLayer Permissions","permalink":"/guides/datalayer-permissions"}}');var r=n(4848),s=n(8453),i=n(1470),o=n(9365);const c={slug:"/guides/datalayer-user-guide",title:"DataLayer User Guide"},d=void 0,l={},f=[{value:"About DataLayer",id:"about-datalayer",level:3},{value:"Proof of inclusion",id:"proof-of-inclusion",level:4},{value:"Example 1: Two-party commit",id:"example-1-two-party-commit",level:4},{value:"Example 2: NFT ratings",id:"example-2-nft-ratings",level:4},{value:"Resources and notes",id:"resources-and-notes",level:4},{value:"DataLayer Guide",id:"datalayer-guide",level:2},{value:"Install and Run Chia",id:"install-and-run-chia",level:3},{value:"Configure Chia to run DataLayer",id:"configure-chia-to-run-datalayer",level:3},{value:"Note on Maximum Key and Value Lengths",id:"note-on-maximum-key-and-value-lengths",level:2},{value:"Using DataLayer",id:"using-datalayer",level:2},{value:"Create a data store",id:"create-a-data-store",level:3},{value:"Add and Delete Keys",id:"add-and-delete-keys",level:3},{value:"View Keys and Values",id:"view-keys-and-values",level:3},{value:"View on-chain history",id:"view-on-chain-history",level:3},{value:"Create A Mirror to Advertise A Data Store",id:"create-a-mirror-to-advertise-a-data-store",level:3},{value:"Subscribe to a Data Store",id:"subscribe-to-a-data-store",level:3}];function h(e){const a={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components},{Details:n}=a;return n||function(e,a){throw new Error("Expected "+(a?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.p,{children:"This document will guide you through the process of setting up Chia's DataLayer\u2122 and running a few basic functions."}),"\n",(0,r.jsx)(a.h3,{id:"about-datalayer",children:"About DataLayer"}),"\n",(0,r.jsxs)(a.p,{children:["As a decentralized database, the Chia DataLayer allows users to store the original data locally. The hash of that data is then saved in a ",(0,r.jsx)(a.a,{href:"https://chialisp.com/singletons",children:"singleton"})," (a coin with a unique ID that can be spent and recreated many times) with updated properties each time it is recreated. The on-chain component of Chia DataLayer is also a singleton. If the original data\u2019s hash matches the hash stored on-chain, then the original data is guaranteed to be accurate."]}),"\n",(0,r.jsx)(a.p,{children:"At the basic level, the Chia DataLayer provides a shared data network with no central authority. Nodes in this network can subscribe to data from other nodes and receive updates whenever the data changes."}),"\n",(0,r.jsx)(a.p,{children:'The real magic of DataLayer is the ability to use the data in smart contract transactions. Specifically, Chialisp code can directly process records stored in Chia DataLayer, opening up a new world of functionality for Chialisp programmers not available on any other blockchain. It starts with the concept of a "proof of inclusion."'}),"\n",(0,r.jsx)(a.h4,{id:"proof-of-inclusion",children:"Proof of inclusion"}),"\n",(0,r.jsx)(a.p,{children:"A proof of inclusion is a way to prove that a key/value pair is being stored, without needing to provide the entire Merkle tree from the store. This is accomplished by creating a spend of the DataLayer singleton that accepts two things in its solution:"}),"\n",(0,r.jsxs)(a.ol,{children:["\n",(0,r.jsx)(a.li,{children:"The hash of a key/value pair from the Merkle tree"}),"\n",(0,r.jsx)(a.li,{children:"Proof that the same key/value pair actually exists in the Merkle tree. This proof is obtained by providing the minimum peer hashes necessary to recalculate the Merkle root that is currently stored on-chain, starting from the leaf obtained from the key/value pair."}),"\n"]}),"\n",(0,r.jsx)(a.p,{children:"When this proof is obtained, the singleton announces the hash that exists in that DataLayer table."}),"\n",(0,r.jsx)(a.p,{children:"Proofs of inclusion are the basis for accessing DataLayer data from Chialisp because once the data is proven, it can be used to drive other functionality, starting with the two-party commit, and moving beyond to include oracles and off-chain contracts."}),"\n",(0,r.jsx)(a.h4,{id:"example-1-two-party-commit",children:"Example 1: Two-party commit"}),"\n",(0,r.jsx)(a.p,{children:'"Two-party commit" is the simplest example of a proof of inclusion. It is an Offer where the owner of one DataLayer table offers to make an update if and only if the owner of another DataLayer table makes a specified update.'}),"\n",(0,r.jsx)(a.p,{children:"A two-party commit uses an Offer that includes six asserts and spends."}),"\n",(0,r.jsx)(a.p,{children:"In the original Offer, the maker includes:"}),"\n",(0,r.jsxs)(a.ol,{children:["\n",(0,r.jsx)(a.li,{children:"A spend of the maker's DataLayer singleton to make the update to the maker's table"}),"\n",(0,r.jsx)(a.li,{children:"A spend of the maker's DataLayer singleton to announce a proof of inclusion of the updates made"}),"\n",(0,r.jsx)(a.li,{children:"An assert of an announcement from the taker of a proof of inclusion of a required update"}),"\n"]}),"\n",(0,r.jsx)(a.p,{children:"To accept the offer, the taker adds:"}),"\n",(0,r.jsxs)(a.ol,{start:"4",children:["\n",(0,r.jsx)(a.li,{children:"A spend of the taker DataLayer singleton to make the update"}),"\n",(0,r.jsx)(a.li,{children:"A spend of the taker DataLayer singleton to announce the proof of inclusion of the updated data"}),"\n",(0,r.jsx)(a.li,{children:"An assert of the proof of inclusion from the maker"}),"\n"]}),"\n",(0,r.jsx)(a.p,{children:"The offer spendbundle only goes through when all of the necessary assertions are satisfied."}),"\n",(0,r.jsx)(a.p,{children:"Where it gets interesting is what other coins might do with that announcement. Another coin can accept the key and value in its solution, hash them, and assert an announcement from the DataLayer coin of a proof of inclusion of that hash. If the assert succeeds, then the coin can confidently use that data in the key and value as a validated input to whatever it may want to do."}),"\n",(0,r.jsx)(a.h4,{id:"example-2-nft-ratings",children:"Example 2: NFT ratings"}),"\n",(0,r.jsx)(a.p,{children:"A hypothetical example of a proof of inclusion could be NFT ratings. Here's how it would work:"}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsx)(a.li,{children:"A critic provides ratings for various NFTs in a DataLayer table, such that people could create offers based on that rating."}),"\n",(0,r.jsx)(a.li,{children:'A prospective buyer might offer 5 XCH for any NFT with a "blue ribbon" rating from RatingWiz.'}),"\n",(0,r.jsx)(a.li,{children:"To accept the offer, an NFT owner would have to include a proof of inclusion from the rating table that their NFT had that rating."}),"\n"]}),"\n",(0,r.jsx)(a.p,{children:"This example would require anyone-can-spend DataLayer proofs of inclusion (these doesn't exist yet, but would be straightforward to build). The anyone-can-spend proof of inclusion could also generate a payment to the DataLayer table owner to pay RatingWiz for their services."}),"\n",(0,r.jsx)(a.h4,{id:"resources-and-notes",children:"Resources and notes"}),"\n",(0,r.jsx)(a.p,{children:"For additional technical resources, see the following:"}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsx)(a.li,{children:(0,r.jsx)(a.a,{href:"/reference-client/rpc-reference/datalayer-rpc/",title:"DataLayer RPC API",children:"DataLayer RPC API"})}),"\n",(0,r.jsx)(a.li,{children:(0,r.jsx)(a.a,{href:"/reference-client/cli-reference/datalayer-cli/",title:"DataLayer CLI Reference",children:"DataLayer CLI Reference"})}),"\n",(0,r.jsxs)(a.li,{children:[(0,r.jsx)(a.a,{href:"/guides/datalayer-permissions/",children:"DataLayer Permission Guide"})," -- a new feature as of Chia 1.8.0"]}),"\n",(0,r.jsx)(a.li,{children:(0,r.jsx)(a.a,{href:"https://www.chia.net/2022/09/21/enabling-data-for-web3-announcing-chia-datalayer/",children:"DataLayer blog post"})}),"\n"]}),"\n",(0,r.jsxs)(a.admonition,{type:"note",children:[(0,r.jsx)(a.p,{children:"Commands that modify the blockchain include an optional fee. This fee can be specified in two ways:"}),(0,r.jsxs)(a.ol,{children:["\n",(0,r.jsxs)(a.li,{children:["The ",(0,r.jsx)(a.code,{children:"-m"})," / ",(0,r.jsx)(a.code,{children:"--fee"})," parameter can be specified explicitly in the command, as several of the examples in this document show"]}),"\n",(0,r.jsxs)(a.li,{children:["If the fee option is not explicitly specified, then the ",(0,r.jsx)(a.code,{children:"data_layer:fee"})," setting in ",(0,r.jsx)(a.code,{children:"~/.chia/mainnet/config/config.yaml"})," will be used. By default, this is set to 1 billion mojos (0.001 XCH)"]}),"\n",(0,r.jsx)(a.li,{children:"If neither of these options is set, then no fee will be used"}),"\n"]})]}),"\n",(0,r.jsx)(a.hr,{}),"\n",(0,r.jsx)(a.admonition,{type:"info",children:(0,r.jsxs)(a.p,{children:["If you have already installed Chia version 1.6 or greater and started the reference client, you may skip to the next section: ",(0,r.jsx)(a.a,{href:"#configure-chia-to-run-datalayer",children:"Configure Chia to run DataLayer"}),"."]})}),"\n",(0,r.jsx)(a.h2,{id:"datalayer-guide",children:"DataLayer Guide"}),"\n",(0,r.jsx)(a.h3,{id:"install-and-run-chia",children:"Install and Run Chia"}),"\n",(0,r.jsxs)(a.p,{children:["DataLayer can be activated or deactivated from Chia's reference wallet GUI. However, the commands to use it are only available from the CLI or RPC. You can choose whether to ",(0,r.jsx)(a.a,{href:"/reference-client/install-and-setup/installation#from-source",children:"install Chia from source"})," or ",(0,r.jsx)(a.a,{href:"https://www.chia.net/downloads/",children:"run the packaged installer"}),"."]}),"\n",(0,r.jsxs)(a.ol,{children:["\n",(0,r.jsxs)(a.li,{children:["\n",(0,r.jsxs)(a.p,{children:[(0,r.jsx)(a.strong,{children:"If you installed from source"}),", be sure you have activated a virtual environment (you should see ",(0,r.jsx)(a.code,{children:"(venv)"})," on the left side of your Powershell/terminal window)."]}),"\n"]}),"\n",(0,r.jsxs)(a.li,{children:["\n",(0,r.jsxs)(a.p,{children:["Run ",(0,r.jsx)(a.code,{children:"chia version"}),". You should be shown the correct version. For example:"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-powershell",children:"chia version\n1.8.0\n"})}),"\n",(0,r.jsxs)(a.ol,{start:"3",children:["\n",(0,r.jsxs)(a.li,{children:["(optional) Run ",(0,r.jsx)(a.code,{children:"chia configure --set-log-level INFO"}),". This will instruct your Chia installation to log more info than it would have with the default level of WARNING:"]}),"\n"]}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-bash",children:"chia configure --set-log-level INFO\n"})}),"\n",(0,r.jsx)(a.p,{children:"Result:"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-bash",children:"Logging level updated. Check ~/.chia/mainnet/log/debug.log\nRestart any running chia services for changes to take effect\n"})}),"\n",(0,r.jsx)(a.p,{children:"(You will restart Chia later in this guide.)"}),"\n",(0,r.jsxs)(a.ol,{start:"4",children:["\n",(0,r.jsx)(a.li,{children:"Acquire some XCH. 0.01 XCH is a sufficient amount to get started."}),"\n"]}),"\n",(0,r.jsx)(a.admonition,{type:"tip",children:(0,r.jsxs)(a.p,{children:["If you ever need to display your address, run ",(0,r.jsx)(a.code,{children:"chia keys show"}),". This command will only output your public keys and address; your private keys and seed phrase will not be shown."]})}),"\n",(0,r.jsx)(a.h3,{id:"configure-chia-to-run-datalayer",children:"Configure Chia to run DataLayer"}),"\n",(0,r.jsxs)(a.p,{children:["At this point, you should have installed and started Chia. You should also have a synced wallet with some XCH (0.01 XCH is sufficient to get started). You do ",(0,r.jsx)(a.em,{children:"not"})," need a synced full node."]}),"\n",(0,r.jsx)(a.admonition,{type:"info",children:(0,r.jsx)(a.p,{children:"You are recommended to complete steps 1 and 2 (port forwarding and firewall configuration) in order to run DataLayer. If you skip these steps, DataLayer might not run properly."})}),"\n",(0,r.jsxs)(a.ol,{children:["\n",(0,r.jsxs)(a.li,{children:["\n",(0,r.jsxs)(a.p,{children:["Configure your router to forward port 8575 (data propagation server) to your local machine. To configure your router's settings, typically you will need enter ",(0,r.jsx)(a.code,{children:"http://192.168.1.1"})," in a web browser, though this address varies for different routers. From your router's settings, locate the Port Forwarding section and add a rule to forward port 8575 to your local IP address."]}),"\n"]}),"\n",(0,r.jsxs)(a.li,{children:["\n",(0,r.jsx)(a.p,{children:"You will also need to configure your computer's firewall to allow connections on port 8575. This process is different for each OS:"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(a.admonition,{title:"Firewall setup",type:"info",children:(0,r.jsxs)(i.A,{defaultValue:"windows",values:[{label:"Windows",value:"windows"},{label:"Linux",value:"linux"},{label:"MacOS",value:"macos"}],children:[(0,r.jsxs)(o.A,{value:"windows",children:[(0,r.jsx)(a.p,{children:"From a PowerShell prompt, run:"}),(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-powershell",children:"start-Process powershell -Verb runAs\n"})}),(0,r.jsx)(a.p,{children:"This will open a new PowerShell window as an Administrator. From this new window, you will need to run four commands, two for incoming connections and two for outgoing connections."}),(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-powershell",children:'netsh advfirewall firewall add rule name="allowDataServerIn" dir=in action=allow protocol=TCP localport=8575\nnetsh advfirewall firewall add rule name="allowDataServerOut" dir=out action=allow protocol=TCP localport=8575\n'})}),(0,r.jsxs)(a.p,{children:["Each of these commands should give a response of ",(0,r.jsx)(a.code,{children:"Ok."})," Once you have successfully run the commands, exit the Administrator PowerShell window."]})]}),(0,r.jsxs)(o.A,{value:"linux",children:[(0,r.jsx)(a.p,{children:"Assuming you use iptables, which is installed on most distributions by default, run:"}),(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-bash",children:"sudo iptables -I INPUT -p tcp -m tcp --dport 8575 -j ACCEPT\nsudo iptables -I OUTPUT -p tcp -m tcp --dport 8575 -j ACCEPT\n"})}),(0,r.jsx)(a.p,{children:"Next, save the settings. For Ubuntu and Debian, run:"}),(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-bash",children:"sudo /sbin/iptables-save\n"})}),(0,r.jsx)(a.p,{children:"For CentOS, Red Hat, and Fedora, run:"}),(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-bash",children:"/sbin/service iptables save\n"})})]}),(0,r.jsxs)(o.A,{value:"macos",children:[(0,r.jsx)(a.p,{children:"Open /etc/pf.conf in a text editor. You will need administrative privileges. For example:"}),(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-bash",children:"sudo vi /etc/pf.conf\n"})}),(0,r.jsx)(a.p,{children:"Add the following lines to the end of the file:"}),(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-bash",children:"# Open port 8575 for Chia Data Propagation Server\npass in proto tcp from any to any port 8575\n"})}),(0,r.jsx)(a.p,{children:"Save and close the file."}),(0,r.jsx)(a.p,{children:"To load the changes, run:"}),(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-bash",children:"sudo pfctl -f /etc/pf.conf\n"})}),(0,r.jsx)(a.p,{children:"To verify that the changes are active, run:"}),(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-bash",children:"sudo pfctl -sr | grep 8575\n"})})]})]})}),"\n",(0,r.jsxs)(a.ol,{start:"3",children:["\n",(0,r.jsxs)(a.li,{children:["(optional) If you are going to use a DataLayer as a Service (DLaaS) plugin, you can add custom headers to ",(0,r.jsx)(a.code,{children:"~/.chia/mainnet/config/config.yaml"}),". For example, you might update the config as follows:"]}),"\n"]}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-yaml",children:"data_layer:\n  client_timeout: 15\n  database_path: data_layer/db/data_layer_CHALLENGE.sqlite\n  downloaders:\n    - url: http://localhost:9456\n      headers:\n        x-api-key: your-api-key-here\n    - url: http://localhost:3145\n      headers:\n        x-api-key: your-api-key-here\n---\nuploaders:\n  - url: https://plugin.datalayer.storage\n    headers:\n      x-api-key: your-api-key-here\n"})}),"\n",(0,r.jsxs)(a.p,{children:["For more information on this feature, see the description in the relevant ",(0,r.jsx)(a.a,{href:"https://github.com/Chia-Network/issue-tracker/issues/483",children:"GitHub issue"}),"."]}),"\n",(0,r.jsxs)(a.ol,{start:"4",children:["\n",(0,r.jsx)(a.li,{children:"Start the DataLayer services from the GUI:"}),"\n"]}),"\n",(0,r.jsx)(a.p,{children:"(For CLI instructions, skip ahead to step 5.)"}),"\n",(0,r.jsxs)("div",{style:{textAlign:"center"},children:[(0,r.jsx)("img",{src:"/img/data_layer/09_start_data.png",alt:"Start the DataLayer services"}),(0,r.jsx)("figcaption",{children:(0,r.jsx)("em",{children:"Enable DataLayer services."})})]}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(a.p,{children:"As shown in the above image:"}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsxs)(a.li,{children:["Click ",(0,r.jsx)(a.code,{children:"Settings"})," on the lower left side of your wallet"]}),"\n",(0,r.jsxs)(a.li,{children:["Click the ",(0,r.jsx)(a.code,{children:"DATA LAYER"})," menu"]}),"\n",(0,r.jsxs)(a.li,{children:["Click the slider to ",(0,r.jsx)(a.code,{children:"Enable Data Layer"})]}),"\n",(0,r.jsxs)(a.li,{children:["A slider titled ",(0,r.jsx)(a.code,{children:"Enable File Propagation Server"})," will appear. Click this to enable it as well"]}),"\n"]}),"\n",(0,r.jsx)(a.p,{children:"Finally, you need to restart Chia. Close the GUI and run steps 3 and 6 above. When Chia starts, it will automatically enable both of the DataLayer services."}),"\n",(0,r.jsxs)(a.ol,{start:"5",children:["\n",(0,r.jsxs)(a.li,{children:["If the dot to the left of ",(0,r.jsx)(a.code,{children:"WALLET"})," is green (indicating that your wallet is synced), then you may proceed. If it is still orange, then you need to wait for it turn green before continuing."]}),"\n"]}),"\n",(0,r.jsxs)(a.admonition,{type:"info",children:[(0,r.jsxs)(a.p,{children:["Regardless of the status of ",(0,r.jsx)(a.code,{children:"FULL NODE"}),", you may safely proceed with this tutorial:"]}),(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsx)(a.li,{children:"Orange dot = full node is syncing"}),"\n",(0,r.jsx)(a.li,{children:"Green dot = full node is synced"}),"\n",(0,r.jsxs)(a.li,{children:[(0,r.jsx)(a.code,{children:"FULL NODE"})," is missing = you are running in ",(0,r.jsx)(a.code,{children:"Wallet Mode"})]}),"\n"]})]}),"\n",(0,r.jsx)("div",{style:{textAlign:"center"},children:(0,r.jsx)("img",{src:"/img/data_layer/10_synced.png",alt:"Synced wallet"})}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsxs)(a.ol,{start:"6",children:["\n",(0,r.jsx)(a.li,{children:"Start the DataLayer services from the CLI"}),"\n"]}),"\n",(0,r.jsx)(a.p,{children:"(You can safely skip this step if you already started the DataLayer services from the GUI.)"}),"\n",(0,r.jsx)(a.p,{children:"First, start the DataLayer service:"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-bash",children:"chia start data\n"})}),"\n",(0,r.jsx)(a.p,{children:"Result:"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-bash",children:"chia_data_layer: started\n"})}),"\n",(0,r.jsx)(a.p,{children:"Next, start the File Propagation Server:"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-bash",children:"chia start data_layer_http\n"})}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-bash",children:"chia_data_layer_http: started\n"})}),"\n",(0,r.jsx)(a.p,{children:(0,r.jsx)(a.strong,{children:"Chia and the DataLayer are now installed and configured properly."})}),"\n",(0,r.jsx)(a.hr,{}),"\n",(0,r.jsx)(a.h2,{id:"note-on-maximum-key-and-value-lengths",children:"Note on Maximum Key and Value Lengths"}),"\n",(0,r.jsx)(a.p,{children:"You may be wondering how much data DataLayer can handle. When testing locally, there are a few important points to consider:"}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsx)(a.li,{children:"There is no enforced limit on the length of DataLayer keys or values"}),"\n",(0,r.jsx)(a.li,{children:"However, your computer must have enough memory (and other resources) to store the keys and values it downloads. A Raspberry Pi with 4 GB of memory will not be able to support the same size data sets as a server with 512 GB of memory"}),"\n",(0,r.jsx)(a.li,{children:"Additionally, when adding a single key/value pair, the total size of the pair must fit into memory (the individual sizes of the key and value don't matter)"}),"\n",(0,r.jsxs)(a.li,{children:["When running ",(0,r.jsx)(a.code,{children:"update_data_store"})," to add multiple keys, the important metric is the total size of ",(0,r.jsx)(a.em,{children:"all"})," keys and values in the whole store. Individual keys and values within the same command are unimportant in this context"]}),"\n",(0,r.jsxs)(a.li,{children:["When discussing the lengths of keys and values, we always refer to the ",(0,r.jsx)(a.em,{children:"hex"})," values ",(0,r.jsx)(a.em,{children:"after"})," conversion from their original format"]}),"\n",(0,r.jsxs)(a.li,{children:["The amount of data in your request must be smaller than the value of ",(0,r.jsx)(a.code,{children:"rpc_server_max_request_body_size"}),", a parameter located in ",(0,r.jsx)(a.code,{children:"~/.chia/mainnet/config/config.yaml"}),". If you modify this setting, you must restart Chia in order for the change to take effect"]}),"\n"]}),"\n",(0,r.jsxs)(a.p,{children:["Keeping all of this in mind, ",(0,r.jsx)(a.strong,{children:"it is typically safe to insert data sets of up to 50 MiB"})," (no guarantees, though). We expect to support larger sizes in future versions. For now, however, we have only done minimal testing on larger data sets. For example, using ",(0,r.jsx)(a.code,{children:"curl"})," to add keys and values to an empty tree required the following lengths of time:"]}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsx)(a.li,{children:"100 MiB -- 2 to 4 seconds"}),"\n",(0,r.jsx)(a.li,{children:"1 GiB -- 45 to 60 seconds"}),"\n",(0,r.jsx)(a.li,{children:"2 GiB -- failed to insert"}),"\n"]}),"\n",(0,r.jsx)(a.hr,{}),"\n",(0,r.jsx)(a.h2,{id:"using-datalayer",children:"Using DataLayer"}),"\n",(0,r.jsx)(a.p,{children:"Chia DataLayer doesn't have a GUI. The commands in this tutorial will use the command line interface (CLI). As a reminder, here is the complete reference for the CLI, as well as all available Remote Procedure Calls (RPCs):"}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsx)(a.li,{children:(0,r.jsx)(a.a,{href:"/reference-client/rpc-reference/datalayer-rpc/",title:"DataLayer RPC API",children:"DataLayer RPC API"})}),"\n",(0,r.jsx)(a.li,{children:(0,r.jsx)(a.a,{href:"/reference-client/cli-reference/datalayer-cli/",title:"DataLayer CLI Reference",children:"DataLayer CLI Reference"})}),"\n"]}),"\n",(0,r.jsx)(a.h3,{id:"create-a-data-store",children:"Create a data store"}),"\n",(0,r.jsx)(a.p,{children:"This requires an on-chain transaction."}),"\n",(0,r.jsx)(a.p,{children:"The command to create a new store is:"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-bash",children:"chia data create_data_store -m <fee>\n"})}),"\n",(0,r.jsxs)(a.p,{children:["Note that ",(0,r.jsx)(a.code,{children:"<fee>"})," is a standard transaction fee to use Chia's network. This fee is in XCH."]}),"\n",(0,r.jsxs)(n,{children:[(0,r.jsx)("summary",{children:"create_data_store example"}),(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-bash",children:"chia data create_data_store -m 0.00001\n"})}),(0,r.jsx)(a.p,{children:"Response:"}),(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{children:"{\n    'id': '1a119374fc7d7055d3419fdcd7f93065f28a1e4acacdf9c73b933b27b685550f',\n    'success': True,\n    'txs':\n    [\n        {\n            'additions':\n            [\n                {\n                    'amount': 1,\n                    'parent_coin_info': '0xb4a1a658aaefd10930ecbccd51ac2c9a4853435b14acdb0de84729bfbefc791c',\n                    'puzzle_hash': '0xeff07522495060c066f66f32acc2a77e3a3e737aca8baea4d1a64ea4cdc13da9'\n                },\n                {\n                    'amount': 14999989999999,\n                    'parent_coin_info': '0xb4a1a658aaefd10930ecbccd51ac2c9a4853435b14acdb0de84729bfbefc791c',\n                    'puzzle_hash': '0x478255c372cec71557c20459f4b690fb1b7c57da3fcfc4b6396d78d9a396e384'\n                },\n                {\n                    'amount': 1,\n                    'parent_coin_info': '0x1a119374fc7d7055d3419fdcd7f93065f28a1e4acacdf9c73b933b27b685550f',\n                    'puzzle_hash': '0xd650e81d45c7381183c14c3363a81aa78cb3acfe213e46da26df75cd431557f9'\n                }\n            ],\n            'amount': 1,\n            'confirmed': False,\n            'confirmed_at_height': 0,\n            'created_at_time': 1661141324,\n            'fee_amount': 10000000,\n            'memos': [],\n            'name': '0xaee362ae9d0ce3992b3bfb7cc48bde17f3d794cc383ff1d5e49a4d75dbf004d6',\n            'removals':\n            [\n                {\n                    'amount': 15000000000000,\n                    'parent_coin_info': '0x81fc1729bad3f19699461b1ee455a92493ef4c1d60ba37d22ac187a18367e08e',\n                    'puzzle_hash': '0x221c0e9cd9b7f536e9a204ef93519e6c9d4b4c9a049bde8d66fa1816c23120d2'\n                },\n                {\n                    'amount': 1,\n                    'parent_coin_info': '0xb4a1a658aaefd10930ecbccd51ac2c9a4853435b14acdb0de84729bfbefc791c',\n                    'puzzle_hash': '0xeff07522495060c066f66f32acc2a77e3a3e737aca8baea4d1a64ea4cdc13da9'\n                }\n            ],\n            'sent': 10,\n            'sent_to': [],\n            'spend_bundle': {\n                'aggregated_signature': '0x8c431f07698ad69fd14ab04d77683801e6b908e441074f5ef5268350483d194a09a8b3cde681cb5c5fcf6444e0c9d4bf00999e8e6ad1522891baa590f82d92e2876b08e34b1f3156d0fe88ce206e5ed1567863e10a0397fd0a8a66bcbd5007b0',\n                'coin_spends':\n                [\n                    {\n                        'coin':\n                        {\n                            'amount': 15000000000000,\n                            'parent_coin_info': '0x81fc1729bad3f19699461b1ee455a92493ef4c1d60ba37d22ac187a18367e08e',\n                            'puzzle_hash': '0x221c0e9cd9b7f536e9a204ef93519e6c9d4b4c9a049bde8d66fa1816c23120d2'\n                        },\n                        'puzzle_reveal': '0xff02ffff01ff02ffff01ff02ffff03ff0bffff01ff02ffff03ffff09ff05ffff1dff0bffff1effff0bff0bffff02ff06ffff04ff02ffff04ff17ff8080808080808080ffff01ff02ff17ff2f80ffff01ff088080ff0180ffff01ff04ffff04ff04ffff04ff05ffff04ffff02ff06ffff04ff02ffff04ff17ff80808080ff80808080ffff02ff17ff2f808080ff0180ffff04ffff01ff32ff02ffff03ffff07ff0580ffff01ff0bffff0102ffff02ff06ffff04ff02ffff04ff09ff80808080ffff02ff06ffff04ff02ffff04ff0dff8080808080ffff01ff0bffff0101ff058080ff0180ff018080ffff04ffff01b0b3deeeb00319624e26767c5cf777cf9a02d046510181ed29f233e2847fa8ef28ede05d2770bb1b8f101ea8ae20527d61ff018080',\n                        'solution': '0xff80ffff01ffff33ffa0eff07522495060c066f66f32acc2a77e3a3e737aca8baea4d1a64ea4cdc13da9ff0180ffff33ffa0478255c372cec71557c20459f4b690fb1b7c57da3fcfc4b6396d78d9a396e384ff860da47513597f80ffff34ff840098968080ffff3cffa084f72a9a3ce5152e1d627a259a0c1c90e6af389cb26af48173d84e374ecc518080ffff3dffa03a0ed375dff192685d1ef9a74424788b04655700bee898f0ea8445f8b55d38338080ff8080'\n                    },\n                    {\n                        'coin':\n                        {\n                            'amount': 1,\n                            'parent_coin_info': '0xb4a1a658aaefd10930ecbccd51ac2c9a4853435b14acdb0de84729bfbefc791c',\n                            'puzzle_hash': '0xeff07522495060c066f66f32acc2a77e3a3e737aca8baea4d1a64ea4cdc13da9'\n                        },\n                        'puzzle_reveal': '0xff02ffff01ff04ffff04ff04ffff04ff05ffff04ff0bff80808080ffff04ffff04ff0affff04ffff02ff0effff04ff02ffff04ffff04ff05ffff04ff0bffff04ff17ff80808080ff80808080ff808080ff808080ffff04ffff01ff33ff3cff02ffff03ffff07ff0580ffff01ff0bffff0102ffff02ff0effff04ff02ffff04ff09ff80808080ffff02ff0effff04ff02ffff04ff0dff8080808080ffff01ff0bffff0101ff058080ff0180ff018080',\n                        'solution': '0xffa0d650e81d45c7381183c14c3363a81aa78cb3acfe213e46da26df75cd431557f9ff01ffffa00000000000000000000000000000000000000000000000000000000000000000ffa0adcbcbaf4594e8d3057ea3a64a40560720ede80e720f867d2631069c27459de58080'\n                    }\n                ]\n            },\n            'to_puzzle_hash': '0x0202020202020202020202020202020202020202020202020202020202020202',\n            'trade_id': None,\n            'type': 0,\n            'wallet_id': 0\n        },\n        {\n            'additions':\n            [\n                {\n                    'amount': 1,\n                    'parent_coin_info': '0xb4a1a658aaefd10930ecbccd51ac2c9a4853435b14acdb0de84729bfbefc791c',\n                    'puzzle_hash': '0xeff07522495060c066f66f32acc2a77e3a3e737aca8baea4d1a64ea4cdc13da9'\n                },\n                {\n                    'amount': 14999989999999,\n                    'parent_coin_info': '0xb4a1a658aaefd10930ecbccd51ac2c9a4853435b14acdb0de84729bfbefc791c',\n                    'puzzle_hash': '0x478255c372cec71557c20459f4b690fb1b7c57da3fcfc4b6396d78d9a396e384'\n                }\n            ],\n            'amount': 1,\n            'confirmed': False,\n            'confirmed_at_height': 0,\n            'created_at_time': 1661141324,\n            'fee_amount': 10000000,\n            'memos': [],\n            'name': '0xbb4cb461126d9ea9492e767462b9a4e408e497231c2093474cba2bcfe4397104',\n            'removals':\n            [\n                {\n                    'amount': 15000000000000,\n                    'parent_coin_info':\n                    '0x81fc1729bad3f19699461b1ee455a92493ef4c1d60ba37d22ac187a18367e08e',\n                    'puzzle_hash': '0x221c0e9cd9b7f536e9a204ef93519e6c9d4b4c9a049bde8d66fa1816c23120d2'\n                }\n            ],\n            'sent': 0,\n            'sent_to': [],\n            'spend_bundle': None,\n            'to_puzzle_hash': '0xeff07522495060c066f66f32acc2a77e3a3e737aca8baea4d1a64ea4cdc13da9',\n            'trade_id': None,\n            'type': 1,\n            'wallet_id': 1\n        }\n    ]\n}\n"})})]}),"\n",(0,r.jsxs)(a.p,{children:["The only value you need from the JSON blob is ",(0,r.jsx)(a.code,{children:"id"}),", the first value in the output. In the above example, this was"]}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{children:"'id': '1a119374fc7d7055d3419fdcd7f93065f28a1e4acacdf9c73b933b27b685550f',\n"})}),"\n",(0,r.jsxs)(a.p,{children:["You can't do anything with this store until it is confirmed on-chain. To check the status of this confirmation, run the ",(0,r.jsx)(a.code,{children:"get_root"})," command, passing in the ",(0,r.jsx)(a.code,{children:"id"}),"."]}),"\n",(0,r.jsxs)(n,{children:[(0,r.jsx)("summary",{children:"get_root example 1"}),(0,r.jsxs)(a.p,{children:["Your data store will be empty when you first create it. In this case, ",(0,r.jsx)(a.code,{children:"get_root"})," will return an empty hash:"]}),(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-bash",children:"chia data get_root --id 1a119374fc7d7055d3419fdcd7f93065f28a1e4acacdf9c73b933b27b685550f\n"})}),(0,r.jsx)(a.p,{children:"Response:"}),(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{children:"{\n    'confirmed': True,\n    'hash': '0x0000000000000000000000000000000000000000000000000000000000000000',\n    'success': True,\n    'timestamp': 1661148563\n}\n"})})]}),"\n",(0,r.jsxs)(n,{children:[(0,r.jsx)("summary",{children:"get_root example 2"}),(0,r.jsxs)(a.p,{children:["After you have added at least one key, ",(0,r.jsx)(a.code,{children:"get_root"})," will return a real hash:"]}),(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-bash",children:"chia data get_root --id 1a119374fc7d7055d3419fdcd7f93065f28a1e4acacdf9c73b933b27b685550f\n"})}),(0,r.jsx)(a.p,{children:"Response:"}),(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{children:"{\n    'confirmed': True,\n    'hash': '0xd6d6b4d6bbd77aaa5927c8a21a1451b35f4860a7f9a58e51dae04037da9c08e8',\n    'success': True,\n    'timestamp': 1661148611\n}\n"})})]}),"\n",(0,r.jsx)(a.h3,{id:"add-and-delete-keys",children:"Add and Delete Keys"}),"\n",(0,r.jsx)(a.p,{children:"This requires an on-chain transaction."}),"\n",(0,r.jsxs)(a.p,{children:["Use ",(0,r.jsx)(a.code,{children:"update_data_store"})," to modify your singleton. Actions include ",(0,r.jsx)(a.code,{children:"insert"})," and ",(0,r.jsx)(a.code,{children:"delete"}),". These can also be chained together."]}),"\n",(0,r.jsxs)(a.p,{children:["For more example of using this command, see the ",(0,r.jsx)(a.a,{href:"/reference-client/cli-reference/datalayer-cli#update_data_store",children:"CLI reference"}),"."]}),"\n",(0,r.jsxs)(n,{children:[(0,r.jsx)("summary",{children:"update_data_store -- insert example"}),(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-bash",children:'chia data update_data_store --id=1a119374fc7d7055d3419fdcd7f93065f28a1e4acacdf9c73b933b27b685550f -d \'[{"action":"insert", "key":"0003", "value":"abc123"}]\'\n'})}),(0,r.jsx)(a.p,{children:"Response:"}),(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{children:"{\n    'success': True,\n    'tx_id': '0xed157b50b94a849d3d19a0ef4e1b0e07bda863e4d65bd1527fa6f59062bb5c78'\n}\n"})})]}),"\n",(0,r.jsxs)(n,{children:[(0,r.jsx)("summary",{children:"update_data_store -- delete example"}),(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-bash",children:'chia data update_data_store --id 1a119374fc7d7055d3419fdcd7f93065f28a1e4acacdf9c73b933b27b685550f --changelist \'[{"action":"delete", "key":"0003"}]\'\n'})}),(0,r.jsx)(a.p,{children:"Response:"}),(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{children:"{\n    'success': True,\n    'tx_id': '0x2a64ef42baf05c6f4d446ba8638c2f2b2c26e5a91ad62e0c5151df40d0f92ec2'\n}\n"})})]}),"\n",(0,r.jsx)(a.h3,{id:"view-keys-and-values",children:"View Keys and Values"}),"\n",(0,r.jsxs)(a.p,{children:["You can view the keys and values with ",(0,r.jsx)(a.code,{children:"get_keys_values"}),". This command will only return data that has been confirmed on-chain -- if you run it immediately after adding data, it may not return the keys you expect."]}),"\n",(0,r.jsxs)(n,{children:[(0,r.jsx)("summary",{children:"get_keys_values example"}),(0,r.jsx)(a.p,{children:"For this example, there are two keys in the store:"}),(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-bash",children:"chia data get_keys_values --id 1a119374fc7d7055d3419fdcd7f93065f28a1e4acacdf9c73b933b27b685550f\n"})}),(0,r.jsx)(a.p,{children:"Response:"}),(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-bash",children:"{\n    'keys_values': [\n        {\n            'atom': None,\n            'hash': '0x7e193b814080e50aa7780bcf71fd0422a0397ad3e57dc1eac71d93183efb39ba',\n            'key': '0x0004',\n            'value': '0x123abc'\n        },\n        {\n            'atom': None,\n            'hash': '0xc2dc94c2a85d7db4cfdd1d907bcc441c8fce595db2e2075b973fb8171e2f19a2',\n            'key': '0x0005',\n            'value': '0xbeadfeed'\n        }\n    ],\n    'success': True\n}\n"})})]}),"\n",(0,r.jsx)(a.h3,{id:"view-on-chain-history",children:"View on-chain history"}),"\n",(0,r.jsxs)(a.p,{children:["Use ",(0,r.jsx)(a.code,{children:"get_root_history"})," to view the on-chain history of the root hash."]}),"\n",(0,r.jsxs)(n,{children:[(0,r.jsx)("summary",{children:"get_root_history example"}),(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-bash",children:"chia data get_root_history --id 1a119374fc7d7055d3419fdcd7f93065f28a1e4acacdf9c73b933b27b685550f\n"})}),(0,r.jsx)(a.p,{children:"Response:"}),(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{children:"{\n    'root_history': [\n        {\n            'confirmed': True,\n            'root_hash': '0x0000000000000000000000000000000000000000000000000000000000000000',\n            'timestamp': 1661141342\n        },\n        {\n            'confirmed': True,\n            'root_hash': '0xe488fa1bf0f712b224df0daf312b3d479f80e3a330d4bebd8f26a0d52dc0ebbb',\n            'timestamp': 1661144917\n        },\n        {\n            'confirmed': True,\n            'root_hash': '0x0000000000000000000000000000000000000000000000000000000000000000',\n            'timestamp': 1661145223\n        },\n        {\n            'confirmed': True,\n            'root_hash': '0xb5420e65846ded936d1e4855c066247fc461a3b281cd9e0e69f3cfa4df529ba2',\n            'timestamp': 1661145404\n        },\n        {\n            'confirmed': True,\n            'root_hash': '0xd6d6b4d6bbd77aaa5927c8a21a1451b35f4860a7f9a58e51dae04037da9c08e8',\n            'timestamp': 1661148611\n        }\n    ],\n    'success': True\n}\n"})})]}),"\n",(0,r.jsx)(a.h3,{id:"create-a-mirror-to-advertise-a-data-store",children:"Create A Mirror to Advertise A Data Store"}),"\n",(0,r.jsx)(a.p,{children:"This requires an on-chain transaction."}),"\n",(0,r.jsx)(a.p,{children:"We include an HTTP server that can be used out of the box. By default it listens to port 8575."}),"\n",(0,r.jsxs)(a.p,{children:['To "advertise" your mirror on-chain you use the ',(0,r.jsx)(a.code,{children:"add_mirror"})," command. This command takes three arguments:"]}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsxs)(a.li,{children:[(0,r.jsx)(a.code,{children:"i"})," -- Your root's ID"]}),"\n",(0,r.jsxs)(a.li,{children:[(0,r.jsx)(a.code,{children:"u"})," -- The URL of your mirror. You can reuse this argument, as shown in the example below"]}),"\n",(0,r.jsxs)(a.li,{children:[(0,r.jsx)(a.code,{children:"a"})," -- The amount (in mojos) that will be locked into the mirror while it exists. In theory, a system could prioritize mirrors according to how much was spent to create them. The ",(0,r.jsx)(a.code,{children:"amount"})," will be returned to the creator when the mirror is deleted. Minimum ",(0,r.jsx)(a.code,{children:"amount"})," is 0"]}),"\n"]}),"\n",(0,r.jsxs)(n,{children:[(0,r.jsx)("summary",{children:"add_mirror example"}),(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-bash",children:"chia data add_mirror -i 67b5e98abd5fef1a1c44ee63077bc5ef75c6cc4dadc9fd52d63a343922ce496b -u http://www.example2.com:8575 -u http://10.1.1.32:8575/ -a 1000\n"})}),(0,r.jsx)(a.p,{children:"Response:"}),(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-python",children:"None\n"})})]}),"\n",(0,r.jsxs)(a.p,{children:["The HTTP server will serve files that are generated by default in the ",(0,r.jsx)(a.code,{children:"~/.chia/mainnet/data_layer/db/server_files_location_mainnet"})," directory."]}),"\n",(0,r.jsx)(a.p,{children:"Note that you can mirror any Data Store, not just your own."}),"\n",(0,r.jsx)(a.h3,{id:"subscribe-to-a-data-store",children:"Subscribe to a Data Store"}),"\n",(0,r.jsxs)(a.p,{children:["You can subscribe to a data store in order to watch for changes and download the data from published mirrors by using the ",(0,r.jsx)(a.code,{children:"subscribe"})," command:"]}),"\n",(0,r.jsxs)(n,{children:[(0,r.jsx)("summary",{children:"subscribe example"}),(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-bash",children:"chia data subscribe -store 8f6ed792bbbf5216f8e55064793f74ce01286b9c1d542cc4a357cf7f8712df1d\n"})}),(0,r.jsx)(a.p,{children:"Response:"}),(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-python",children:"None\n"})}),(0,r.jsxs)(a.p,{children:["Use the ",(0,r.jsx)(a.code,{children:"subscriptions"})," RPC to list all current subscriptions:"]}),(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-bash",children:"chia rpc data_layer subscriptions\n"})}),(0,r.jsx)(a.p,{children:"Response:"}),(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-bash",children:'{\n    "store_ids": [\n        "1a119374fc7d7055d3419fdcd7f93065f28a1e4acacdf9c73b933b27b685550f",\n        "8f6ed792bbbf5216f8e55064793f74ce01286b9c1d542cc4a357cf7f8712df1d"\n    ],\n    "success": true\n}\n'})})]}),"\n",(0,r.jsxs)(a.p,{children:["Once subscribed, you will automatically try to download updates from any published mirrors for that singleton. You can use the earlier mentioned commands ",(0,r.jsx)(a.code,{children:"get_root_history"})," and ",(0,r.jsx)(a.code,{children:"get_keys_values"})," to look at the history and data of any subscribed data stores. The HTTP server will automatically start to publish data for all subscribed data stores. However, it won't be advertised on-chain unless you specifically use ",(0,r.jsx)(a.code,{children:"add_mirror"}),"."]})]})}function u(e={}){const{wrapper:a}={...(0,s.R)(),...e.components};return a?(0,r.jsx)(a,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},9365:(e,a,n)=>{n.d(a,{A:()=>i});n(6540);var t=n(4164);const r={tabItem:"tabItem_Ymn6"};var s=n(4848);function i({children:e,hidden:a,className:n}){return(0,s.jsx)("div",{role:"tabpanel",className:(0,t.A)(r.tabItem,n),hidden:a,children:e})}},1470:(e,a,n)=>{n.d(a,{A:()=>w});var t=n(6540),r=n(4164),s=n(3104),i=n(6347),o=n(205),c=n(7485),d=n(1682),l=n(679);function f(e){return t.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,t.isValidElement)(e)&&function(e){const{props:a}=e;return!!a&&"object"==typeof a&&"value"in a}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:a,children:n}=e;return(0,t.useMemo)((()=>{const e=a??function(e){return f(e).map((({props:{value:e,label:a,attributes:n,default:t}})=>({value:e,label:a,attributes:n,default:t})))}(n);return function(e){const a=(0,d.XI)(e,((e,a)=>e.value===a.value));if(a.length>0)throw new Error(`Docusaurus error: Duplicate values "${a.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[a,n])}function u({value:e,tabValues:a}){return a.some((a=>a.value===e))}function p({queryString:e=!1,groupId:a}){const n=(0,i.W6)(),r=function({queryString:e=!1,groupId:a}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return a??null}({queryString:e,groupId:a});return[(0,c.aZ)(r),(0,t.useCallback)((e=>{if(!r)return;const a=new URLSearchParams(n.location.search);a.set(r,e),n.replace({...n.location,search:a.toString()})}),[r,n])]}function x(e){const{defaultValue:a,queryString:n=!1,groupId:r}=e,s=h(e),[i,c]=(0,t.useState)((()=>function({defaultValue:e,tabValues:a}){if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!u({value:e,tabValues:a}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${a.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const n=a.find((e=>e.default))??a[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:a,tabValues:s}))),[d,f]=p({queryString:n,groupId:r}),[x,m]=function({groupId:e}){const a=function(e){return e?`docusaurus.tab.${e}`:null}(e),[n,r]=(0,l.Dv)(a);return[n,(0,t.useCallback)((e=>{a&&r.set(e)}),[a,r])]}({groupId:r}),b=(()=>{const e=d??x;return u({value:e,tabValues:s})?e:null})();(0,o.A)((()=>{b&&c(b)}),[b]);return{selectedValue:i,selectValue:(0,t.useCallback)((e=>{if(!u({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);c(e),f(e),m(e)}),[f,m,s]),tabValues:s}}var m=n(2303);const b={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var y=n(4848);function j({className:e,block:a,selectedValue:n,selectValue:t,tabValues:i}){const o=[],{blockElementScrollPositionUntilNextRender:c}=(0,s.a_)(),d=e=>{const a=e.currentTarget,r=o.indexOf(a),s=i[r].value;s!==n&&(c(a),t(s))},l=e=>{let a=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const n=o.indexOf(e.currentTarget)+1;a=o[n]??o[0];break}case"ArrowLeft":{const n=o.indexOf(e.currentTarget)-1;a=o[n]??o[o.length-1];break}}a?.focus()};return(0,y.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":a},e),children:i.map((({value:e,label:a,attributes:t})=>(0,y.jsx)("li",{role:"tab",tabIndex:n===e?0:-1,"aria-selected":n===e,ref:e=>{o.push(e)},onKeyDown:l,onClick:d,...t,className:(0,r.A)("tabs__item",b.tabItem,t?.className,{"tabs__item--active":n===e}),children:a??e},e)))})}function g({lazy:e,children:a,selectedValue:n}){const s=(Array.isArray(a)?a:[a]).filter(Boolean);if(e){const e=s.find((e=>e.props.value===n));return e?(0,t.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,y.jsx)("div",{className:"margin-top--md",children:s.map(((e,a)=>(0,t.cloneElement)(e,{key:a,hidden:e.props.value!==n})))})}function v(e){const a=x(e);return(0,y.jsxs)("div",{className:(0,r.A)("tabs-container",b.tabList),children:[(0,y.jsx)(j,{...a,...e}),(0,y.jsx)(g,{...a,...e})]})}function w(e){const a=(0,m.A)();return(0,y.jsx)(v,{...e,children:f(e.children)},String(a))}},8453:(e,a,n)=>{n.d(a,{R:()=>i,x:()=>o});var t=n(6540);const r={},s=t.createContext(r);function i(e){const a=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function o(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(s.Provider,{value:a},e.children)}}}]);
"use strict";(self.webpackChunkchia_docs=self.webpackChunkchia_docs||[]).push([[7437],{8042:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>r,contentTitle:()=>t,default:()=>h,frontMatter:()=>o,metadata:()=>c,toc:()=>d});var s=a(5893),l=a(1151);a(4866),a(5162);const o={slug:"/dao-cli-guide",title:"DAO CLI Guide"},t=void 0,c={id:"guides/dao/dao-cli-guide",title:"DAO CLI Guide",description:"Chia DAOs are currently an alpha primitive. This means that DAOs are not yet ready for production use, but you can still test them on either a simulator or a testnet. We recommend against creating DAOs with this primitive on mainnet!",source:"@site/docs/guides/dao/dao-cli-guide.md",sourceDirName:"guides/dao",slug:"/dao-cli-guide",permalink:"/dao-cli-guide",draft:!1,unlisted:!1,editUrl:"https://github.com/Chia-Network/chia-docs/blob/main/docs/guides/dao/dao-cli-guide.md",tags:[],version:"current",frontMatter:{slug:"/dao-cli-guide",title:"DAO CLI Guide"},sidebar:"guides",previous:{title:"DAOs",permalink:"/guides/daos-developer-guide"},next:{title:"DAO Known Issues",permalink:"/dao-known-issues"}},r={},d=[{value:"Intro",id:"intro",level:2},{value:"About",id:"about",level:2},{value:"Guide",id:"guide",level:2},{value:"Create a DAO",id:"create-a-dao",level:3},{value:"Fund a DAO",id:"fund-a-dao",level:3},{value:"Join a DAO",id:"join-a-dao",level:3},{value:"Lock up coins",id:"lock-up-coins",level:3},{value:"Create a spend proposal",id:"create-a-spend-proposal",level:3},{value:"Vote on a proposal",id:"vote-on-a-proposal",level:3},{value:"Close a proposal",id:"close-a-proposal",level:3},{value:"Mint new CATs",id:"mint-new-cats",level:3},{value:"Change a DAO&#39;s rules",id:"change-a-daos-rules",level:3},{value:"Failed proposal example",id:"failed-proposal-example",level:3}];function i(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.admonition,{type:"warning",children:[(0,s.jsx)(n.mdxAdmonitionTitle,{}),(0,s.jsxs)(n.p,{children:["Chia DAOs are currently an ",(0,s.jsx)(n.em,{children:"alpha"})," primitive. This means that DAOs are not yet ready for production use, but you can still test them on either a simulator or a testnet. ",(0,s.jsx)(n.strong,{children:"We recommend against creating DAOs with this primitive on mainnet!"})]}),(0,s.jsxs)(n.p,{children:["Prior to using the DAO alpha primitive, be sure to read the ",(0,s.jsx)(n.a,{href:"/dao-known-issues",children:"list of known issues"}),"."]})]}),"\n",(0,s.jsx)(n.h2,{id:"intro",children:"Intro"}),"\n",(0,s.jsx)(n.p,{children:"This is a guide for using Chia DAOs from a command line interface (CLI). To follow this guide, you will need:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Chia version 2.1.4 or later"}),"\n",(0,s.jsx)(n.li,{children:"A wallet with some TXCH for creating a treasury"}),"\n",(0,s.jsx)(n.li,{children:"Ideally at least one more wallet to be used for voting on proposals"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"For more information about Chia DAOs, see:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/dao-cli",children:"DAO CLI Reference"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/dao-rpc",children:"DAO RPC Reference"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/Chia-Network/chips/pull/93",children:"DAO1 CHIP"})}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"about",children:"About"}),"\n",(0,s.jsx)(n.p,{children:"Chia Decentralized Autonomous Organizations (DAOs) are organizations where no central entity is in control. DAOs are funded through their treasuries. Membership is determined by ownership of DAO CATs, which function as ownership shares. Any member can create a proposal, for example to spend some of the DAO's treasury. Members vote on proposals with their ownership shares."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"guide",children:"Guide"}),"\n",(0,s.jsx)(n.p,{children:"This guide will use four separate wallets:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.strong,{children:"DAO creator"})," wallet will create the DAO, fund the treasury, distribute voting tokens, and create and vote on proposals."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"DAO participant 1"})," and ",(0,s.jsx)(n.strong,{children:"DAO participant 2"})," will join a DAO that already exists. They will acquire voting tokens from the ",(0,s.jsx)(n.strong,{children:"DAO creator"}),". They can also create and vote on proposals."]}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.strong,{children:"DAO payout wallet"})," will only be used for receiving funds from a ",(0,s.jsx)(n.em,{children:"spend"})," proposal. This wallet will not join the DAO."]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsx)(n.p,{children:"It is possible to replicate almost all of this guide with just one wallet that serves every function listed above. The reason to use four wallets is to show how a DAO would actually work with multiple participants."})}),"\n",(0,s.jsx)(n.h3,{id:"create-a-dao",children:"Create a DAO"}),"\n",(0,s.jsxs)(n.p,{children:["The first step is for the ",(0,s.jsx)(n.strong,{children:"DAO creator"})," wallet to create the DAO. If you are going to follow along, be sure to create and fund your own wallet."]}),"\n",(0,s.jsxs)(n.p,{children:["Before creating the DAO, show the status of the ",(0,s.jsx)(n.strong,{children:"DAO creator"})," wallet:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia wallet show\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Chia Wallet:\n   -Total Balance:         75.997439613215 txch (75997439613215 mojo)\n   -Pending Total Balance: 75.997439613215 txch (75997439613215 mojo)\n   -Spendable:             75.997439613215 txch (75997439613215 mojo)\n   -Type:                  STANDARD_WALLET\n   -Wallet ID:             1\n"})}),"\n",(0,s.jsxs)(n.admonition,{type:"warning",children:[(0,s.jsxs)(n.p,{children:["In order to create a DAO, your wallet must have at least two coins. If there is only one coin in your wallet, you will get an error. You can use the ",(0,s.jsx)(n.a,{href:"/wallet-cli#coins",children:"coins"})," command to see how many coins your wallet contains. For example:"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia wallet coins list\n"})}),(0,s.jsx)(n.p,{children:"In this case, the wallet contains two coins:"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"There are a total of 2 coins in wallet 1.\n2 confirmed coins.\n0 unconfirmed additions.\n0 unconfirmed removals.\nConfirmed coins:\nCoin ID: 0x722a89074b24a5742aa36667e2864b0c7151515a4796b062601de02e67a4bb4c\n        Address: txch1fenczrps3557huq89xz7ky0t0ehjsrqjde5qreardyxp0kqxewasrgr79z Amount: 1.899070877520  (1899070877520 mojo), Confirmed in block: 496076\n\nCoin ID: 0xde53700207e23c74088bd6feaadf39f36248729880ffe112b9420fa27c861d5c\n        Address: txch18k0tt72s6etkdc5yn03ccq90f23r6kleauu6nck7r3jddhwq638qhkxf2w Amount: 74.098368735695  (74098368735695 mojo), Confirmed in block: 496080\n"})})]}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["This guide will use a CLI command to create a DAO. If preferred, you can also create a DAO with the ",(0,s.jsx)(n.a,{href:"/wallet-rpc/#create_new_wallet",children:"create_new_wallet"})," wallet RPC (see Example 4)."]})}),"\n",(0,s.jsxs)(n.p,{children:["The command to create a DAO is ",(0,s.jsx)(n.code,{children:"chia dao create"}),". This command contains many options -- see ",(0,s.jsx)(n.a,{href:"/dao-cli#create",children:"the documentation"})," for a complete list. Most of the options are not required. However, we will change several of them because their default values are more appropriate for real-world DAOs."]}),"\n",(0,s.jsx)(n.p,{children:"For this example, we will specify the following values:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"proposal-timelock: 3"})," -- Proposals must exist for at least 3 blocks before being closed."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"soft-close: 2"})," -- Proposals must be unspent for at least 2 blocks before being closed."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"attendance-required: 3000"})," -- At least 3000 votes ('yes' and 'no' combined) must be received before a proposal can pass."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"pass-percentage: 5000"})," -- At least 50% of votes must be 'yes' in order for a proposal to pass."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"self-destruct: 1"})," -- At least 1 block must pass before a proposal can be removed."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"oracle-delay: 2"})," -- At least 2 blocks must pass between oracle spends of the treasury."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"proposal-minimum: 0.000001"})," -- One million mojos will be donated to the treasury upon completion of a proposal. This prevents bad actors from spamming a DAO with untenable proposals."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"filter-amount: 1"})," -- At least 1 vote must be made for a proposal before the wallet will recognize it."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"cat-amount: 5000"})," -- Five thousand DAO CATs will be created initially."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"m: 0.00001"})," -- A blockchain fee of 0.00001 XCH will be paid for the transaction that creates the DAO."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"fee-for-cat: 0.00001"})," -- A second blockchain fee of 0.00001 XCH will be paid for the transaction that creates the DAO CATs."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"These options are appropriate for running a small-scale DAO on a testnet. Be sure to choose your own options according to your DAO's needs."}),"\n",(0,s.jsx)(n.p,{children:"Here is the command to create this DAO:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia dao create --proposal-timelock 3 --soft-close 2 --attendance-required 3000 --pass-percentage 5000 --self-destruct 1 --oracle-delay 2 --proposal-minimum 0.000001 --filter-amount 1 --cat-amount 5000 -m 0.00001 --fee-for-cat 0.00001\n"})}),"\n",(0,s.jsx)(n.p,{children:"Response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Successfully created DAO Wallet\nDAO Treasury ID: 0x41b28cbffdd7bbe18913ea84b75887264889ba3948fc9166881ba0bb359bd123\nDAO Wallet ID: 2\nCAT Wallet ID: 3\nDAOCAT Wallet ID: 4\n"})}),"\n",(0,s.jsxs)(n.p,{children:["This command will execute two simultaneous transactions: one to create the DAO and one to mint the CATs. It will also create a ",(0,s.jsx)(n.code,{children:"CAT"})," wallet and a ",(0,s.jsx)(n.code,{children:"DAO_CAT"})," wallet. After creating the DAO, the ",(0,s.jsx)(n.strong,{children:"DAO creator"})," can view the status of these wallets by running ",(0,s.jsx)(n.code,{children:"chia wallet show"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia wallet show\n"})}),"\n",(0,s.jsx)(n.p,{children:"Response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Chia Wallet:\n   -Total Balance:         75.997419608214 txch (75997419608214 mojo)\n   -Pending Total Balance: 75.997419608214 txch (75997419608214 mojo)\n   -Spendable:             75.997419608214 txch (75997419608214 mojo)\n   -Type:                  STANDARD_WALLET\n   -Wallet ID:             1\n\nProfile 1:\n   -Total Balance:         1.0\n   -Pending Total Balance: 1.0\n   -Spendable:             1.0\n   -Type:                  DAO\n   -Treasury ID:           41b28cbffdd7bbe18913ea84b75887264889ba3948fc9166881ba0bb359bd123\n   -Wallet ID:             2\n\nCAT 52d38b7cc156c8a7...:\n   -Total Balance:         5.0  (5000 mojo)\n   -Pending Total Balance: 5.0  (5000 mojo)\n   -Spendable:             5.0  (5000 mojo)\n   -Type:                  CAT\n   -Asset ID:              52d38b7cc156c8a7a47e0176599d53f1b5cfa6fad47909455383cb8e8c8a2089\n   -Wallet ID:             3\n\nCAT 52d38b7cc156c8a7...:\n   -Total Balance:         0.0\n   -Pending Total Balance: 0.0\n   -Spendable:             0.0\n   -Type:                  DAO_CAT\n   -Asset ID:              52d38b7cc156c8a7a47e0176599d53f1b5cfa6fad47909455383cb8e8c8a2089\n   -Wallet ID:             4\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.strong,{children:"DAO creator"})," now sees the following Wallet IDs:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["DAO singleton: ",(0,s.jsx)(n.code,{children:"Wallet ID: 2"})," -- keeps track of the rules governing the DAO"]}),"\n",(0,s.jsxs)(n.li,{children:["Unlocked DAO tokens: ",(0,s.jsx)(n.code,{children:"Wallet ID: 3"}),' -- tokens that are not in "voting mode"; can be transferred to other participants']}),"\n",(0,s.jsxs)(n.li,{children:["Locked DAO tokens: ",(0,s.jsx)(n.code,{children:"Wallet ID: 4"}),' -- tokens that are in "voting mode"; may only be used to vote on proposals']}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["If you created a DAO using a new wallet (without any CATs, NFTs, DIDs, etc), the DAO singleton will be stored in ",(0,s.jsx)(n.code,{children:"Wallet ID: 2"}),". This wallet must be specified when running DAO commands. If your wallet already had a token such as a CAT occupying ",(0,s.jsx)(n.code,{children:"Wallet ID: 2"})," upon creating the DAO, then your DAO singleton will use a higher number for its ",(0,s.jsx)(n.code,{children:"Wallet ID"}),". Be sure to modify the commands from this document accordingly."]})}),"\n",(0,s.jsx)(n.p,{children:'In this case, five unlocked CATs were created from 5000 mojos. As will be demonstrated later, these CATs can be locked to be used for voting, thus creating up to 5000 total votes for the DAO. Recall that -- according to this DAO\'s custom rules -- at least 3000 votes must be cast in order for a proposal to pass. This is similar to when a democratic government requires a quorum of members to be present in order to vote on legislation. In addition, at least 50% of the votes must be "yes" in order for a proposal to pass.'}),"\n",(0,s.jsx)(n.p,{children:"For now, the DAO's creator has control of each of the votes. We'll distribute some of the votes to other participants later."}),"\n",(0,s.jsxs)(n.p,{children:["Before moving on, let's examine the DAO's rules by running the ",(0,s.jsx)(n.code,{children:"rules"})," command:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia dao rules -i 2\n"})}),"\n",(0,s.jsx)(n.p,{children:"Response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"attendance_required: 3000\noracle_spend_delay: 2\npass_percentage: 5000\nproposal_minimum_amount: 1000001\nproposal_timelock: 3\nself_destruct_length: 1\nsoft_close_length: 2\n"})}),"\n",(0,s.jsx)(n.h3,{id:"fund-a-dao",children:"Fund a DAO"}),"\n",(0,s.jsxs)(n.p,{children:["Initially, the DAO's treasury will contain no funds. This can be verified by running the ",(0,s.jsx)(n.code,{children:"balance"})," command:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia dao balance -i 2\n"})}),"\n",(0,s.jsx)(n.p,{children:"Response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"The DAO treasury currently has no funds\n"})}),"\n",(0,s.jsx)(n.p,{children:"To add funds, first we need to get the DAO's ID:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia dao get_id -i 2\n"})}),"\n",(0,s.jsx)(n.p,{children:"Response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Treasury ID: 0x41b28cbffdd7bbe18913ea84b75887264889ba3948fc9166881ba0bb359bd123\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Next, we can add funds. In this case we'll add 5 TXCH from ",(0,s.jsx)(n.code,{children:"Wallet ID: 1"})," (the TXCH wallet). Adding funds requires an on-chain transaction, so we'll include a blockchain fee of 0.00001 TXCH:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia dao add_funds -i 2 --funding-wallet-id 1 -a 5 -m 0.00001\n"})}),"\n",(0,s.jsx)(n.p,{children:"Response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Transaction submitted to nodes: [{'peer_id': 'b3d9de85d29931c10050b56c7afb91c99141943fc81ff2d1a8425e52be0d08ab', 'inclusion_status': 'SUCCESS', 'error_msg': None}]\nRun 'chia wallet get_transaction -f 3885096935 -tx 0x2ae64a45323a172b0834ddc58c4fbcfdf9a12b256feaf8f93eb8407e6a0df662' to get status\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The transaction will require a few minutes to be accepted. Run the suggested ",(0,s.jsx)(n.code,{children:"get_transaction"})," command to obtain the status:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia wallet get_transaction -f 3885096935 -tx 0x2ae64a45323a172b0834ddc58c4fbcfdf9a12b256feaf8f93eb8407e6a0df662\n"})}),"\n",(0,s.jsx)(n.p,{children:"Response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Transaction 2ae64a45323a172b0834ddc58c4fbcfdf9a12b256feaf8f93eb8407e6a0df662\nStatus: Confirmed\nAmount sent: 5 TXCH\nTo address: txch1lql93k68r6cufuuyla7cman8a4r06egj96t7486wf8f2yqv43tnq067l0j\nCreated at: 2023-11-24 09:19:37\n"})}),"\n",(0,s.jsxs)(n.p,{children:["After the transaction has been ",(0,s.jsx)(n.code,{children:"Confirmed"}),", the DAOs balance will also be updated:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia dao balance -i 2\n"})}),"\n",(0,s.jsx)(n.p,{children:"Response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"XCH: 5.0\n"})}),"\n",(0,s.jsx)(n.p,{children:"The DAO now has 5 TXCH in its treasury. But there isn't much point in creating a DAO with only one member. The next step will be to get others to join."}),"\n",(0,s.jsx)(n.h3,{id:"join-a-dao",children:"Join a DAO"}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["This guide will use a CLI command to join an existing DAO. If preferred, you can also join a DAO with the ",(0,s.jsx)(n.a,{href:"/wallet-rpc/#create_new_wallet",children:"create_new_wallet"})," wallet RPC (see Example 5)."]})}),"\n",(0,s.jsxs)(n.p,{children:["For this example, we will begin with a wallet that contains 3 TXCH. This will become the wallet for ",(0,s.jsx)(n.strong,{children:"DAO participant 1"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia wallet show\n"})}),"\n",(0,s.jsx)(n.p,{children:"Response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Chia Wallet:\n   -Total Balance:         3.0 txch (3000000000000 mojo)\n   -Pending Total Balance: 3.0 txch (3000000000000 mojo)\n   -Spendable:             3.0 txch (3000000000000 mojo)\n   -Type:                  STANDARD_WALLET\n   -Wallet ID:             1\n"})}),"\n",(0,s.jsxs)(n.p,{children:["This owner of this wallet wants to join the DAO. First, you will need to send them the treasury ID, which is ",(0,s.jsx)(n.code,{children:"0x41b28cbffdd7bbe18913ea84b75887264889ba3948fc9166881ba0bb359bd123"})," in this example."]}),"\n",(0,s.jsxs)(n.p,{children:["The participant can then track your DAO by running the ",(0,s.jsx)(n.code,{children:"add"})," command. Just in case this wallet wants to track more than one DAO, we can give it a human-readable name:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'chia dao add -n "Tutorial DAO" -t 0x41b28cbffdd7bbe18913ea84b75887264889ba3948fc9166881ba0bb359bd123\n'})}),"\n",(0,s.jsx)(n.p,{children:"Response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Adding wallet for DAO: 0x41b28cbffdd7bbe18913ea84b75887264889ba3948fc9166881ba0bb359bd123\nThis may take awhile.\nSuccessfully created DAO Wallet\nDAO Treasury ID: 0x41b28cbffdd7bbe18913ea84b75887264889ba3948fc9166881ba0bb359bd123\nDAO Wallet ID: 2\nCAT Wallet ID: 3\nDAOCAT Wallet ID: 4\n"})}),"\n",(0,s.jsxs)(n.p,{children:["As with the wallet for the ",(0,s.jsx)(n.strong,{children:"DAO creator"}),", three new wallet IDs have been created. ",(0,s.jsx)(n.strong,{children:"DAO participant 1"})," currently does not have any DAO tokens (",(0,s.jsx)(n.code,{children:"Wallet ID: 3"}),"):"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia wallet show\n"})}),"\n",(0,s.jsx)(n.p,{children:"Response"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Chia Wallet:\n   -Total Balance:         3.0 txch (3000000000000 mojo)\n   -Pending Total Balance: 3.0 txch (3000000000000 mojo)\n   -Spendable:             3.0 txch (3000000000000 mojo)\n   -Type:                  STANDARD_WALLET\n   -Wallet ID:             1\n\nTutorial DAO:\n   -Total Balance:         1.0\n   -Pending Total Balance: 1.0\n   -Spendable:             1.0\n   -Type:                  DAO\n   -Treasury ID:           41b28cbffdd7bbe18913ea84b75887264889ba3948fc9166881ba0bb359bd123\n   -Wallet ID:             2\n\nCAT 52d38b7cc156c8a7...:\n   -Total Balance:         0.0  (0 mojo)\n   -Pending Total Balance: 0.0  (0 mojo)\n   -Spendable:             0.0  (0 mojo)\n   -Type:                  CAT\n   -Asset ID:              52d38b7cc156c8a7a47e0176599d53f1b5cfa6fad47909455383cb8e8c8a2089\n   -Wallet ID:             3\n\nCAT 52d38b7cc156c8a7...:\n   -Total Balance:         0.0\n   -Pending Total Balance: 0.0\n   -Spendable:             0.0\n   -Type:                  DAO_CAT\n   -Asset ID:              52d38b7cc156c8a7a47e0176599d53f1b5cfa6fad47909455383cb8e8c8a2089\n   -Wallet ID:             4\n"})}),"\n",(0,s.jsxs)(n.p,{children:["DAO CATs can be acquired by using Chia Offers (See our ",(0,s.jsx)(n.a,{href:"/guides/offers-cli-tutorial",children:"Offers tutorial"})," for more info)."]}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["Offers are recommended, but not required, for acquiring DAO CATs. In addition, either party (",(0,s.jsx)(n.strong,{children:"DAO creator"})," and ",(0,s.jsx)(n.strong,{children:"DAO participant 1"})," in this example) can create the offer, and either party can accept it."]})}),"\n",(0,s.jsx)(n.p,{children:"In this case, let's create an Offer to buy 1 CAT (1000 voting tokens) for 1 TXCH:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia wallet make_offer -o 1:1 -r 3:1 -p 1_TXCH_for_1_CAT.offer\n"})}),"\n",(0,s.jsx)(n.p,{children:"Confirmation is required before creating the offer:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Creating Offer\n--------------\n\nOFFERING:\n  - 1 XCH (1000000000000 mojos)\nREQUESTING:\n  - 1 CAT 52d38b7cc156c8a7... (1000 mojos)\nConfirm (y/n): y\nCreated offer with ID 3c40cbbc40d7c82a0a88966892fd9eb5db3b924bcf40cea4e08aa1fc834fe128\nUse chia wallet get_offers --id 3c40cbbc40d7c82a0a88966892fd9eb5db3b924bcf40cea4e08aa1fc834fe128 -f 2458592469 to view status\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Now that the Offer file has been created, ",(0,s.jsx)(n.strong,{children:"DAO participant 1"})," can send it to the ",(0,s.jsx)(n.strong,{children:"DAO creator"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["Next, we'll use the ",(0,s.jsx)(n.strong,{children:"DAO creator"})," wallet to view the Offer. The ",(0,s.jsx)(n.code,{children:"-e"})," flag will ensure that we only examine the Offer without taking it for now:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia wallet take_offer -e 1_TXCH_for_1_CAT.offer\n"})}),"\n",(0,s.jsx)(n.p,{children:"Response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Summary:\n  OFFERED:\n    - TXCH (Wallet ID: 1): 1.0 (1000000000000 mojos)\n  REQUESTED:\n    - CAT 52d38b7cc156c8a7... (Wallet ID: 3): 1.0 (1000 mojos)\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The owner of the ",(0,s.jsx)(n.strong,{children:"DAO creator"})," wallet should verify that the CAT ID matches the ID from the DAO before accepting the Offer. In this case, the ID is correct, so the ",(0,s.jsx)(n.strong,{children:"DAO creator"})," will accept the Offer by running the same command without the ",(0,s.jsx)(n.code,{children:"-e"})," flag:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia wallet take_offer 1_TXCH_for_1_CAT.offer\n"})}),"\n",(0,s.jsx)(n.p,{children:"Once again, confirmation is required:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Summary:\n  OFFERED:\n    - TXCH (Wallet ID: 1): 1.0 (1000000000000 mojos)\n  REQUESTED:\n    - CAT 52d38b7cc156c8a7... (Wallet ID: 3): 1.0 (1000 mojos)\n\nIncluded Fees: 0 TXCH, 0 mojos\n\nWould you like to take this offer? (y/n): y\nAccepted offer with ID ae4cb8049069b450d82c75b74daa9a28149fa0ec342c7a3a621574262bf52f30\nUse chia wallet get_offers --id ae4cb8049069b450d82c75b74daa9a28149fa0ec342c7a3a621574262bf52f30 -f 3885096935 to view its status\n"})}),"\n",(0,s.jsxs)(n.p,{children:["After the transaction has been confirmed, the ",(0,s.jsx)(n.strong,{children:"DAO creator"})," has 4 CATs remaining, and ",(0,s.jsx)(n.strong,{children:"DAO participant 1"})," has 1 CAT and 2 TXCH."]}),"\n",(0,s.jsxs)(n.p,{children:["Next, we will repeat this process with ",(0,s.jsx)(n.strong,{children:"DAO participant 2"}),", except that wallet will acquire 2 CATs in exchange for 2 TXCH. For brevity, we won't show those transactions here."]}),"\n",(0,s.jsx)(n.p,{children:"As a review, the status of each of the wallets is as follows:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"DAO creator"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Chia Wallet:\n   -Total Balance:         73.997309608214 txch (73997309608214 mojo)\n   -Pending Total Balance: 74.997309608214 txch (74997309608214 mojo)\n   -Spendable:             73.997309608214 txch (73997309608214 mojo)\n   -Type:                  STANDARD_WALLET\n   -Wallet ID:             1\n\nProfile 1:\n   -Total Balance:         1.0\n   -Pending Total Balance: 1.0\n   -Spendable:             1.0\n   -Type:                  DAO\n   -Treasury ID:           41b28cbffdd7bbe18913ea84b75887264889ba3948fc9166881ba0bb359bd123\n   -Wallet ID:             2\n\nCAT 52d38b7cc156c8a7...:\n   -Total Balance:         2.0  (2000 mojo)\n   -Pending Total Balance: 2.0  (2000 mojo)\n   -Spendable:             2.0  (2000 mojo)\n   -Type:                  CAT\n   -Asset ID:              52d38b7cc156c8a7a47e0176599d53f1b5cfa6fad47909455383cb8e8c8a2089\n   -Wallet ID:             3\n\nCAT 52d38b7cc156c8a7...:\n   -Total Balance:         0.0\n   -Pending Total Balance: 0.0\n   -Spendable:             0.0\n   -Type:                  DAO_CAT\n   -Asset ID:              52d38b7cc156c8a7a47e0176599d53f1b5cfa6fad47909455383cb8e8c8a2089\n   -Wallet ID:             4\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"DAO participant 1"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Chia Wallet:\n   -Total Balance:         2.0 txch (2000000000000 mojo)\n   -Pending Total Balance: 2.0 txch (2000000000000 mojo)\n   -Spendable:             2.0 txch (2000000000000 mojo)\n   -Type:                  STANDARD_WALLET\n   -Wallet ID:             1\n\nTutorial DAO:\n   -Total Balance:         1.0\n   -Pending Total Balance: 1.0\n   -Spendable:             1.0\n   -Type:                  DAO\n   -Treasury ID:           41b28cbffdd7bbe18913ea84b75887264889ba3948fc9166881ba0bb359bd123\n   -Wallet ID:             2\n\nCAT 52d38b7cc156c8a7...:\n   -Total Balance:         1.0  (1000 mojo)\n   -Pending Total Balance: 1.0  (1000 mojo)\n   -Spendable:             1.0  (1000 mojo)\n   -Type:                  CAT\n   -Asset ID:              52d38b7cc156c8a7a47e0176599d53f1b5cfa6fad47909455383cb8e8c8a2089\n   -Wallet ID:             3\n\nCAT 52d38b7cc156c8a7...:\n   -Total Balance:         0.0\n   -Pending Total Balance: 0.0\n   -Spendable:             0.0\n   -Type:                  DAO_CAT\n   -Asset ID:              52d38b7cc156c8a7a47e0176599d53f1b5cfa6fad47909455383cb8e8c8a2089\n   -Wallet ID:             4\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"DAO participant 2"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Chia Wallet:\n   -Total Balance:         1.0 txch (1000000000000 mojo)\n   -Pending Total Balance: 1.0 txch (1000000000000 mojo)\n   -Spendable:             1.0 txch (1000000000000 mojo)\n   -Type:                  STANDARD_WALLET\n   -Wallet ID:             1\n\nTutorial DAO:\n   -Total Balance:         1.0\n   -Pending Total Balance: 1.0\n   -Spendable:             1.0\n   -Type:                  DAO\n   -Treasury ID:           41b28cbffdd7bbe18913ea84b75887264889ba3948fc9166881ba0bb359bd123\n   -Wallet ID:             2\n\nCAT 52d38b7cc156c8a7...:\n   -Total Balance:         2.0  (2000 mojo)\n   -Pending Total Balance: 2.0  (2000 mojo)\n   -Spendable:             2.0  (2000 mojo)\n   -Type:                  CAT\n   -Asset ID:              52d38b7cc156c8a7a47e0176599d53f1b5cfa6fad47909455383cb8e8c8a2089\n   -Wallet ID:             3\n\nCAT 52d38b7cc156c8a7...:\n   -Total Balance:         0.0\n   -Pending Total Balance: 0.0\n   -Spendable:             0.0\n   -Type:                  DAO_CAT\n   -Asset ID:              52d38b7cc156c8a7a47e0176599d53f1b5cfa6fad47909455383cb8e8c8a2089\n   -Wallet ID:             4\n"})}),"\n",(0,s.jsx)(n.h3,{id:"lock-up-coins",children:"Lock up coins"}),"\n",(0,s.jsxs)(n.p,{children:["In each of the wallets, the ",(0,s.jsx)(n.code,{children:"DAO_CAT"})," balance is ",(0,s.jsx)(n.code,{children:"0.0"}),". This is because the tokens from each wallet are not currently in voting mode. Each wallet still needs to run the ",(0,s.jsx)(n.code,{children:"lockup_coins"})," command. The maximum number of tokens they can lock is the number of CAT mojos they currently possess. In this case, we'll lock 1 CAT (1000 DAO_CAT) for each wallet:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia dao lockup_coins -i 2 -a 1 -m 0.00001\n"})}),"\n",(0,s.jsx)(n.p,{children:"Response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Transaction submitted to nodes: [{'peer_id': 'b3d9de85d29931c10050b56c7afb91c99141943fc81ff2d1a8425e52be0d08ab', 'inclusion_status': 'SUCCESS', 'error_msg': None}]\nRun 'chia wallet get_transaction -f 3885096935 -tx 0xe3eeeb55f97dea6f3330c286b917afea8c3e0f3a388b00d33abf93e44d2efe0d' to get status\n"})}),"\n",(0,s.jsx)(n.p,{children:"In each wallet's case, an on-chain transaction is required. After running this command on all three wallets, the status of CATs and DAO_CATs is as follows:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"DAO creator"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"CAT 52d38b7cc156c8a7...:\n   -Total Balance:         1.0  (1000 mojo)\n   -Pending Total Balance: 1.0  (1000 mojo)\n   -Spendable:             1.0  (1000 mojo)\n   -Type:                  CAT\n   -Asset ID:              52d38b7cc156c8a7a47e0176599d53f1b5cfa6fad47909455383cb8e8c8a2089\n   -Wallet ID:             3\n\nCAT 52d38b7cc156c8a7...:\n   -Total Balance:         1000.0\n   -Pending Total Balance: 0.0\n   -Spendable:             0.0\n   -Type:                  DAO_CAT\n   -Asset ID:              52d38b7cc156c8a7a47e0176599d53f1b5cfa6fad47909455383cb8e8c8a2089\n   -Wallet ID:             4\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"DAO participant 1"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"CAT 52d38b7cc156c8a7...:\n   -Total Balance:         0.0  (0 mojo)\n   -Pending Total Balance: 0.0  (0 mojo)\n   -Spendable:             0.0  (0 mojo)\n   -Type:                  CAT\n   -Asset ID:              52d38b7cc156c8a7a47e0176599d53f1b5cfa6fad47909455383cb8e8c8a2089\n   -Wallet ID:             3\n\nCAT 52d38b7cc156c8a7...:\n   -Total Balance:         1000.0\n   -Pending Total Balance: 0.0\n   -Spendable:             0.0\n   -Type:                  DAO_CAT\n   -Asset ID:              52d38b7cc156c8a7a47e0176599d53f1b5cfa6fad47909455383cb8e8c8a2089\n   -Wallet ID:             4\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"DAO participant 2"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"CAT 52d38b7cc156c8a7...:\n   -Total Balance:         1.0  (1000 mojo)\n   -Pending Total Balance: 1.0  (1000 mojo)\n   -Spendable:             1.0  (1000 mojo)\n   -Type:                  CAT\n   -Asset ID:              52d38b7cc156c8a7a47e0176599d53f1b5cfa6fad47909455383cb8e8c8a2089\n   -Wallet ID:             3\n\nCAT 52d38b7cc156c8a7...:\n   -Total Balance:         1000.0\n   -Pending Total Balance: 0.0\n   -Spendable:             0.0\n   -Type:                  DAO_CAT\n   -Asset ID:              52d38b7cc156c8a7a47e0176599d53f1b5cfa6fad47909455383cb8e8c8a2089\n   -Wallet ID:             4\n"})}),"\n",(0,s.jsx)(n.p,{children:"A total of 3000 tokens (1000 for each wallet) have been locked up for voting. This means that a new proposal can receive up to 3000 votes. The wallets with remaining unlocked CATs can lock their CATs to add more votes if desired."}),"\n",(0,s.jsx)(n.h3,{id:"create-a-spend-proposal",children:"Create a spend proposal"}),"\n",(0,s.jsx)(n.p,{children:"DAOs come with three types of proposals:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Spend some of the treasury"}),"\n",(0,s.jsx)(n.li,{children:"Mint more CATs for the DAO"}),"\n",(0,s.jsx)(n.li,{children:"Change the DAO's rules"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["First, let's create a spend proposal. To set this proposal up, we will need an address to which to send the funds if the proposal succeeds. This can be ",(0,s.jsx)(n.em,{children:"any"})," XCH/TXCH address (it could be the address of a new singleton or any other smart contract), but for this tutorial the ",(0,s.jsx)(n.strong,{children:"DAO payout wallet"})," will just be a standard wallet."]}),"\n",(0,s.jsxs)(n.p,{children:["Let's say the ",(0,s.jsx)(n.strong,{children:"DAO payout wallet"})," currently has no balance:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia wallet show\n"})}),"\n",(0,s.jsx)(n.p,{children:"Response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Chia Wallet:\n   -Total Balance:         0.0 txch (0 mojo)\n   -Pending Total Balance: 0.0 txch (0 mojo)\n   -Spendable:             0.0 txch (0 mojo)\n   -Type:                  STANDARD_WALLET\n   -Wallet ID:\n"})}),"\n",(0,s.jsx)(n.p,{children:"We'll obtain an address from this wallet to be used as the proposal's payout address:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia wallet get_address\n"})}),"\n",(0,s.jsx)(n.p,{children:"Response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"txch1796cqesu4cghd603743hdsp4ffz0tj0tacp63ag2p433fhudkyuq58sw69\n"})}),"\n",(0,s.jsx)(n.p,{children:"Recall that the DAO's treasury contains 5 TXCH. Any of the participating wallets can verify this:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia dao balance -i 2\n"})}),"\n",(0,s.jsx)(n.p,{children:"Response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"XCH: 5.0\n"})}),"\n",(0,s.jsx)(n.p,{children:"In addition, any of the participating wallets can show the DAO's rules:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia dao rules -i 2\n"})}),"\n",(0,s.jsx)(n.p,{children:"Response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"attendance_required: 3000\noracle_spend_delay: 2\npass_percentage: 5000\nproposal_minimum_amount: 1000001\nproposal_timelock: 3\nself_destruct_length: 1\nsoft_close_length: 2\n"})}),"\n",(0,s.jsxs)(n.p,{children:["In this case, the minimum amount for a proposal is ",(0,s.jsx)(n.code,{children:"1 000 001"})," mojos. Upon a proposal's creation, this amount will be reserved from the proposal creator's wallet. When the proposal is closed, the amount will be added to the DAO's treasury. This amount exists as a deterrent from participants spamming a DAO with proposals with little chance of passing."]}),"\n",(0,s.jsxs)(n.p,{children:["Let's say ",(0,s.jsx)(n.strong,{children:"DAO participant 2"})," wants to create a proposal to send 1 TXCH to the above address. This person also wants to use each of their 1000 votes to vote in favor of this proposal immediately. Creating a proposal requires an on-chain transaction, so the proposal's creator also adds a fee:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia dao create_proposal spend -i 2 -a 1 -t txch1796cqesu4cghd603743hdsp4ffz0tj0tacp63ag2p433fhudkyuq58sw69 -v 1000 -m 0.00001\n"})}),"\n",(0,s.jsx)(n.p,{children:"Response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Created spend proposal for asset: XCH\nSuccessfully created proposal.\nProposal ID: 0x7b10351e130317fc3f7b6d5e50aeb3b8d63db7545ef5e80836913f5741cdbb22\n"})}),"\n",(0,s.jsx)(n.p,{children:"After the transaction to create the proposal has been confirmed on the blockchain, any of the DAO's participants can view its status:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia dao show_proposal -i 2 -p 0x7b10351e130317fc3f7b6d5e50aeb3b8d63db7545ef5e80836913f5741cdbb22\n"})}),"\n",(0,s.jsx)(n.p,{children:"Response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Details of Proposal: 0x7b10351e130317fc3f7b6d5e50aeb3b8d63db7545ef5e80836913f5741cdbb22\n---------------------------\n\nType: SPEND\nStatus: OPEN\nPassed: False\nYes votes needed: 500\nClosable: False\nTotal votes needed: 2000\nBlocks remaining: 2\n\nProposal XCH Conditions\nAddress: txch1796cqesu4cghd603743hdsp4ffz0tj0tacp63ag2p433fhudkyuq58sw69\nAmount: 1000000000000\n"})}),"\n",(0,s.jsx)(n.h3,{id:"vote-on-a-proposal",children:"Vote on a proposal"}),"\n",(0,s.jsxs)(n.p,{children:["Continuing from the above example, we have a proposal to send 1 TXCH to an address. ",(0,s.jsx)(n.strong,{children:"DAO participant 2"})," recorded 1000 votes in favor of this proposal immediately upon creating it."]}),"\n",(0,s.jsxs)(n.p,{children:["Any of the DAO's participants can view outstanding proposals by running the ",(0,s.jsx)(n.code,{children:"list_proposals"})," command for their wallet. Let's say ",(0,s.jsx)(n.strong,{children:"DAO participant 1"})," wants to see which proposals are outstanding:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia dao list_proposals -i 2\n"})}),"\n",(0,s.jsx)(n.p,{children:"This command will return a summary of all proposals:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"############################\nProposal ID: 0x7b10351e130317fc3f7b6d5e50aeb3b8d63db7545ef5e80836913f5741cdbb22\nStatus: OPEN\nVotes for: 1000\nVotes against: 0\n------------------------\nProposals have 2 blocks of soft close time.\n############################\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"DAO participant 1"})," can now show the details of the open proposal:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia dao show_proposal -i 2 -p 0x7b10351e130317fc3f7b6d5e50aeb3b8d63db7545ef5e80836913f5741cdbb22\n"})}),"\n",(0,s.jsx)(n.p,{children:"Response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Details of Proposal: 0x7b10351e130317fc3f7b6d5e50aeb3b8d63db7545ef5e80836913f5741cdbb22\n---------------------------\n\nType: SPEND\nStatus: OPEN\nPassed: False\nYes votes needed: 500\nClosable: False\nTotal votes needed: 2000\nBlocks remaining: 0\n\nProposal XCH Conditions\nAddress: txch1796cqesu4cghd603743hdsp4ffz0tj0tacp63ag2p433fhudkyuq58sw69\nAmount: 1000000000000\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Let's say ",(0,s.jsx)(n.strong,{children:"DAO participant 1"})," doesn't like this proposal and wants to vote ",(0,s.jsx)(n.em,{children:"against"})," it. This can be accomplished by running the ",(0,s.jsx)(n.code,{children:"vote"})," command and adding the ",(0,s.jsx)(n.code,{children:"-n"})," (vote 'no') flag. In this case, ",(0,s.jsx)(n.strong,{children:"DAO participant 1"})," allocates all 1000 tokens for a 'no' vote, and includes a blockchain fee:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia dao vote -i 2 -n -p 0x7b10351e130317fc3f7b6d5e50aeb3b8d63db7545ef5e80836913f5741cdbb22 -a 1000 -m 0.0001\n"})}),"\n",(0,s.jsx)(n.p,{children:"Response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Transaction not yet submitted to nodes. TX ID: 0x8477123fac69e59e2e2f46185e10a4071489a899d9d6f8e992ff71b121cfbf1b\n"})}),"\n",(0,s.jsx)(n.p,{children:"After a few minutes, the proposal's status will be updated:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Details of Proposal: 0x7b10351e130317fc3f7b6d5e50aeb3b8d63db7545ef5e80836913f5741cdbb22\n---------------------------\n\nType: SPEND\nStatus: OPEN\nPassed: False\nYes votes needed: 500\nClosable: False\nTotal votes needed: 1000\nBlocks remaining: 0\n\nProposal XCH Conditions\nAddress: txch1796cqesu4cghd603743hdsp4ffz0tj0tacp63ag2p433fhudkyuq58sw69\nAmount: 1000000000000\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The value for ",(0,s.jsx)(n.code,{children:"Yes votes needed"})," has not changed, but ",(0,s.jsx)(n.code,{children:"Total votes needed"})," has dropped from ",(0,s.jsx)(n.code,{children:"2000"})," to ",(0,s.jsx)(n.code,{children:"1000"}),". A quorum of 3000 votes has not been reached, so the proposal has not yet passed. ",(0,s.jsx)(n.strong,{children:"DAO participant 1"})," does not have any more voting tokens available to vote against this proposal, so it has not yet failed, either."]}),"\n",(0,s.jsxs)(n.p,{children:["Let's say ",(0,s.jsx)(n.strong,{children:"DAO participant 1"})," attempts to add one more 'no' vote:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia dao vote -i 2 -n -p 0x7b10351e130317fc3f7b6d5e50aeb3b8d63db7545ef5e80836913f5741cdbb22 -a 1 -m 0.0001\n"})}),"\n",(0,s.jsx)(n.p,{children:"This will result in the following error:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ValueError: We do not have enough CATs in Voting Mode right now. Please convert some more or try again with permission to convert.\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The only participant who has not voted is the ",(0,s.jsx)(n.strong,{children:"DAO creator"}),". Let's say this person likes the proposal and decides to vote 'yes'. By default, votes are considered 'yes', so no extra flags are needed:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia dao vote -i 2 -p 0x7b10351e130317fc3f7b6d5e50aeb3b8d63db7545ef5e80836913f5741cdbb22 -a 1000 -m 0.0001\n"})}),"\n",(0,s.jsx)(n.p,{children:"Response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Transaction not yet submitted to nodes. TX ID: 0x0345ff1032a181b4dd2409d44bccc54dff9fa2f07a34169a56f806bcc27fd190\n"})}),"\n",(0,s.jsx)(n.p,{children:"After the transaction has been confirmed, the DAO's status is as follows:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Details of Proposal: 0x7b10351e130317fc3f7b6d5e50aeb3b8d63db7545ef5e80836913f5741cdbb22\n---------------------------\n\nType: SPEND\nStatus: OPEN\nPassed: True\nClosable: True\n\nProposal XCH Conditions\nAddress: txch1796cqesu4cghd603743hdsp4ffz0tj0tacp63ag2p433fhudkyuq58sw69\nAmount: 1000000000000\n"})}),"\n",(0,s.jsx)(n.p,{children:'At this point, 3000 votes have been cast: 2000 in favor and 1000 against. The DAO\'s "soft close" blocks have elapsed, so this proposal passes and can now be closed.'}),"\n",(0,s.jsx)(n.h3,{id:"close-a-proposal",children:"Close a proposal"}),"\n",(0,s.jsx)(n.p,{children:"Prior to closing the proposal, let's check in on the DAO's treasury:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia dao balance -i 2\n"})}),"\n",(0,s.jsx)(n.p,{children:"Response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"XCH: 5.0\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Meanwhile, the ",(0,s.jsx)(n.strong,{children:"DAO payout wallet"})," is empty:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Chia Wallet:\n   -Total Balance:         0.0 txch (0 mojo)\n   -Pending Total Balance: 0.0 txch (0 mojo)\n   -Spendable:             0.0 txch (0 mojo)\n   -Type:                  STANDARD_WALLET\n   -Wallet ID:             1\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Any of a DAO's participants can close a proposal after it has passed or failed. In this case, the ",(0,s.jsx)(n.strong,{children:"DAO creator"})," will close the proposal:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia dao close_proposal -i 2 -p 0x7b10351e130317fc3f7b6d5e50aeb3b8d63db7545ef5e80836913f5741cdbb22 -m 0.0001\n"})}),"\n",(0,s.jsx)(n.p,{children:"Response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Transaction submitted to nodes: [{'peer_id': 'b3d9de85d29931c10050b56c7afb91c99141943fc81ff2d1a8425e52be0d08ab', 'inclusion_status': 'SUCCESS', 'error_msg': None}]\nRun 'chia wallet get_transaction -f 3110252292 -tx 0xcd20636990287148e1113c33542650f3700f24f806c822660283317dda39a756' to get status\n"})}),"\n",(0,s.jsxs)(n.p,{children:["After a few minutes, you can run the ",(0,s.jsx)(n.code,{children:"show_proposal"})," command to verify that it has been closed:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia dao show_proposal -i 2 -p 0x7b10351e130317fc3f7b6d5e50aeb3b8d63db7545ef5e80836913f5741cdbb22\n"})}),"\n",(0,s.jsx)(n.p,{children:"Response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Details of Proposal: 0x7b10351e130317fc3f7b6d5e50aeb3b8d63db7545ef5e80836913f5741cdbb22\n---------------------------\n\nType: SPEND\nStatus: CLOSED\nPassed: True\n\nProposal XCH Conditions\nAddress: txch1796cqesu4cghd603743hdsp4ffz0tj0tacp63ag2p433fhudkyuq58sw69\nAmount: 1000000000000\n"})}),"\n",(0,s.jsx)(n.p,{children:"After the proposal has been closed, the treasury's balance will be updated:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia dao balance -i 2\n"})}),"\n",(0,s.jsx)(n.p,{children:"Response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"XCH: 4.000001\n"})}),"\n",(0,s.jsx)(n.p,{children:"The balance of the payout address has also been updated:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Chia Wallet:\n   -Total Balance:         1.0 txch (1000000000000 mojo)\n   -Pending Total Balance: 1.0 txch (1000000000000 mojo)\n   -Spendable:             1.0 txch (1000000000000 mojo)\n   -Type:                  STANDARD_WALLET\n   -Wallet ID:             1\n"})}),"\n",(0,s.jsx)(n.h3,{id:"mint-new-cats",children:"Mint new CATs"}),"\n",(0,s.jsxs)(n.p,{children:["Let's say ",(0,s.jsx)(n.strong,{children:"DAO participant 1"})," wants to mint new CATs for voting. Here is the current status of the wallet:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia wallet show\n"})}),"\n",(0,s.jsx)(n.p,{children:"Response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Chia Wallet:\n   -Total Balance:         1.99999 txch (1999990000000 mojo)\n   -Pending Total Balance: 1.99999 txch (1999990000000 mojo)\n   -Spendable:             1.99999 txch (1999990000000 mojo)\n   -Type:                  STANDARD_WALLET\n   -Wallet ID:             1\n\nTutorial DAO:\n   -Total Balance:         1.0\n   -Pending Total Balance: 1.0\n   -Spendable:             1.0\n   -Type:                  DAO\n   -Treasury ID:           d14dddb8730b1621e23517d3c1f3ca97cb8d7c835f178e89d6ae85df072efbb5\n   -Wallet ID:             2\n\nCAT e8829304151a4cdb...:\n   -Total Balance:         0.0  (0 mojo)\n   -Pending Total Balance: 0.0  (0 mojo)\n   -Spendable:             0.0  (0 mojo)\n   -Type:                  CAT\n   -Asset ID:              e8829304151a4cdb1b1fdb9a0117d0e3249d92c476f1cd9331d7a6166e6b140d\n   -Wallet ID:             3\n\nCAT e8829304151a4cdb...:\n   -Total Balance:         1000.0\n   -Pending Total Balance: 0.0\n   -Spendable:             0.0\n   -Type:                  DAO_CAT\n   -Asset ID:              e8829304151a4cdb1b1fdb9a0117d0e3249d92c476f1cd9331d7a6166e6b140d\n   -Wallet ID:             4\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"DAO participant 1"})," can then propose to send 1 CAT to an address they control, and add 1000 initial votes."]}),"\n",(0,s.jsx)(n.admonition,{type:"warning",children:(0,s.jsx)(n.p,{children:"The votes need to be minted from the treasury's funds, so your DAO will need to have sufficient funds to perform the minting. In this case, the treasury's minimum requirement is 1000 mojos."})}),"\n",(0,s.jsxs)(n.p,{children:["As a reminder, the ",(0,s.jsx)(n.code,{children:"-a"})," flag specifies the amount in mojos, so ",(0,s.jsx)(n.code,{children:"-a 1000"})," will mint one CAT:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia dao create_proposal mint -i 2 -a 1000 -t txch12gftgd4ep7vlgmtgvk87htxp0k8rrl9jqrpfxm433k8meuv656pqljx82k -v 1000 -m 0.00001\n"})}),"\n",(0,s.jsx)(n.p,{children:"Response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Successfully created proposal.\nProposal ID: 0x66fbce0ae62a7653d9769d19a9b0f56505df01e94fd431968be94d523b621c85\n"})}),"\n",(0,s.jsx)(n.p,{children:"Show the new proposal:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia dao show_proposal -i 2 -p 0x66fbce0ae62a7653d9769d19a9b0f56505df01e94fd431968be94d523b621c85\n"})}),"\n",(0,s.jsx)(n.p,{children:"Response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Details of Proposal: 0x66fbce0ae62a7653d9769d19a9b0f56505df01e94fd431968be94d523b621c85\n---------------------------\n\nType: MINT\nStatus: OPEN\nPassed: False\nYes votes needed: 500\nClosable: False\nTotal votes needed: 2000\nBlocks remaining: 0\n\nAmount of CAT to mint: 1000\nAddress: txch12gftgd4ep7vlgmtgvk87htxp0k8rrl9jqrpfxm433k8meuv656pqljx82k\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Let's say the ",(0,s.jsx)(n.strong,{children:"DAO creator"})," is OK with this proposal, and decides to add 2000 votes in favor:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia dao vote -i 2 -p 0x66fbce0ae62a7653d9769d19a9b0f56505df01e94fd431968be94d523b621c85 -a 2000 -m 0.0001\n"})}),"\n",(0,s.jsx)(n.p,{children:"Response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Transaction submitted to nodes: [{'peer_id': 'b3d9de85d29931c10050b56c7afb91c99141943fc81ff2d1a8425e52be0d08ab', 'inclusion_status': 'SUCCESS', 'error_msg': None}]\nRun 'chia wallet get_transaction -f 3110252292 -tx 0x2452541e2109e4182a212d424872a6261d6e971414f80b4e29548976548b984c' to get status\n"})}),"\n",(0,s.jsx)(n.p,{children:"After the votes have been counted, and the soft close timelock has expired, the proposal becomes closeable:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia dao show_proposal -i 2 -p 0x66fbce0ae62a7653d9769d19a9b0f56505df01e94fd431968be94d523b621c85\n"})}),"\n",(0,s.jsx)(n.p,{children:"Response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Details of Proposal: 0x66fbce0ae62a7653d9769d19a9b0f56505df01e94fd431968be94d523b621c85\n---------------------------\n\nType: MINT\nStatus: OPEN\nPassed: True\nClosable: True\n\nAmount of CAT to mint: 1000\nAddress: txch12gftgd4ep7vlgmtgvk87htxp0k8rrl9jqrpfxm433k8meuv656pqljx82k\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Any DAO member can close the proposal. Let's say ",(0,s.jsx)(n.strong,{children:"DAO participant 1"})," does so:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia dao close_proposal -i 2 -p 0x66fbce0ae62a7653d9769d19a9b0f56505df01e94fd431968be94d523b621c85 -m 0.0001\n"})}),"\n",(0,s.jsx)(n.p,{children:"Response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Transaction submitted to nodes: [{'peer_id': 'b3d9de85d29931c10050b56c7afb91c99141943fc81ff2d1a8425e52be0d08ab', 'inclusion_status': 'SUCCESS', 'error_msg': None}]\nRun 'chia wallet get_transaction -f 3110252292 -tx 0x608c9dccd5f90595b9b0579842ed6633c7bfdcb38688f37b9465443943b252d2' to get status\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"DAO participant 1"})," now has 1000 extra CAT mojos (1 extra CAT, which can be used for 1000 votes):"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"CAT e8829304151a4cdb...:\n   -Total Balance:         1.0  (1000 mojo)\n   -Pending Total Balance: 1.0  (1000 mojo)\n   -Spendable:             1.0  (1000 mojo)\n   -Type:                  CAT\n   -Asset ID:              e8829304151a4cdb1b1fdb9a0117d0e3249d92c476f1cd9331d7a6166e6b140d\n   -Wallet ID:             3\n\nCAT e8829304151a4cdb...:\n   -Total Balance:         1000.0\n   -Pending Total Balance: 0.0\n   -Spendable:             0.0\n   -Type:                  DAO_CAT\n   -Asset ID:              e8829304151a4cdb1b1fdb9a0117d0e3249d92c476f1cd9331d7a6166e6b140d\n   -Wallet ID:             4\n"})}),"\n",(0,s.jsx)(n.h3,{id:"change-a-daos-rules",children:"Change a DAO's rules"}),"\n",(0,s.jsx)(n.p,{children:"A proposal can also be created to change the rules themselves. Let's say a DAO has the following rules:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"attendance_required: 3000\noracle_spend_delay: 2\npass_percentage: 5000\nproposal_minimum_amount: 1000001\nproposal_timelock: 3\nself_destruct_length: 1\nsoft_close_length: 2\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.strong,{children:"DAO creator"})," wants to increase the ",(0,s.jsx)(n.code,{children:"pass_percentage"})," to ",(0,s.jsx)(n.code,{children:"7500"}),', thereby requiring 75% of votes to be "yes" for a proposal to pass.']}),"\n",(0,s.jsx)(n.p,{children:'Here is the command to make this update, along with adding 2000 "yes" votes:'}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia dao create_proposal update -i 2 --pass-percentage 7500 -v 2000 -m 0.0001\n"})}),"\n",(0,s.jsx)(n.p,{children:"Response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Successfully created proposal.\nProposal ID: 0x018421004429b253aef317f6af9c222f179fa7931e3a339572025ce6f4c35626\n"})}),"\n",(0,s.jsx)(n.p,{children:"The proposal will contain the new rules upon passing:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia dao show_proposal -i 2 -p 0x018421004429b253aef317f6af9c222f179fa7931e3a339572025ce6f4c35626\n"})}),"\n",(0,s.jsx)(n.p,{children:"Response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Details of Proposal: 0x018421004429b253aef317f6af9c222f179fa7931e3a339572025ce6f4c35626\n---------------------------\n\nType: UPDATE\nStatus: OPEN\nPassed: True\nClosable: False\nTotal votes needed: 1000\nBlocks remaining: 0\n\nProposed Rules:\nattendance_required: 3000\noracle_spend_delay: 2\npass_percentage: 7500\nproposal_minimum_amount: 1000001\nproposal_timelock: 3\nself_destruct_length: 1\nsoft_close_length: 2\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"DAO participant 1"})," decides to add 1000 votes to the proposal:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia dao vote -i 2 -p 0x018421004429b253aef317f6af9c222f179fa7931e3a339572025ce6f4c35626 -a 1000 -m 0.0001\n"})}),"\n",(0,s.jsx)(n.p,{children:"Response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Transaction submitted to nodes: [{'peer_id': 'b3d9de85d29931c10050b56c7afb91c99141943fc81ff2d1a8425e52be0d08ab', 'inclusion_status': 'SUCCESS', 'error_msg': None}]\nRun 'chia wallet get_transaction -f 3195618875 -tx 0xa8bceb23a457bac82fb5c62ee30f2d923cbccd43d62016a55da84f14df88299d' to get status\n"})}),"\n",(0,s.jsx)(n.p,{children:"At this point, the proposal has passed and can be closed:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia dao show_proposal -i 2 -p 0x018421004429b253aef317f6af9c222f179fa7931e3a339572025ce6f4c35626\n"})}),"\n",(0,s.jsx)(n.p,{children:"Response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Details of Proposal: 0x018421004429b253aef317f6af9c222f179fa7931e3a339572025ce6f4c35626\n---------------------------\n\nType: UPDATE\nStatus: OPEN\nPassed: True\nClosable: True\n\nProposed Rules:\nattendance_required: 3000\noracle_spend_delay: 2\npass_percentage: 7500\nproposal_minimum_amount: 1000001\nproposal_timelock: 3\nself_destruct_length: 1\nsoft_close_length: 2\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia dao close_proposal -i 2 -p 0x018421004429b253aef317f6af9c222f179fa7931e3a339572025ce6f4c35626 -m 0.0001\n"})}),"\n",(0,s.jsx)(n.p,{children:"Response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Transaction submitted to nodes: [{'peer_id': 'b3d9de85d29931c10050b56c7afb91c99141943fc81ff2d1a8425e52be0d08ab', 'inclusion_status': 'SUCCESS', 'error_msg': None}]\nRun 'chia wallet get_transaction -f 3195618875 -tx 0xf90dc4b36dc7e486251ba13d42fbec17b0a4e757cd435e3a31bb1a3086c71e4a' to get status\n"})}),"\n",(0,s.jsx)(n.p,{children:"After the proposal has been closed, the rules will be updated:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia dao rules -i 2\n"})}),"\n",(0,s.jsx)(n.p,{children:"Response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"attendance_required: 3000\noracle_spend_delay: 2\npass_percentage: 7500\nproposal_minimum_amount: 1000001\nproposal_timelock: 3\nself_destruct_length: 1\nsoft_close_length: 2\n"})}),"\n",(0,s.jsx)(n.h3,{id:"failed-proposal-example",children:"Failed proposal example"}),"\n",(0,s.jsx)(n.p,{children:"Beware that DAO members can make nefarious proposals. They can even attempt to drain a DAO's treasury. However, if a DAO is sufficiently decentralized, this should not be possible from a single member. Let's look at an example where a member attempts to take over a DAO:"}),"\n",(0,s.jsxs)(n.p,{children:["As a reminder, ",(0,s.jsx)(n.strong,{children:"DAO participant 2"})," has a balance of 1 ",(0,s.jsx)(n.code,{children:"CAT"})," and 1000 ",(0,s.jsx)(n.code,{children:"DAO_CAT"})," for voting:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"CAT 52d38b7cc156c8a7...:\n   -Total Balance:         1.0  (1000 mojo)\n   -Pending Total Balance: 1.0  (1000 mojo)\n   -Spendable:             1.0  (1000 mojo)\n   -Type:                  CAT\n   -Asset ID:              52d38b7cc156c8a7a47e0176599d53f1b5cfa6fad47909455383cb8e8c8a2089\n   -Wallet ID:             3\n\nCAT 52d38b7cc156c8a7...:\n   -Total Balance:         1000.0\n   -Pending Total Balance: 0.0\n   -Spendable:             0.0\n   -Type:                  DAO_CAT\n   -Asset ID:              52d38b7cc156c8a7a47e0176599d53f1b5cfa6fad47909455383cb8e8c8a2089\n   -Wallet ID:             4\n"})}),"\n",(0,s.jsxs)(n.p,{children:["To mint new CATs, any DAO member can create a ",(0,s.jsx)(n.code,{children:"mint"})," proposal. In this example, ",(0,s.jsx)(n.strong,{children:"DAO participant 2"})," will create a proposal to mint 2000 CATs, and will immediately use all 1000 votes to vote in favor of the proposal. The recipient's address (the ",(0,s.jsx)(n.code,{children:"-t"})," flag) belongs to ",(0,s.jsx)(n.strong,{children:"DAO participant 2"})," in this case:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia dao create_proposal mint -i 2 -a 2000 -t txch17lg990qxhqg65q4vn8ad50whw2rz9pfmn0qw76pmw4cezm20qmeq47phde -v 1000 -m 0.00001\n"})}),"\n",(0,s.jsx)(n.p,{children:"Response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Successfully created proposal.\nProposal ID: 0x1348c3b4c480e2a952825da5417b8667bdb0deaf38478956d38d325df736a606\n"})}),"\n",(0,s.jsx)(n.p,{children:"The details of the proposal are as follows:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia dao show_proposal -i 2 -p 0x1348c3b4c480e2a952825da5417b8667bdb0deaf38478956d38d325df736a606\n"})}),"\n",(0,s.jsx)(n.p,{children:"Response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Details of Proposal: 0x1348c3b4c480e2a952825da5417b8667bdb0deaf38478956d38d325df736a606\n---------------------------\n\nType: MINT\nStatus: OPEN\nPassed: False\nYes votes needed: 500\nClosable: False\nTotal votes needed: 2000\nBlocks remaining: 0\n\nAmount of CAT to mint: 2000\nAddress: txch17lg990qxhqg65q4vn8ad50whw2rz9pfmn0qw76pmw4cezm20qmeq47phde\n"})}),"\n",(0,s.jsxs)(n.p,{children:["In this case, there are 1000 ",(0,s.jsx)(n.code,{children:"Yes"})," votes so far. With another 2000 votes, a quorum will have been reached. Only 500 of those new votes need to be ",(0,s.jsx)(n.code,{children:"Yes"})," in order for the proposal to pass."]}),"\n",(0,s.jsxs)(n.p,{children:["This scenario should give anyone in this DAO pause. By minting 2000 new ",(0,s.jsx)(n.code,{children:"DAO_CAT"}),"s, ",(0,s.jsx)(n.strong,{children:"DAO participant 2"})," would then have 3000 votes, which would amount to a successful hostile takeover of the DAO, and potentially of its treasury."]}),"\n",(0,s.jsxs)(n.p,{children:["Next, let's say the ",(0,s.jsx)(n.strong,{children:"DAO creator"})," notices this and decides to vote against the proposal. For now, the ",(0,s.jsx)(n.strong,{children:"DAO creator"})," has 1 CAT that not been locked up for voting:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"CAT e8829304151a4cdb...:\n   -Total Balance:         1.0  (1000 mojo)\n   -Pending Total Balance: 1.0  (1000 mojo)\n   -Spendable:             1.0  (1000 mojo)\n   -Type:                  CAT\n   -Asset ID:              e8829304151a4cdb1b1fdb9a0117d0e3249d92c476f1cd9331d7a6166e6b140d\n   -Wallet ID:             3\n\nCAT e8829304151a4cdb...:\n   -Total Balance:         1000.0\n   -Pending Total Balance: 0.0\n   -Spendable:             0.0\n   -Type:                  DAO_CAT\n   -Asset ID:              e8829304151a4cdb1b1fdb9a0117d0e3249d92c476f1cd9331d7a6166e6b140d\n   -Wallet ID:             4\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.strong,{children:"DAO creator"})," locks up this CAT:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia dao lockup_coins -i 2 -a 1 -m 0.00001\n"})}),"\n",(0,s.jsxs)(n.p,{children:["After the transaction has completed, the ",(0,s.jsx)(n.strong,{children:"DAO creator"})," has 2000 votes:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"CAT e8829304151a4cdb...:\n   -Total Balance:         0.0  (0 mojo)\n   -Pending Total Balance: 0.0  (0 mojo)\n   -Spendable:             0.0  (0 mojo)\n   -Type:                  CAT\n   -Asset ID:              e8829304151a4cdb1b1fdb9a0117d0e3249d92c476f1cd9331d7a6166e6b140d\n   -Wallet ID:             3\n\nCAT e8829304151a4cdb...:\n   -Total Balance:         2000.0\n   -Pending Total Balance: 0.0\n   -Spendable:             0.0\n   -Type:                  DAO_CAT\n   -Asset ID:              e8829304151a4cdb1b1fdb9a0117d0e3249d92c476f1cd9331d7a6166e6b140d\n   -Wallet ID:             4\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.strong,{children:"DAO creator"})," now votes against the proposal (the ",(0,s.jsx)(n.code,{children:"-n"}),' flag indicates a "no" vote):']}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:" chia dao vote -i 2 -n -p 0x1348c3b4c480e2a952825da5417b8667bdb0deaf38478956d38d325df736a606 -a 2000 -m 0.0001\n"})}),"\n",(0,s.jsx)(n.p,{children:"After these votes have been counted, and after the soft close period has ended, the proposal's status will show that it has failed:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia dao show_proposal -i 2 -p 0x1348c3b4c480e2a952825da5417b8667bdb0deaf38478956d38d325df736a606\n"})}),"\n",(0,s.jsx)(n.p,{children:"Response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Details of Proposal: 0x1348c3b4c480e2a952825da5417b8667bdb0deaf38478956d38d325df736a606\n---------------------------\n\nType: MINT\nStatus: OPEN\nPassed: False\nYes votes needed: 500\nClosable: True\n\nAmount of CAT to mint: 2000\nAddress: txch17lg990qxhqg65q4vn8ad50whw2rz9pfmn0qw76pmw4cezm20qmeq47phde\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.strong,{children:"DAO creator"})," can now close the proposal:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"chia dao close_proposal -i 2 -p 0x1348c3b4c480e2a952825da5417b8667bdb0deaf38478956d38d325df736a606 -m 0.0001\n"})}),"\n",(0,s.jsx)(n.p,{children:"The status will then be updated:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Details of Proposal: 0x1348c3b4c480e2a952825da5417b8667bdb0deaf38478956d38d325df736a606\n---------------------------\n\nType: MINT\nStatus: CLOSED\nPassed: False\nYes votes needed: 500\n\nAmount of CAT to mint: 2000\nAddress: txch17lg990qxhqg65q4vn8ad50whw2rz9pfmn0qw76pmw4cezm20qmeq47phde\n"})}),"\n",(0,s.jsx)(n.p,{children:"The hostile takeover has been averted in this case."})]})}function h(e={}){const{wrapper:n}={...(0,l.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(i,{...e})}):i(e)}},5162:(e,n,a)=>{a.d(n,{Z:()=>t});a(7294);var s=a(512);const l={tabItem:"tabItem_Ymn6"};var o=a(5893);function t(e){let{children:n,hidden:a,className:t}=e;return(0,o.jsx)("div",{role:"tabpanel",className:(0,s.Z)(l.tabItem,t),hidden:a,children:n})}},4866:(e,n,a)=>{a.d(n,{Z:()=>D});var s=a(7294),l=a(512),o=a(2466),t=a(6550),c=a(469),r=a(1980),d=a(7392),i=a(12);function h(e){return s.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,s.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function p(e){const{values:n,children:a}=e;return(0,s.useMemo)((()=>{const e=n??function(e){return h(e).map((e=>{let{props:{value:n,label:a,attributes:s,default:l}}=e;return{value:n,label:a,attributes:s,default:l}}))}(a);return function(e){const n=(0,d.l)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,a])}function b(e){let{value:n,tabValues:a}=e;return a.some((e=>e.value===n))}function u(e){let{queryString:n=!1,groupId:a}=e;const l=(0,t.k6)(),o=function(e){let{queryString:n=!1,groupId:a}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return a??null}({queryString:n,groupId:a});return[(0,r._X)(o),(0,s.useCallback)((e=>{if(!o)return;const n=new URLSearchParams(l.location.search);n.set(o,e),l.replace({...l.location,search:n.toString()})}),[o,l])]}function f(e){const{defaultValue:n,queryString:a=!1,groupId:l}=e,o=p(e),[t,r]=(0,s.useState)((()=>function(e){let{defaultValue:n,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!b({value:n,tabValues:a}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${a.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const s=a.find((e=>e.default))??a[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:n,tabValues:o}))),[d,h]=u({queryString:a,groupId:l}),[f,x]=function(e){let{groupId:n}=e;const a=function(e){return e?`docusaurus.tab.${e}`:null}(n),[l,o]=(0,i.Nk)(a);return[l,(0,s.useCallback)((e=>{a&&o.set(e)}),[a,o])]}({groupId:l}),j=(()=>{const e=d??f;return b({value:e,tabValues:o})?e:null})();(0,c.Z)((()=>{j&&r(j)}),[j]);return{selectedValue:t,selectValue:(0,s.useCallback)((e=>{if(!b({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);r(e),h(e),x(e)}),[h,x,o]),tabValues:o}}var x=a(2389);const j={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var m=a(5893);function g(e){let{className:n,block:a,selectedValue:s,selectValue:t,tabValues:c}=e;const r=[],{blockElementScrollPositionUntilNextRender:d}=(0,o.o5)(),i=e=>{const n=e.currentTarget,a=r.indexOf(n),l=c[a].value;l!==s&&(d(n),t(l))},h=e=>{let n=null;switch(e.key){case"Enter":i(e);break;case"ArrowRight":{const a=r.indexOf(e.currentTarget)+1;n=r[a]??r[0];break}case"ArrowLeft":{const a=r.indexOf(e.currentTarget)-1;n=r[a]??r[r.length-1];break}}n?.focus()};return(0,m.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.Z)("tabs",{"tabs--block":a},n),children:c.map((e=>{let{value:n,label:a,attributes:o}=e;return(0,m.jsx)("li",{role:"tab",tabIndex:s===n?0:-1,"aria-selected":s===n,ref:e=>r.push(e),onKeyDown:h,onClick:i,...o,className:(0,l.Z)("tabs__item",j.tabItem,o?.className,{"tabs__item--active":s===n}),children:a??n},n)}))})}function A(e){let{lazy:n,children:a,selectedValue:l}=e;const o=(Array.isArray(a)?a:[a]).filter(Boolean);if(n){const e=o.find((e=>e.props.value===l));return e?(0,s.cloneElement)(e,{className:"margin-top--md"}):null}return(0,m.jsx)("div",{className:"margin-top--md",children:o.map(((e,n)=>(0,s.cloneElement)(e,{key:n,hidden:e.props.value!==l})))})}function T(e){const n=f(e);return(0,m.jsxs)("div",{className:(0,l.Z)("tabs-container",j.tabList),children:[(0,m.jsx)(g,{...e,...n}),(0,m.jsx)(A,{...e,...n})]})}function D(e){const n=(0,x.Z)();return(0,m.jsx)(T,{...e,children:h(e.children)},String(n))}},1151:(e,n,a)=>{a.d(n,{Z:()=>c,a:()=>t});var s=a(7294);const l={},o=s.createContext(l);function t(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);
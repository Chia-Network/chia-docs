(self.webpackChunkchia_docs=self.webpackChunkchia_docs||[]).push([[7199],{976:(e,s,n)=>{"use strict";n.r(s),n.d(s,{assets:()=>h,contentTitle:()=>o,default:()=>u,frontMatter:()=>l,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"academy/chialisp/chialisp-intro","title":"Intro to Chialisp","description":"In this lesson, we review the basics of Chialisp including syntax & structure, inequalities and if statements, and setting up a development environment.","source":"@site/docs/academy/chialisp/chialisp-intro.md","sourceDirName":"academy/chialisp","slug":"/chialisp-intro","permalink":"/chialisp-intro","draft":false,"unlisted":false,"editUrl":"https://github.com/Chia-Network/chia-docs/blob/main/docs/academy/chialisp/chialisp-intro.md","tags":[],"version":"current","frontMatter":{"title":"Intro to Chialisp","slug":"/chialisp-intro"},"sidebar":"academy","previous":{"title":"Chialisp Overview","permalink":"/academy/chialisp"},"next":{"title":"Smart Coins","permalink":"/chialisp-smart-coin"}}');var t=n(4848),r=n(8453),a=n(3823);const l={title:"Intro to Chialisp",slug:"/chialisp-intro"},o=void 0,h={},c=[{value:"Learning objectives",id:"learning-objectives",level:2},{value:"Content",id:"content",level:2},{value:"Script",id:"script",level:2},{value:"Common gotchas",id:"common-gotchas",level:2},{value:"Knowledge check",id:"knowledge-check",level:2},{value:"Additional resources",id:"additional-resources",level:2},{value:"Runnable Chialisp and clvm plugins",id:"runnable-chialisp-and-clvm-plugins",level:3},{value:"Chialisp plugin",id:"chialisp-plugin",level:4},{value:"Clvm plugin",id:"clvm-plugin",level:4},{value:"Links",id:"links",level:3}];function d(e){const s={a:"a",admonition:"admonition",br:"br",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components},{Details:n}=s;return n||function(e,s){throw new Error("Expected "+(s?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.p,{children:"In this lesson, we review the basics of Chialisp including syntax & structure, inequalities and if statements, and setting up a development environment."}),"\n",(0,t.jsx)(s.h2,{id:"learning-objectives",children:"Learning objectives"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Syntax and Structure"}),": Understand the basic Chialisp syntax and structure."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Puzzles and Solutions"}),": Understand the use of puzzles and solutions in Chialisp."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Development Environment"}),": Setup and configure the Chialisp development environment."]}),"\n"]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"content",children:"Content"}),"\n",(0,t.jsx)("div",{class:"videoWrapper",children:(0,t.jsx)("iframe",{width:"100%",height:"504",src:"https://www.youtube.com/embed/W9QK4PFIIpA",frameborder:"0",allowfullscreen:"allowfullscreen"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"script",children:"Script"}),"\n",(0,t.jsxs)(n,{children:[(0,t.jsx)("summary",{children:" Expand for the full script "}),(0,t.jsxs)(s.p,{children:["00:00",(0,t.jsx)(s.br,{}),"\n","We're going to go over the very basics of Chialisp we'll talk about a few things the basic syntax and structure of a Chialisp program puzzles and solutions and set up a development environment to test it all out."]}),(0,t.jsxs)(s.p,{children:["00:20",(0,t.jsx)(s.br,{}),"\n","So let's get started, the first thing you'll want to do is make sure you have the correct version of python. If you type in python3-version make sure you have python 3.10. Next we're going to want to create a virtual environment so if you run the command python3 -m venv venv."]}),(0,t.jsxs)(s.p,{children:["00:40",(0,t.jsx)(s.br,{}),"\n","This is going to create a virtual environment that we can activate to do our development in and to activate it we're going to type in this command bin\\activate and now you can see that we are in a virtual environment."]}),(0,t.jsxs)(s.p,{children:["01:00",(0,t.jsx)(s.br,{}),"\n","Next we're going to want to install the Chia Dev tools and you can do this by in running pip install Chia Dev tools and let it do its thing. So now let's just make sure we have the correct version by typing cdv --version and you can see we have version 1.1.4."]}),(0,t.jsxs)(s.p,{children:["01:20",(0,t.jsx)(s.br,{}),"\n","So now we have our development environment all set up let's go over some key lisp basics. This is the basic run command it takes a list with an operator followed by two operands."]}),(0,t.jsxs)(s.p,{children:["01:40",(0,t.jsx)(s.br,{}),"\n","In this example, we have the operands two and three and they'll be added together so we should get five. That's not very useful though so let's create a program that we can pass in some parameters and do the addition for us. All right in this example we have defined a module that receives two parameters arg1 arg2 and then runs the operation on those two parameters so when we run this we're going to get the compiled version of the program that we just wrote."]}),(0,t.jsxs)(s.p,{children:["02:00",(0,t.jsx)(s.br,{}),"\n","This is called the puzzle the arguments will be passed into the puzzle as a solution. So how do we run this code? Well our second command is brun so if we pass this compiled puzzle through the brun command and give it a solution such as 7 and 10."]}),(0,t.jsxs)(s.p,{children:["02:20",(0,t.jsx)(s.br,{}),"\n","It's going to use that solution as the parameters for the program so we should get 17. Now let's talk about inequalities and if statements. In this program I'm comparing two numbers 10 and 5, and seeing if the first is greater than the second. So in this case the result would be true and we receive a 1."]}),(0,t.jsxs)(s.p,{children:["02:40",(0,t.jsx)(s.br,{}),"\n","In the opposite case it would be false and we received an empty set so if statements are going to take this structure if followed by our comparison then the result if it's true followed by the result if it's false. So let's run this program, if 1 which is true return true, else return false."]}),(0,t.jsxs)(s.p,{children:["03:00",(0,t.jsx)(s.br,{}),"\n","So we expect to see true. So let's create a puzzle using comparisons and if statements. So we're going to type run and define a module that takes two arguments arg1 arg2. So we're going to define an if statement and we want to know if we add the two arguments together if they're greater than 100."]}),(0,t.jsxs)(s.p,{children:["03:20",(0,t.jsx)(s.br,{}),"\n","So if greater than the addition of argument 1 and argument 2 is greater than 100 then we're going to return large if it's true and small if it's false."]}),(0,t.jsxs)(s.p,{children:["03:40",(0,t.jsx)(s.br,{}),"\n","We'll close this and as you can see it's really easy to get lost in the parentheses so for future videos we'll be using a text editor which will make this a lot easier but if we run this we will receive the compiled version of our program and let's pass that puzzle into brun with our solution so run and"]}),(0,t.jsxs)(s.p,{children:["04:00",(0,t.jsx)(s.br,{}),"\n","we'll add 70 and 100 which is guaranteed to be over 100 so we should receive the result large and that's it. That's the basics of Chialisp; we've talked about basic operators, inequalities if statements compiling our program into puzzles, and passing in a solution."]}),(0,t.jsxs)(s.p,{children:["04:20",(0,t.jsx)(s.br,{}),"\n","In future videos we'll talk about smart coins signatures and inner puzzles. Thanks for joining me and I'll catch you in the next video!"]})]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"common-gotchas",children:"Common gotchas"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"run vs brun:"})," Run is used to serialize and run chialisp puzzles while brun is used to run clvm serialized puzzles generally when passing arguments."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parentheses:"})," Chialisp is part of the fully parenthesized prefix notation programming language family tracing their ",(0,t.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Lisp_(programming_language)",children:"origins"})," to LISP 1 from the 1950s. One highly apparent aspect of these languages is their use of parenthesis to denote lists. It is recommended to use an IDE with proper syntax highlighting when writing these languages to ensure that all parenthesis are in the proper places. To help with this here is a ",(0,t.jsx)(s.a,{href:"https://marketplace.visualstudio.com/items?itemName=ChiaNetwork.chialisp",children:"Chialisp language server extension"})," for Visual Studio."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Prefix Notation:"})," Chialisp being part of the LISP family uses prefix notation. This means that the functions or operators appears first with their arguments following."]}),"\n"]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"knowledge-check",children:"Knowledge check"}),"\n",(0,t.jsx)(s.admonition,{title:"Question 1 - Subtraction",type:"tip",children:(0,t.jsx)(s.p,{children:"What is a chialisp puzzle for subtracting two arguments?"})}),"\n",(0,t.jsxs)(n,{children:[(0,t.jsx)("summary",{children:" Answer (expand when ready to see the answer)  "}),(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-chialisp",children:"(mod (arg1 arg2)\n    (- arg1 arg2)\n)\n"})})]}),"\n",(0,t.jsxs)(s.admonition,{title:"Question 2 - Comparison",type:"tip",children:[(0,t.jsx)(s.p,{children:"What is the serialized form of this chialisp puzzle?"}),(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-chialisp",children:"(mod (arg1 arg2)\n    (> arg1 arg2)\n)\n"})})]}),"\n",(0,t.jsxs)(n,{children:[(0,t.jsx)("summary",{children:" Answer (expand when ready to see the answer)  "}),(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-chialisp",children:"(> 2 5)\n"})})]}),"\n",(0,t.jsxs)(s.admonition,{title:"Question 3 - If Statement",type:"tip",children:[(0,t.jsx)(s.p,{children:"What is the result of the below serialized puzzle and solution?"}),(0,t.jsx)(s.p,{children:"Puzzle:"}),(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-chialisp",children:'(a (i 2 (q 1 . "true") (q 1 . "false")) 1)\n'})}),(0,t.jsx)(s.p,{children:"Solution:"}),(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-chialisp",children:"(1)\n"})})]}),"\n",(0,t.jsxs)(n,{children:[(0,t.jsx)("summary",{children:" Answer (expand when ready to see the answer) "}),(0,t.jsx)(s.p,{children:(0,t.jsx)(s.code,{children:'"true"'})})]}),"\n",(0,t.jsxs)(s.admonition,{title:"Question 4 - Combining all of the above",type:"tip",children:[(0,t.jsx)(s.p,{children:"What is a Chialisp puzzle that performs the following?"}),(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Accepts two arguments"}),"\n",(0,t.jsx)(s.li,{children:"Adds the two arguments together"}),"\n",(0,t.jsx)(s.li,{children:"Compares the sum of the arguments to 100"}),"\n",(0,t.jsx)(s.li,{children:'Results in "Large" when the sum is greater than 100 and "Small" when the sum is less than 100'}),"\n"]})]}),"\n",(0,t.jsxs)(n,{children:[(0,t.jsx)("summary",{children:" Answer (expand when ready to see the answer) "}),(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-chialisp",children:'(mod (arg1 arg2)\n    (if (> (+ arg1 arg2) 100) "large" "small")\n)\n'})})]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"additional-resources",children:"Additional resources"}),"\n",(0,t.jsx)(s.h3,{id:"runnable-chialisp-and-clvm-plugins",children:"Runnable Chialisp and clvm plugins"}),"\n",(0,t.jsxs)(s.p,{children:["For information on using these plugins please refer to the ",(0,t.jsx)(s.a,{href:"/academy-overview#runnable-chialisp-and-clvm-plugins",children:"academy overview"})]}),"\n",(0,t.jsx)(s.h4,{id:"chialisp-plugin",children:"Chialisp plugin"}),"\n",(0,t.jsx)(a.A,{flavor:"chialisp",input:"(10 99)",children:(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-chialisp",children:'(mod (arg1 arg2)\n    (if (> (+ arg1 arg2) 100) "large" "small")\n)\n'})})}),"\n",(0,t.jsx)(s.h4,{id:"clvm-plugin",children:"Clvm plugin"}),"\n",(0,t.jsx)(a.A,{flavor:"clvm",input:"(1)",children:(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-chialisp",children:'(a (i 2 (q 1 . "true") (q 1 . "false")) 1)\n'})})}),"\n",(0,t.jsx)(s.h3,{id:"links",children:"Links"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["General ",(0,t.jsx)(s.a,{href:"https://chialisp.com/chialisp-concepts/",children:"chialisp concepts"}),": overviews of currying, inner puzzles, and morphing conditions."]}),"\n",(0,t.jsxs)(s.li,{children:["Guided ",(0,t.jsx)(s.a,{href:"https://docs.chia.net/guides/",children:"chialisp walkthroughs"}),": guides for installation, creating smart coins, and working with BLS signatures."]}),"\n",(0,t.jsxs)(s.li,{children:["Chialisp ",(0,t.jsx)(s.a,{href:"https://chialisp.com/",children:"detailed documentation"}),": detailed information on all aspects of chialisp."]}),"\n",(0,t.jsxs)(s.li,{children:["Support ",(0,t.jsx)(s.a,{href:"https://discord.gg/chia",children:"in discord"}),": for further support join our discord server and ask in the #chialisp or #support channels."]}),"\n"]}),"\n",(0,t.jsx)(s.hr,{})]})}function u(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},3823:(e,s,n)=>{"use strict";n.d(s,{A:()=>j});var i=n(5293),t=n(11),r=n(1765),a=n(6540),l=n(5604),o=n(6069),h=n.n(o),c=n(5871),d=n.n(c),u=n(9031),p=n.n(u);function g(e){return e instanceof Array||(0,a.isValidElement)(e)?a.Children.toArray(e).reduce(((e,s)=>{let n="";return n=(0,a.isValidElement)(s)&&x(s)?g(s.props.children):(0,a.isValidElement)(s)&&!x(s)?"":m(s),e.concat(n)}),""):m(e)}function m(e){return null==e||"boolean"==typeof e||"{}"===JSON.stringify(e)?"":e.toString()}function x(e){return(0,a.isValidElement)(e)&&Boolean(e.props.children)}var f=n(4848);function j({children:e,flavor:s,input:n,tests:o,reporter:h}){const{colorMode:c}=(0,i.G)(),u=(0,a.useMemo)((()=>g(e).trim()),[]),[m,x]=(0,a.useState)(u),[j,y]=(0,a.useState)(n??Object.keys(o??{})[0]?.trim()??""),[w,b]=(0,a.useState)(""),[k,C]=(0,a.useState)(0n),[S,z]=(0,a.useState)(null),N=e=>e.replace("Error: ",""),I=(e,s)=>{try{return e.run(s)}catch(n){return b(`While evaluating: ${N(""+n)}`),null}},P=()=>{const e=(()=>{try{return t.Program.fromSource(m)}catch(e){return b(`While parsing: ${N(""+e)}`),null}})();if(!e)return;const n="clvm"===s||e.isCons&&e.first.equals(t.Program.fromText("mod")),i=(e=>{if(s&&"chialisp"!==s)return e;try{return e.compile().value}catch(n){return b(`While compiling: ${N(""+n)}`),null}})(e);if(!i)return;const r=j?t.Program.fromSource(j):t.Program.nil,a=n?I(i,r):{value:i,cost:0n};a&&(b(a.value.toSource()),C(a.cost));let l=!0;for(const[s,h]of Object.entries(o??{})){const e=t.Program.fromSource(s),r=n?I(i,e)?.value:i;if(!r||r.toSource()!==h){l=!1;break}}h?.(l),z(l)},W=S?l.CMH:l.QCr,[A,T]=a.useState(!1);return(0,a.useEffect)((()=>T(!0)),[]),(0,f.jsx)(r.f4,{Prism:globalThis.Prism,theme:A&&("dark"===c?d():p()),code:m,language:"chialisp",children:({className:e,style:n})=>(0,f.jsxs)("pre",{className:e,style:{...n,position:"relative"},children:[j?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(v,{code:j,setCode:y,language:"chialisp"}),(0,f.jsx)("hr",{style:{marginTop:"14px",marginBottom:"14px"}})]}):"",(0,f.jsx)(v,{code:m,setCode:x,language:"chialisp"}),(0,f.jsx)("div",{style:{position:"absolute",top:"16px",right:"16px"},children:(0,f.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"14px"},children:[(0,f.jsx)("span",{style:{marginRight:"8px"},children:s&&"chialisp"!==s?"CLVM":"Chialisp"}),!j&&(0,f.jsx)(l.TlQ,{size:24,className:"icon-button",cursor:"pointer",onClick:()=>y("()")}),(0,f.jsx)(l.gSK,{size:24,className:"icon-button",cursor:"pointer",onClick:P})]})}),w?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("hr",{style:{marginTop:"14px",marginBottom:"14px"}}),(0,f.jsx)("div",{style:{display:"inline-block"},children:(0,f.jsx)(v,{code:w,language:"chialisp"})}),w&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{style:{display:"inline-block",position:"absolute",right:"60px"},children:(0,f.jsx)(v,{code:`Cost: ${k}`,language:"chialisp"})}),(0,f.jsx)(W,{size:24,color:S?"#77FF77":"#FF7777",style:{position:"absolute",bottom:"16px",right:"16px"}})]})]}):""]})})}function v({code:e,setCode:s,language:n}){const{colorMode:t}=(0,i.G)(),[l,o]=a.useState(!1);return(0,a.useEffect)((()=>o(!0)),[]),(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(r.f4,{Prism:globalThis.Prism,theme:l&&("dark"===t?d():p()),code:e,language:n,children:({tokens:n,getLineProps:i,getTokenProps:t})=>{let r=n.map(((e,s)=>(0,f.jsx)("div",{...i({line:e}),children:e.map(((e,s)=>(0,f.jsx)("span",{...t({token:e})},s)))},s)));return s?(0,f.jsx)(h(),{value:e,onValueChange:e=>s(e),highlight:()=>r,padding:0}):r}})})}},5871:e=>{e.exports={plain:{color:"#F8F8F2",backgroundColor:"#282A36",fontWeight:"bold"},styles:[{types:["keyword"],style:{color:"rgb(189, 147, 249)"}},{types:["listop","class-name","quotes"],style:{color:"rgb(80, 250, 123)"}},{types:["builtin"],style:{color:"rgb(5, 227, 223)"}},{types:["number","hexadecimal","string","boolean"],style:{color:"rgb(255, 184, 108)",fontWeight:"normal"}},{types:["punctuation","symbol"],style:{color:"rgb(248, 248, 242)"}},{types:["variable"],style:{fontStyle:"italic"}},{types:["comment"],style:{color:"rgb(98, 114, 164)",fontWeight:"normal"}},{types:["function","car"],style:{color:"rgb(241, 250, 140)"}}]}},9031:e=>{e.exports={plain:{color:"#383a42",backgroundColor:"#fafafa",fontWeight:"bold"},styles:[{types:["keyword"],style:{color:"#990096"}},{types:["listop","class-name","quotes"],style:{color:"#006100"}},{types:["builtin"],style:{color:"#127EAF"}},{types:["number","hexadecimal","string","boolean"],style:{color:"#B35C00",fontWeight:"normal"}},{types:["punctuation","symbol"],style:{color:"#383a42"}},{types:["variable"],style:{fontStyle:"italic"}},{types:["comment"],style:{color:"#73737D",fontWeight:"normal"}},{types:["function","car"],style:{color:"#0045DB"}}]}}}]);
<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-guides/datalayer/datalayer-permissions" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">DataLayer Permissions | Chia Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.chia.net/img/og-chia.png"><meta data-rh="true" name="twitter:image" content="https://docs.chia.net/img/og-chia.png"><meta data-rh="true" property="og:url" content="https://docs.chia.net/guides/datalayer-permissions"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="DataLayer Permissions | Chia Documentation"><meta data-rh="true" name="description" content="Intro"><meta data-rh="true" property="og:description" content="Intro"><link data-rh="true" rel="icon" href="/svg/chia-leaf-green.svg"><link data-rh="true" rel="canonical" href="https://docs.chia.net/guides/datalayer-permissions"><link data-rh="true" rel="alternate" href="https://docs.chia.net/guides/datalayer-permissions" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.chia.net/zh/guides/datalayer-permissions" hreflang="zh"><link data-rh="true" rel="alternate" href="https://docs.chia.net/guides/datalayer-permissions" hreflang="x-default"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous">
<script src="/js/matomo.js" async defer="defer"></script><link rel="stylesheet" href="/assets/css/styles.7391c56e.css">
<link rel="preload" href="/assets/js/runtime~main.67e9e446.js" as="script">
<link rel="preload" href="/assets/js/main.eae9867d.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/svg/chia-leaf-green.svg" alt="Chia Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/svg/chia-leaf-green.svg" alt="Chia Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Chia Docs</b></a><a class="navbar__item navbar__link" href="/introduction">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/guides/crash-course/introduction">Guides</a><a href="https://chialisp.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Chialisp<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://chia.net" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Chia Network<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Chia-Network/chia-blockchain" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/guides/crash-course/introduction">Crash Course</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/crash-course/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/crash-course/intro-to-chialisp">Chialisp</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/crash-course/smart-coins">Smart Coins</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/crash-course/signatures">Signatures</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/crash-course/state">State</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/crash-course/inner-puzzles">Inner Puzzles</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/crash-course/cats-offers-nfts">CATs, Offers and NFTs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/crash-course/chialisp-and-typescript">Chialisp and TypeScript</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/guides/chialisp-primer">Chialisp Primer</a><button aria-label="Toggle the collapsible sidebar category &#x27;Chialisp Primer&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/guides/chialisp-concepts">Chialisp Concepts</a><button aria-label="Toggle the collapsible sidebar category &#x27;Chialisp Concepts&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/guides/nft-developer-guide">NFT Guide</a><button aria-label="Toggle the collapsible sidebar category &#x27;NFT Guide&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/guides/cat-developer-guide">CAT Guide</a><button aria-label="Toggle the collapsible sidebar category &#x27;CAT Guide&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/guides/custody-tool-description">Custody Tool</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/walletconnect-user-guide">WalletConnect</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/guides/datalayer-user-guide">DataLayer™</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/datalayer-user-guide">DataLayer User Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/guides/datalayer-permissions">DataLayer Permissions</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/guides/clawback-user-guide">Clawback</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/guides/offers-gui-tutorial">Offers</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/guides/simulator-user-guide">Simulator User Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/guides/seeder-user-guide">Seeder User Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/guides/verifiable-credentials-guide">Verifiable Credentials Guide</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/guides/why-chia-is-great-video-series">Tutorials</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">DataLayer™</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">DataLayer Permissions</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>DataLayer Permissions</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="intro">Intro<a href="#intro" class="hash-link" aria-label="Direct link to Intro" title="Direct link to Intro">​</a></h2><p>Chia DataLayer™ is a decentralized database that enables the redundant storage of off-chain data, auditable on the Chia blockchain. DataLayer uses an open and permissionless publish/subscribe model, which makes it possible for anyone to view and audit the data.</p><p>Many users -- especially those in the enterprise space -- would like to keep their data private.</p><p>DataLayer Permissions give owners of data stores a method to gate participation, thus keeping their data private. This is accomplished by using customizable plugins.</p><p>This guide will show you how to get started with DataLayer Permissions. Additional resources include:</p><ul><li><a href="/guides/datalayer-user-guide">DataLayer user guide</a> -- You should already be familiar with using DataLayer before working with permissions. This guide will help you to get started</li><li><a href="https://github.com/Chia-Network/chia-blockchain/blob/main/chia/data_layer/s3_plugin_service.py" target="_blank" rel="noopener noreferrer">S3 plugin</a> -- This is the reference plugin for Amazon S3 integration. It is <a href="#the-chia-s3-plugin">discussed</a> later in this guide</li><li><a href="https://github.com/Chia-Network/chia-blockchain/blob/main/chia/data_layer/data_layer.py" target="_blank" rel="noopener noreferrer">Source API calls</a> -- In case you want to dig into the source code</li><li><a href="/datalayer-cli">CLI documentation</a> for DataLayer</li><li><a href="/datalayer-rpc">RPC documentation</a> for DataLayer</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="about-datalayer-permissions">About DataLayer permissions<a href="#about-datalayer-permissions" class="hash-link" aria-label="Direct link to About DataLayer permissions" title="Direct link to About DataLayer permissions">​</a></h2><p>Support for permissions were added to DataLayer in version 1.8.0 of the Chia reference wallet. The permissioning system requires uploader (publisher) and downloader (subscriber) plugins, which function as follows:</p><ul><li>When you push any changes to your DataLayer singleton, the uploader plugin is called</li><li>When one of your subscribed singletons makes any on-chain changes, the downloader plugin is called</li></ul><p>The uploader and downloader plugins take the form of a service that exposes a specific RESTful API that DataLayer will call. This service can be configured in multiple different ways:</p><ul><li>Uploader only</li><li>Downloader only</li><li>Both uploader and downloader</li></ul><p>Multiple instances of the same service are also possible. The service can be configured to require credentials, thereby gating access to data.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="chia-configuration">Chia configuration<a href="#chia-configuration" class="hash-link" aria-label="Direct link to Chia configuration" title="Direct link to Chia configuration">​</a></h2><p>To configure Chia to use DataLayer permissions, you need to add a list of URLs to config.yaml which allows access to the uploaders and downloaders. The settings to configure are new as of 1.8.0. To add them, you have two options:</p><ol><li><p>Start from scratch</p><ul><li>Delete or rename <code>~/.chia/mainnet/config/config.yaml</code></li><li>Run <code>chia init</code>; a new copy of config.yaml that contains the new settings will be generated</li></ul></li><li><p>Add the settings manually</p><ul><li>Edit <code>~/.chia/mainnet/config/config.yaml</code></li><li>Under the <code>data_layer:</code> settings, add the following new lines:<ul><li><code>downloaders: []</code></li><li><code>uploaders: []</code></li></ul></li></ul></li></ol><p>At this point, you can edit config.yaml and add the URL path(s) to either or both of the plugins. Be sure to remove the square brackets <code>[]</code> if you add any URLs. For example, a snippet of config.yaml with the uploaders and downloaders configured might look like this:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token key atrule">data_layer</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">  </span><span class="token key atrule">client_timeout</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> </span><span class="token number" style="color:#B35C00;font-weight:normal">15</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">  </span><span class="token key atrule">database_path</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> data_layer/db/data_layer_CHALLENGE.sqlite</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">  </span><span class="token key atrule">downloaders</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">  </span><span class="token punctuation" style="color:#383a42">-</span><span class="token plain"> http</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain">//localhost</span><span class="token punctuation" style="color:#383a42">:</span><span class="token number" style="color:#B35C00;font-weight:normal">9456</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">  </span><span class="token punctuation" style="color:#383a42">-</span><span class="token plain"> http</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain">//localhost</span><span class="token punctuation" style="color:#383a42">:</span><span class="token number" style="color:#B35C00;font-weight:normal">3145</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token punctuation" style="color:#383a42">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">  </span><span class="token key atrule">uploaders</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">  </span><span class="token punctuation" style="color:#383a42">-</span><span class="token plain"> http</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain">//localhost</span><span class="token punctuation" style="color:#383a42">:</span><span class="token number" style="color:#B35C00;font-weight:normal">9456</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">  </span><span class="token punctuation" style="color:#383a42">-</span><span class="token plain"> http</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain">//localhost</span><span class="token punctuation" style="color:#383a42">:</span><span class="token number" style="color:#B35C00;font-weight:normal">9384</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Finally, restart Chia, ensuring that DataLayer and the propagation server are both configured to run. This is the only configuration that is required in Chia itself. The rest of the configuration is left up to the plugin service.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="rest-api">REST API<a href="#rest-api" class="hash-link" aria-label="Direct link to REST API" title="Direct link to REST API">​</a></h2><p>The expected REST API for the plugins is as follows - all requests are <code>POST</code> requests.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>TLS connections are not yet supported. They may work as long as the proper root certificates are in the Chia certificate bundle, but this is untested.</p></div></div><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="handle_upload"><code>handle_upload</code><a href="#handle_upload" class="hash-link" aria-label="Direct link to handle_upload" title="Direct link to handle_upload">​</a></h3><p>Functionality: Configure a store for uploading</p><p>Request Parameters:</p><table><thead><tr><th align="left">Parameter</th><th align="left">Type</th><th align="left">Required</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">store_id</td><td align="left">STRING</td><td align="left">True</td><td align="left">The store ID, in hex format</td></tr></tbody></table><p>Response: <code>{&quot;handle_upload&quot;: [true|false]}</code></p><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="handle_download"><code>handle_download</code><a href="#handle_download" class="hash-link" aria-label="Direct link to handle_download" title="Direct link to handle_download">​</a></h3><p>Functionality: Configure a store for downloading from a mirror</p><p>Request Parameters:</p><table><thead><tr><th align="left">Parameter</th><th align="left">Type</th><th align="left">Required</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">store_id</td><td align="left">STRING</td><td align="left">True</td><td align="left">The store ID, in hex format</td></tr><tr><td align="left">url</td><td align="left">STRING</td><td align="left">True</td><td align="left">The URL of the mirror to download from</td></tr></tbody></table><p>Response: <code>Response: {&quot;handle_download&quot;: [true|false]}</code></p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Technically the mirror URL is just a string. It&#x27;s not required to be formatted as a URI, but it&#x27;s expected it will normally be such (eg, http://, s3://, file://, ftp://, etc)</p></div></div><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="upload"><code>upload</code><a href="#upload" class="hash-link" aria-label="Direct link to upload" title="Direct link to upload">​</a></h3><p>Functionality: Upload data to a store</p><p>Request Parameters:</p><table><thead><tr><th align="left">Parameter</th><th align="left">Type</th><th align="left">Required</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">store_id</td><td align="left">STRING</td><td align="left">True</td><td align="left">The store ID, in hex format</td></tr><tr><td align="left">full_tree_filename</td><td align="left">STRING</td><td align="left">True</td><td align="left">Name of full tree dat file</td></tr><tr><td align="left">diff_filename</td><td align="left">STRING</td><td align="left">True</td><td align="left">Name of delta dat file</td></tr></tbody></table><p>Response: <code>{&quot;uploaded&quot;: [true|false]}</code></p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>The filenames are just - names - and the plugin is expected to be configured such that it can locate these files. We do <em>not</em> send the entire file contents. This does mean that the plugin needs access to a shared file system. Therefore, although the plugin service could technically run on a separate machine, we expect most plugin services to be run on the localhost.</p></div></div><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="download"><code>download</code><a href="#download" class="hash-link" aria-label="Direct link to download" title="Direct link to download">​</a></h3><p>Functionality: Download a data file from a URI</p><p>Request Parameters:</p><table><thead><tr><th align="left">Parameter</th><th align="left">Type</th><th align="left">Required</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">url</td><td align="left">STRING</td><td align="left">True</td><td align="left">The URI for the download, eg <code>&quot;server_info.url&quot;</code></td></tr><tr><td align="left">filename</td><td align="left">STRING</td><td align="left">True</td><td align="left">The name of the file to download, eg <code>&quot;file1.dat&quot;</code></td></tr></tbody></table><p>Response:  <code>{&quot;downloaded&quot;: [true|false]}</code></p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>The downloader plugin <em>must</em> place the files into the same directory that Chia DataLayer expects files - which is configured in the chia config.yaml configuration as <code>service_files_location</code></p></div></div><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="add_missing_files"><code>add_missing_files</code><a href="#add_missing_files" class="hash-link" aria-label="Direct link to add_missing_files" title="Direct link to add_missing_files">​</a></h3><p>Functionality: Add missing files to a store</p><p>Request Parameters:</p><table><thead><tr><th align="left">Parameter</th><th align="left">Type</th><th align="left">Required</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">store_id</td><td align="left">STRING</td><td align="left">True</td><td align="left">The store ID, in hex format</td></tr><tr><td align="left">files</td><td align="left">LIST</td><td align="left">True</td><td align="left">The list of files to be added, for example: <code>[&quot;file1.dat&quot;, &quot;file2.dat&quot;]</code></td></tr></tbody></table><p>Response: <code>{&quot;uploaded&quot;: [true|false]}</code></p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Chia DataLayer will provide a complete list of DAT files for all generations from the beginning to the end that are needed to reconstruct the entire data. The plugin is expected to check its internal list of files and then upload whatever files might be missing. This is useful when adding a new uploader plugin to an existing deployment, or for troubleshooting. This is triggered automatically when <a href="/datalayer-cli#add_missing_files">add_missing_files</a> is run on the CLI.</p></div></div><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="plugin_info"><code>plugin_info</code><a href="#plugin_info" class="hash-link" aria-label="Direct link to plugin_info" title="Direct link to plugin_info">​</a></h3><p>Functionality: Show info about the plugin</p><p>Request Parameters: None</p><p>Response: The plugin may return any information it considers useful for this call. The output will be displayed when the <code>chia data plugins check</code> CLI command is run. As a minimum, the plugin should response with an <code>HTTP 200</code> response code , but typically some amount of text information is also expected (name, version, etc) in JSON format.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-chia-s3-plugin">The Chia S3 plugin<a href="#the-chia-s3-plugin" class="hash-link" aria-label="Direct link to The Chia S3 plugin" title="Direct link to The Chia S3 plugin">​</a></h2><p>Chia Network has released a <a href="https://github.com/Chia-Network/chia-blockchain/blob/main/chia/data_layer/s3_plugin_service.py" target="_blank" rel="noopener noreferrer">reference S3 uploader/downloader plugin</a>, which demonstrates how to use the plugin system, and also offers support for <a href="https://aws.amazon.com/s3/" target="_blank" rel="noopener noreferrer">Amazon S3</a>.</p><p>This plugin implements the REST API from the <a href="#rest-api">previous section</a>. It uses the native AWS python library (<a href="https://pypi.org/project/boto3/" target="_blank" rel="noopener noreferrer">boto3</a>) to upload and download from S3. Along with this, it uses the typical credentials expected by an AWS resource.</p><p>By providing credentials configured correctly, the plugin can do downloads with a read-only credential and uploads with a write-credential. <strong>Without access to the credentials, the data in S3 is unavailable at large to the public - hence &quot;permissioned&quot;.</strong></p><p>A few notes about the S3 plugin:</p><ul><li>It expects the mirror URL to use the <code>s3://</code> scheme for downloads; it requires a bucket name for uploads.</li><li>It expects to be configured with a list of <code>store_ids</code> it is responsible for, along with an <code>upload_bucket</code> and/or a list of s3 <code>download_urls</code>.</li><li>Either <code>upload_bucket</code>, or <code>download_urls</code>, or both must be configured.</li></ul><p>Example configuration:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">Test-Instance: # just a name for the instance</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">  log_filename: &quot;s3_plugin.log&quot;</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">  log_level: INFO </span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">  server_files_location: # generally this only works if set to the same location as the Chia DataLayer `server_files_location`</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">  port: 8998</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">  aws_credentials:</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    access_key_id: &quot;xxx&quot;</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    secret_access_key: &quot;xxx&quot;</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    region: &quot;xxx&quot;</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">  stores:</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    - store_id: &quot;7acfcbd1ed73bfe2b698508f4ea5ed353c60ace154360272ce91f9ab0c8423c3&quot;</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">      upload_bucket: &quot;chia-datalayer-test-bucket-2&quot;</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">      download_urls: [&quot;s3://hello&quot;, &quot;s3://goodbye&quot;]</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    - store_id: &quot;a14daf55d41ced6419bcd011fbc1f74ab9567fe55340d88435aa6493d628fa47&quot;</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">      upload_bucket:</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">      download_urls: [&quot;s3://hello&quot;, &quot;s3://goodbye&quot;]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The S3 plugin also supports the following optional endpoints. These are not called directly by the chia datalayer service, but are useful for further configuration of the plugin:</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="healthz"><code>healthz</code><a href="#healthz" class="hash-link" aria-label="Direct link to healthz" title="Direct link to healthz">​</a></h3><p>Functionality: Verifies that the RPC service is running</p><p>Request Parameters: None</p><p>Response: <code>{&quot;success&quot;: true}</code></p><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="add_store_id"><code>add_store_id</code><a href="#add_store_id" class="hash-link" aria-label="Direct link to add_store_id" title="Direct link to add_store_id">​</a></h3><p>Functionality: Add a new store</p><p>Request Parameters:</p><table><thead><tr><th align="left">Parameter</th><th align="left">Type</th><th align="left">Required</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">store_id</td><td align="left">STRING</td><td align="left">True</td><td align="left">The store ID, in hex format</td></tr><tr><td align="left">bucket</td><td align="left">STRING</td><td align="left">True*</td><td align="left">The name of the S3 bucket <!-- -->[* Either <code>bucket</code> or <code>urls</code> or both is required]</td></tr><tr><td align="left">urls</td><td align="left">LIST</td><td align="left">True*</td><td align="left">A list of s3 URLs, for example <code>[&quot;s3://one&quot;, &quot;s3://two&quot;]</code> <!-- -->[* Either <code>bucket</code> or <code>urls</code> or both is required]</td></tr></tbody></table><p>Success Response: <code>{&quot;success&quot;: true, &quot;id&quot;: store id}</code></p><p>Failure Response: <code>{&quot;success&quot;: false, &quot;reason&quot;: &quot;reason for failure&quot;}</code></p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Calling <code>add_store_id</code> for a <code>store_id</code> already in the config returns an error - there is no update option, only add and delete.</p></div></div><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="remove_store_id"><code>remove_store_id</code><a href="#remove_store_id" class="hash-link" aria-label="Direct link to remove_store_id" title="Direct link to remove_store_id">​</a></h3><p>Functionality: Remove a store</p><p>Request Parameters:</p><table><thead><tr><th align="left">Parameter</th><th align="left">Type</th><th align="left">Required</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">store_id</td><td align="left">STRING</td><td align="left">True</td><td align="left">The store ID, in hex format</td></tr></tbody></table><p>Response: <code>{&quot;success&quot;: [true|false], &quot;store_id&quot;:store id in hex if successful}</code></p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Removing a store ID that is not present in the config returns a True success code, but is otherwise ignored</p></div></div><hr></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Chia-Network/chia-docs/blob/main/docs/guides/datalayer/datalayer-permissions.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/guides/datalayer-user-guide"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">DataLayer User Guide</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/guides/clawback-user-guide"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Clawback User Guide</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#intro" class="table-of-contents__link toc-highlight">Intro</a></li><li><a href="#about-datalayer-permissions" class="table-of-contents__link toc-highlight">About DataLayer permissions</a></li><li><a href="#chia-configuration" class="table-of-contents__link toc-highlight">Chia configuration</a></li><li><a href="#rest-api" class="table-of-contents__link toc-highlight">REST API</a><ul><li><a href="#handle_upload" class="table-of-contents__link toc-highlight"><code>handle_upload</code></a></li><li><a href="#handle_download" class="table-of-contents__link toc-highlight"><code>handle_download</code></a></li><li><a href="#upload" class="table-of-contents__link toc-highlight"><code>upload</code></a></li><li><a href="#download" class="table-of-contents__link toc-highlight"><code>download</code></a></li><li><a href="#add_missing_files" class="table-of-contents__link toc-highlight"><code>add_missing_files</code></a></li><li><a href="#plugin_info" class="table-of-contents__link toc-highlight"><code>plugin_info</code></a></li></ul></li><li><a href="#the-chia-s3-plugin" class="table-of-contents__link toc-highlight">The Chia S3 plugin</a><ul><li><a href="#healthz" class="table-of-contents__link toc-highlight"><code>healthz</code></a></li><li><a href="#add_store_id" class="table-of-contents__link toc-highlight"><code>add_store_id</code></a></li><li><a href="#remove_store_id" class="table-of-contents__link toc-highlight"><code>remove_store_id</code></a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Approach</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://chia.net/approach" target="_blank" rel="noopener noreferrer" class="footer__link-item">White Paper</a></li></ul></div><div class="col footer__col"><div class="footer__title">Technology</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://chia.net/greenpaper" target="_blank" rel="noopener noreferrer" class="footer__link-item">Green Paper</a></li><li class="footer__item"><a href="https://docs.chia.net/consensus-intro" target="_blank" rel="noopener noreferrer" class="footer__link-item">Consensus 1.1</a></li></ul></div><div class="col footer__col"><div class="footer__title">Developers</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://chia.net/grants" target="_blank" rel="noopener noreferrer" class="footer__link-item">Grants</a></li><li class="footer__item"><a href="https://chialisp.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Chialisp</a></li></ul></div><div class="col footer__col"><div class="footer__title">Company</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://chia.net/about" target="_blank" rel="noopener noreferrer" class="footer__link-item">About</a></li><li class="footer__item"><a href="https://chia.net/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://chia.net/contact" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2023 Chia Network Inc., Licensed under the <a href="https://github.com/Chia-Network/chia-docs/blob/main/LICENSE" target="_blank">Apache License, Version 2.0</a> | <a href="https://chia.net/terms">Terms</a></div></div></div></footer></div>
<script src="/assets/js/runtime~main.67e9e446.js"></script>
<script src="/assets/js/main.eae9867d.js"></script>
</body>
</html>
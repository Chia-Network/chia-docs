<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-guides/crash-course/chialisp-and-typescript">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Chialisp and TypeScript | Chia Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.chia.net/img/og-chia.png"><meta data-rh="true" name="twitter:image" content="https://docs.chia.net/img/og-chia.png"><meta data-rh="true" property="og:url" content="https://docs.chia.net/guides/crash-course/chialisp-and-typescript"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Chialisp and TypeScript | Chia Documentation"><meta data-rh="true" name="description" content="So far we&#x27;ve been working with the Chia blockchain directly through the terminal using Chia Dev Tools the Chia command line interface."><meta data-rh="true" property="og:description" content="So far we&#x27;ve been working with the Chia blockchain directly through the terminal using Chia Dev Tools the Chia command line interface."><link data-rh="true" rel="icon" href="/img/chia_leaf_green.svg"><link data-rh="true" rel="canonical" href="https://docs.chia.net/guides/crash-course/chialisp-and-typescript"><link data-rh="true" rel="alternate" href="https://docs.chia.net/guides/crash-course/chialisp-and-typescript" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.chia.net/zh/guides/crash-course/chialisp-and-typescript" hreflang="zh"><link data-rh="true" rel="alternate" href="https://docs.chia.net/guides/crash-course/chialisp-and-typescript" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6HSSLLPE6Q"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-6HSSLLPE6Q",{anonymize_ip:!0})</script><link rel="stylesheet" href="/assets/css/styles.6a75d506.css">
<link rel="preload" href="/assets/js/runtime~main.17b782f4.js" as="script">
<link rel="preload" href="/assets/js/main.dec40346.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/svg/chia-leaf-green.svg" alt="Chia Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/svg/chia-leaf-green.svg" alt="Chia Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Chia Docs</b></a><a class="navbar__item navbar__link" href="/introduction">Docs</a><a class="navbar__item navbar__link" href="/guides">Guides</a><a href="https://chialisp.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Chialisp<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://chia.net" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Chia Network<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Chia-Network/chia-blockchain" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><main class="docMainContainer_gTbr docMainContainerEnhanced_Uz_u"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Chialisp and TypeScript</h1></header><p>So far we&#x27;ve been working with the Chia blockchain directly through the terminal using Chia Dev Tools the Chia command line interface.
This is handy but sometimes you may want to write code around Chia to work with the Chia blockchain. You may hear this referred to as driver code.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="rpc-explained">RPC Explained<a href="#rpc-explained" class="hash-link" aria-label="Direct link to RPC Explained" title="Direct link to RPC Explained">​</a></h2><p>You can interact with the Chia blockchain through the RPC, which is <a href="https://docs.chia.net/rpc/" target="_blank" rel="noopener noreferrer">documented</a> with sections on the full node, NFTs and more.</p><p>Because the RPC is accessible through web requests to localhost, you can build software using the Chia blockchain node. You can create all this code yourself or you can used wrappers that others have created.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="language-choice">Language Choice<a href="#language-choice" class="hash-link" aria-label="Direct link to Language Choice" title="Direct link to Language Choice">​</a></h2><p>You can do RPC calls with pretty much any language, but to create larger applications you will need packages for BLS signatures and CLVM. Currently, this is possible in JavaScript/TypeScript, Python, C++, Rust, and Dart.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="quick-start">Quick Start<a href="#quick-start" class="hash-link" aria-label="Direct link to Quick Start" title="Direct link to Quick Start">​</a></h2><p>This guide is meant to be an example that will give you some basic experience. We will be using Node.js with TypeScript to create a signature enforced coin. We&#x27;ll use multiple TypeScript libraries for this project, which are open source if you want to see the details on how they work.</p><ul><li><a href="https://npmjs.com/package/@rigidity/bls-signatures" target="_blank" rel="noopener noreferrer">BLS Signatures</a></li><li><a href="https://npmjs.com/package/@rigidity/clvm" target="_blank" rel="noopener noreferrer">CLVM</a></li><li><a href="https://npmjs.com/package/@rigidity/chia" target="_blank" rel="noopener noreferrer">RPCs</a></li><li><a href="https://npmjs.com/package/@rigidity/chia-wallet" target="_blank" rel="noopener noreferrer">Wallet Helper</a></li><li><a href="https://npmjs.com/package/dotenv" target="_blank" rel="noopener noreferrer">DotEnv</a></li><li><a href="https://npmjs.com/package/bip39" target="_blank" rel="noopener noreferrer">BIP39</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="full-node-rpc">Full Node RPC<a href="#full-node-rpc" class="hash-link" aria-label="Direct link to Full Node RPC" title="Direct link to Full Node RPC">​</a></h3><p>You can interact with the Chia blockchain through the RPC, which is <a href="https://docs.chia.net/rpc/" target="_blank" rel="noopener noreferrer">documented</a> with sections on the full node, NFTs and more.</p><p>Because the RPC is accessible through web requests to localhost, you can build software using the Chia blockchain node. You can create all this code yourself or you can used wrappers that others have created.</p><p>The full node RPC allows us to fetch coin records, push transactions to the mempool, and many other important things when building applications on Chia.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="bls-signatures">BLS Signatures<a href="#bls-signatures" class="hash-link" aria-label="Direct link to BLS Signatures" title="Direct link to BLS Signatures">​</a></h3><p>We&#x27;ve been using <code>chia keys</code> to get our keys and sign the messages needed to spend coins on the Chia blockchain so far. We will now use the actual library used to implement this command directly, since we will be calculating it from code. Here is some terminology that will be helpful in understanding the related code.</p><p><strong>Mnemonic</strong> - The 12 or 24 word phrase found with <code>chia keys show --show-mnemonic-seed</code>.<br>
<strong>Seed</strong> - An array of bytes used as entropy, derived from the mnemonic.<br>
<strong>Private Key</strong> - A private key (or secret key) is used for signing messages and should not be shared publicly.<br>
<strong>Public Key</strong> - A public key is used for verifying the authenticity of signatures and can be shared publicly.<br>
<strong>Signature</strong> - A value that corresponds to a given message proving that it has been signed by a specific key.<br>
<strong>Aggregated Signature</strong> - One or more signatures aggregated together. This can be used to verify multiple signatures simultaneously.<br>
<strong>Jacobian Point</strong> - A point on the BLS 12-381 elliptic curve used to represent a public key or signature.<br>
<strong>G1Element</strong> - A public key represented as a Jacobian point.<br>
<strong>G2Element</strong> - A signature represented as a Jacobian point.<br>
<strong>AugScemeMPL</strong> - The signing scheme used by the Chia blockchain for aggregated signatures.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="initializing-a-project">Initializing a Project<a href="#initializing-a-project" class="hash-link" aria-label="Direct link to Initializing a Project" title="Direct link to Initializing a Project">​</a></h2><p>You will first need <code>npm</code>, which you can get by <a href="https://nodejs.org/en/download/" target="_blank" rel="noopener noreferrer">downloading Node.js</a>.</p><p>Once you have that installed, enter this in the terminal inside of a folder for your project:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">npm init</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Go through the prompts, making sure to change the entry point as described below. This will initialize a <code>package.json</code> where you can define your dependencies and scripts for the project.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Set the entry point to <code>dist/index.js</code> rather than <code>index.js</code> since we will be compiling the code.</p><p>If you forget to do this, you can set it later in <code>package.json</code> in the <code>main</code> field.</p></div></div><p>We will be using TypeScript, so issue this command:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">npm install --save-dev typescript ts-node</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now, add a <code>tsconfig.json</code> file with this content:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token punctuation" style="color:#383a42">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#383a42">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">        </span><span class="token property">&quot;moduleResolution&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:#B35C00;font-weight:normal">&quot;node&quot;</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">        </span><span class="token property">&quot;target&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:#B35C00;font-weight:normal">&quot;ESNext&quot;</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">        </span><span class="token property">&quot;downlevelIteration&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean" style="color:#B35C00;font-weight:normal">true</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">        </span><span class="token property">&quot;esModuleInterop&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean" style="color:#B35C00;font-weight:normal">true</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">        </span><span class="token property">&quot;inlineSourceMap&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean" style="color:#B35C00;font-weight:normal">true</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">        </span><span class="token property">&quot;declaration&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean" style="color:#B35C00;font-weight:normal">true</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">        </span><span class="token property">&quot;noImplicitAny&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean" style="color:#B35C00;font-weight:normal">true</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">        </span><span class="token property">&quot;noImplicitThis&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean" style="color:#B35C00;font-weight:normal">true</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">        </span><span class="token property">&quot;noImplicitOverride&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean" style="color:#B35C00;font-weight:normal">true</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">        </span><span class="token property">&quot;strict&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean" style="color:#B35C00;font-weight:normal">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token punctuation" style="color:#383a42">}</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token property">&quot;include&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#383a42">[</span><span class="token string" style="color:#B35C00;font-weight:normal">&quot;src&quot;</span><span class="token punctuation" style="color:#383a42">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token punctuation" style="color:#383a42">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We will put all of our code inside of a <code>src</code> folder, so add that folder now with an <code>index.ts</code> file:</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockTitle_Ktv7">src/index.ts</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token builtin" style="color:#127EAF">console</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">log</span><span class="token punctuation" style="color:#383a42">(</span><span class="token string" style="color:#B35C00;font-weight:normal">&#x27;Hello, Chia!&#x27;</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To run this, we can add a <code>start</code> script of <code>ts-node src/index.ts</code> to our <code>package.json</code>. Our file will look something like this:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockTitle_Ktv7">package.json</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token punctuation" style="color:#383a42">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:#B35C00;font-weight:normal">&quot;tschia&quot;</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token property">&quot;version&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:#B35C00;font-weight:normal">&quot;1.0.0&quot;</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token property">&quot;description&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:#B35C00;font-weight:normal">&quot;&quot;</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token property">&quot;main&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:#B35C00;font-weight:normal">&quot;dist/index.js&quot;</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#383a42">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">        </span><span class="token property">&quot;start&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:#B35C00;font-weight:normal">&quot;ts-node src/index.ts&quot;</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">        </span><span class="token property">&quot;test&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:#B35C00;font-weight:normal">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token punctuation" style="color:#383a42">}</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token property">&quot;author&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:#B35C00;font-weight:normal">&quot;&quot;</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token property">&quot;license&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:#B35C00;font-weight:normal">&quot;ISC&quot;</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#383a42">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">        </span><span class="token property">&quot;ts-node&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:#B35C00;font-weight:normal">&quot;^10.9.1&quot;</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">        </span><span class="token property">&quot;typescript&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:#B35C00;font-weight:normal">&quot;^4.9.3&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token punctuation" style="color:#383a42">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token punctuation" style="color:#383a42">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now, you should be able to run the project from the terminal:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">npm run start</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="other-dependencies">Other Dependencies<a href="#other-dependencies" class="hash-link" aria-label="Direct link to Other Dependencies" title="Direct link to Other Dependencies">​</a></h3><p>For this project we are going to need add a few more dependencies. You can install these all at once with:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">npm install @rigidity/bls-signatures @rigidity/clvm @rigidity/chia @rigidity/chia-wallet bip39 dotenv</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="mnemonic-phrase">Mnemonic Phrase<a href="#mnemonic-phrase" class="hash-link" aria-label="Direct link to Mnemonic Phrase" title="Direct link to Mnemonic Phrase">​</a></h2><p>As this code uses a custom wallet implementation instead of the Chia wallet RPC, we will need to keep track of the mnemonic ourselves. Here is an example mnemonic phrase:</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token keyword" style="color:#990096">const</span><span class="token plain"> mnemonic </span><span class="token operator">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token string" style="color:#B35C00;font-weight:normal">&#x27;nasty sunny kingdom popular turn core rifle river twenty edit sort pill rice claw hollow please wash inform cannon empower emotion caught salt close&#x27;</span><span class="token punctuation" style="color:#383a42">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dot-env">Dot Env<a href="#dot-env" class="hash-link" aria-label="Direct link to Dot Env" title="Direct link to Dot Env">​</a></h3><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p>This wallet is used as an example. You&#x27;ll never want to share your wallet mnemonic with anyone!</p></div></div><p>You can securely save the mnemonic phrase in a <code>.env</code> file and load it in your program:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockTitle_Ktv7">.env</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">MNEMONIC=nasty sunny kingdom popular turn core rifle river twenty edit sort pill rice claw hollow please wash inform cannon empower emotion caught salt close</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This value can be retrieved with:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">chia keys show --show-mnemonic-seed</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This is how you load the file for later:</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockTitle_Ktv7">index.ts</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token keyword" style="color:#990096">import</span><span class="token plain"> dotenv </span><span class="token keyword" style="color:#990096">from</span><span class="token plain"> </span><span class="token string" style="color:#B35C00;font-weight:normal">&#x27;dotenv&#x27;</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">dotenv</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">config</span><span class="token punctuation" style="color:#383a42">(</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you use Git, you&#x27;ll want to make sure the <code>.env</code> file is added to the <code>.gitignore</code> so this is not checked in to a shared repository.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="imports">Imports<a href="#imports" class="hash-link" aria-label="Direct link to Imports" title="Direct link to Imports">​</a></h3><p>To not have to mention imports throughout the doc, Our imports will ultimately look like:</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token keyword" style="color:#990096">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#383a42">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    PrivateKey</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    fromHex</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    AugSchemeMPL</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    concatBytes</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token punctuation" style="color:#383a42">}</span><span class="token plain"> </span><span class="token keyword" style="color:#990096">from</span><span class="token plain"> </span><span class="token string" style="color:#B35C00;font-weight:normal">&#x27;@rigidity/bls-signatures&#x27;</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token keyword" style="color:#990096">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#383a42">{</span><span class="token plain"> mnemonicToSeedSync </span><span class="token punctuation" style="color:#383a42">}</span><span class="token plain"> </span><span class="token keyword" style="color:#990096">from</span><span class="token plain"> </span><span class="token string" style="color:#B35C00;font-weight:normal">&#x27;bip39&#x27;</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token keyword" style="color:#990096">import</span><span class="token plain"> dotenv </span><span class="token keyword" style="color:#990096">from</span><span class="token plain"> </span><span class="token string" style="color:#B35C00;font-weight:normal">&#x27;dotenv&#x27;</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token keyword" style="color:#990096">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#383a42">{</span><span class="token plain"> Program </span><span class="token punctuation" style="color:#383a42">}</span><span class="token plain"> </span><span class="token keyword" style="color:#990096">from</span><span class="token plain"> </span><span class="token string" style="color:#B35C00;font-weight:normal">&#x27;@rigidity/clvm&#x27;</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token keyword" style="color:#990096">import</span><span class="token plain"> fs </span><span class="token keyword" style="color:#990096">from</span><span class="token plain"> </span><span class="token string" style="color:#B35C00;font-weight:normal">&#x27;fs&#x27;</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token keyword" style="color:#990096">import</span><span class="token plain"> path </span><span class="token keyword" style="color:#990096">from</span><span class="token plain"> </span><span class="token string" style="color:#B35C00;font-weight:normal">&#x27;path&#x27;</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token keyword" style="color:#990096">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#383a42">{</span><span class="token plain"> FullNode</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"> formatHex</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"> SpendBundle</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"> toCoinId </span><span class="token punctuation" style="color:#383a42">}</span><span class="token plain"> </span><span class="token keyword" style="color:#990096">from</span><span class="token plain"> </span><span class="token string" style="color:#B35C00;font-weight:normal">&#x27;@rigidity/chia&#x27;</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token keyword" style="color:#990096">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#383a42">{</span><span class="token plain"> KeyStore</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"> StandardWallet </span><span class="token punctuation" style="color:#383a42">}</span><span class="token plain"> </span><span class="token keyword" style="color:#990096">from</span><span class="token plain"> </span><span class="token string" style="color:#B35C00;font-weight:normal">&#x27;@rigidity/chia-wallet&#x27;</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token keyword" style="color:#990096">import</span><span class="token plain"> os </span><span class="token keyword" style="color:#990096">from</span><span class="token plain"> </span><span class="token string" style="color:#B35C00;font-weight:normal">&#x27;os&#x27;</span><span class="token punctuation" style="color:#383a42">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="loading-chialisp-files">Loading Chialisp Files<a href="#loading-chialisp-files" class="hash-link" aria-label="Direct link to Loading Chialisp Files" title="Direct link to Loading Chialisp Files">​</a></h2><p>Now that we have the mnemonic phrase, we will create a Chialisp file named <code>signature.clsp</code> to be used for this example:</p><div class="language-chialisp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockTitle_Ktv7">signature.clsp</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-chialisp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">(mod (PUBLIC_KEY conditions)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    (include condition_codes.clib)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    (include sha256tree.clib)</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    (c</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">        (list AGG_SIG_ME PUBLIC_KEY (sha256tree conditions))</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">        conditions</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    )</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This is a refresher of the content on signatures. This will require a signature from the spender with a message that includes the tree hash of the condition to be used.</p><p>Here is how we can read chialisp. First, we get some dependencies and build the chialisp code:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">cdv clsp retrieve condition_codes sha256tree</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">cdv clsp build signature.clsp</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This will create a <code>signature.clsp.hex</code> file that can be read in our code.</p><div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token keyword" style="color:#990096">const</span><span class="token plain"> program </span><span class="token operator">=</span><span class="token plain"> Program</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">deserializeHex</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    fs</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">readFileSync</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">path</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">join</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">__dirname</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"> </span><span class="token string" style="color:#B35C00;font-weight:normal">&#x27;..&#x27;</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"> </span><span class="token string" style="color:#B35C00;font-weight:normal">&#x27;signature.clsp.hex&#x27;</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"> </span><span class="token string" style="color:#B35C00;font-weight:normal">&#x27;utf-8&#x27;</span><span class="token punctuation" style="color:#383a42">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token builtin" style="color:#127EAF">console</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">log</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">program</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">toString</span><span class="token punctuation" style="color:#383a42">(</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Run this command:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token function" style="color:#0045DB">npm</span><span class="token plain"> run start</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Which should produce the following result:</p><div class="language-chialisp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-chialisp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">(a (q 4 (c 4 (c 5 (c (a 6 (c 2 (c 11 ()))) ()))) 11) (c (q 50 2 (i (l 5) (q 11 (q . 2) (a 6 (c 2 (c 9 ()))) (a 6 (c 2 (c 13 ())))) (q 11 (q . 1) 5)) 1) 1))</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To be sure, we can check this with Chia Dev Tools:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">run signature.clsp -i include</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This is not complete as this is the puzzle with no curried values. We will want to curry the public key expected so not anyone can sign for this coin to be spent.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="currying-the-key">Currying the Key<a href="#currying-the-key" class="hash-link" aria-label="Direct link to Currying the Key" title="Direct link to Currying the Key">​</a></h2><p>Now that we have the program loaded, we can use the mnemonic we loaded to derive the keypair and curry the public key into the signature puzzle.</p><div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token keyword" style="color:#990096">const</span><span class="token plain"> mnemonic </span><span class="token operator">=</span><span class="token plain"> process</span><span class="token punctuation" style="color:#383a42">.</span><span class="token plain">env</span><span class="token punctuation" style="color:#383a42">.</span><span class="token constant">MNEMONIC</span><span class="token operator">!</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token keyword" style="color:#990096">const</span><span class="token plain"> privateKey </span><span class="token operator">=</span><span class="token plain"> PrivateKey</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">fromSeed</span><span class="token punctuation" style="color:#383a42">(</span><span class="token function" style="color:#0045DB">mnemonicToSeedSync</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">mnemonic</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token keyword" style="color:#990096">const</span><span class="token plain"> publicKey </span><span class="token operator">=</span><span class="token plain"> privateKey</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">getG1</span><span class="token punctuation" style="color:#383a42">(</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token keyword" style="color:#990096">const</span><span class="token plain"> curried </span><span class="token operator">=</span><span class="token plain"> program</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">curry</span><span class="token punctuation" style="color:#383a42">(</span><span class="token punctuation" style="color:#383a42">[</span><span class="token plain">Program</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">fromJacobianPoint</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">publicKey</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">]</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token builtin" style="color:#127EAF">console</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">log</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">curried</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">toString</span><span class="token punctuation" style="color:#383a42">(</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p><code>privateKey.getG1()</code> is the equivalent of getting your <strong>master public key</strong> with <code>chia keys show</code>.</p></div></div><p>Run this command:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token function" style="color:#0045DB">npm</span><span class="token plain"> run start</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To get the final curried puzzle:</p><div class="language-chialisp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-chialisp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">(a (q 2 (q 4 (c 4 (c 5 (c (a 6 (c 2 (c 11 ()))) ()))) 11) (c (q 50 2 (i (l 5) (q 11 (q . 2) (a 6 (c 2 (c 9 ()))) (a 6 (c 2 (c 13 ())))) (q 11 (q . 1) 5)) 1) 1)) (c (q . 0xa9d31f69a4337bd10aa8179cbede90af1cdfdfbd804c8f1bc7b69ced9f769ee4f9938a40dbed4242baafabf641adea2b) 1))</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="setting-up-the-wallet">Setting up the Wallet<a href="#setting-up-the-wallet" class="hash-link" aria-label="Direct link to Setting up the Wallet" title="Direct link to Setting up the Wallet">​</a></h2><p>We will need the network&#x27;s genesis challenge, which we can add to <code>.env</code> on a new line:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockTitle_Ktv7">.env</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">MNEMONIC=...</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">GENESIS=d25b25b897564035695996922aa0f9ff9d611bd38cd2ecd0d2383a99a70dfc15</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can retrieve your network&#x27;s Genesis challenege in the terminal with:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">chia show -s</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Testnet10 has the genesis <code>ae83525ba8d1dd3f09b277de18ca3e43fc0af20d20c4b3e92ef2a48bd291ccb2</code>. You can see this in <code>~/.chia/mainnet/config/config.yaml</code> as well with:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token function" style="color:#0045DB">less</span><span class="token plain"> ~/.chia/mainnet/config/config.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now you can start the full node RPC client and wallet like this:</p><div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token keyword" style="color:#990096">const</span><span class="token plain"> node </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:#990096">new</span><span class="token plain"> </span><span class="token class-name" style="color:#006100">FullNode</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">os</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">homedir</span><span class="token punctuation" style="color:#383a42">(</span><span class="token punctuation" style="color:#383a42">)</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string" style="color:#B35C00;font-weight:normal">&#x27;/.chia/mainnet&#x27;</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token keyword" style="color:#990096">const</span><span class="token plain"> keyStore </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:#990096">new</span><span class="token plain"> </span><span class="token class-name" style="color:#006100">KeyStore</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">privateKey</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token keyword" style="color:#990096">const</span><span class="token plain"> wallet </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:#990096">new</span><span class="token plain"> </span><span class="token class-name" style="color:#006100">StandardWallet</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">node</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"> keyStore</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token keyword" style="color:#990096">const</span><span class="token plain"> genesis </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:#0045DB">fromHex</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">process</span><span class="token punctuation" style="color:#383a42">.</span><span class="token plain">env</span><span class="token punctuation" style="color:#383a42">.</span><span class="token constant">GENESIS</span><span class="token operator">!</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-the-coin">Creating the Coin<a href="#creating-the-coin" class="hash-link" aria-label="Direct link to Creating the Coin" title="Direct link to Creating the Coin">​</a></h2><p>For creating a coin we will use <code>async</code> and <code>await</code>, so we define an <code>async</code> function <code>create</code> (call it whatever you want).</p><div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token keyword" style="color:#990096">async</span><span class="token plain"> </span><span class="token keyword" style="color:#990096">function</span><span class="token plain"> </span><span class="token function" style="color:#0045DB">create</span><span class="token punctuation" style="color:#383a42">(</span><span class="token punctuation" style="color:#383a42">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#383a42">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token keyword" style="color:#990096">await</span><span class="token plain"> wallet</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">sync</span><span class="token punctuation" style="color:#383a42">(</span><span class="token punctuation" style="color:#383a42">{</span><span class="token plain"> unusedAddressCount</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number" style="color:#B35C00;font-weight:normal">10</span><span class="token plain"> </span><span class="token punctuation" style="color:#383a42">}</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token keyword" style="color:#990096">const</span><span class="token plain"> spend </span><span class="token operator">=</span><span class="token plain"> wallet</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">createSpend</span><span class="token punctuation" style="color:#383a42">(</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    spend</span><span class="token punctuation" style="color:#383a42">.</span><span class="token plain">coin_spends </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:#990096">await</span><span class="token plain"> wallet</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">send</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">curried</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">hash</span><span class="token punctuation" style="color:#383a42">(</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"> </span><span class="token number" style="color:#B35C00;font-weight:normal">0.01e12</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"> </span><span class="token number" style="color:#B35C00;font-weight:normal">0.00005e12</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    wallet</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">signSpend</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">spend</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"> genesis</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token builtin" style="color:#127EAF">console</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">log</span><span class="token punctuation" style="color:#383a42">(</span><span class="token keyword" style="color:#990096">await</span><span class="token plain"> node</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">pushTx</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">spend</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token punctuation" style="color:#383a42">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token function" style="color:#0045DB">create</span><span class="token punctuation" style="color:#383a42">(</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>The <code>wallet.sync</code> method generates new child keys and corresponding addresses until there are a certain number of unused addresses available. This ensures that we have loaded all unspent coins that are available to us, which will be needed to create spends later on. This is what the Chia wallet does on startup, but since we are loading a wallet in this code, we need it to be synced every time we start the program.</p></div></div><p>We first create a new spend to create a coin with the puzzle hash of the curried in signature puzzle we created earlier. The amount is <code>0.01</code> XCH and the fee is <code>0.00005</code> XCH. Then, we can push the spend bundle into the mempool and the transaction should be successful.</p><p>Run this command:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token function" style="color:#0045DB">npm</span><span class="token plain"> run start</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Which should produce the following result:</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token punctuation" style="color:#383a42">{</span><span class="token plain"> </span><span class="token literal-property property">status</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:#B35C00;font-weight:normal">&#x27;SUCCESS&#x27;</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"> </span><span class="token literal-property property">success</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean" style="color:#B35C00;font-weight:normal">true</span><span class="token plain"> </span><span class="token punctuation" style="color:#383a42">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Each time you run this code you will be spending more Chia. You should be using testnet and sending small amounts as you learn.</p></div></div><p>When expecting a value in mojos, you can convert from Chia to mojos with <code>e12</code>. So, <code>0.01e12 Mojo</code> is the same as <code>0.01 XCH</code>. This is because there are a trillion mojos in an XCH.</p><p>This code is roughly equivalent to:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">cdv encode --prefix txch 0x9de4380ab079ec73720d75916990be23de3bfaa727ff52d6bc09d93d66be79da</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">chia wallet send --amount </span><span class="token number" style="color:#B35C00;font-weight:normal">0.01</span><span class="token plain"> --fee </span><span class="token number" style="color:#B35C00;font-weight:normal">0.00005</span><span class="token plain"> --address txch14gxuvfmw2xdxqnws5agt3ma483wktd2lrzwvpj3f6jvdgkmf5gtq8g3aw3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="retrieve-the-coin-record">Retrieve the Coin Record<a href="#retrieve-the-coin-record" class="hash-link" aria-label="Direct link to Retrieve the Coin Record" title="Direct link to Retrieve the Coin Record">​</a></h2><p>We will need to give adequate time for the coin go sucesfully go to the mempool and then for it to be included by a full node. Because of this, we will issue the creation code separate from the retrieval code.</p><div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token keyword" style="color:#990096">async</span><span class="token plain"> </span><span class="token keyword" style="color:#990096">function</span><span class="token plain"> </span><span class="token function" style="color:#0045DB">spend</span><span class="token punctuation" style="color:#383a42">(</span><span class="token punctuation" style="color:#383a42">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#383a42">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token keyword" style="color:#990096">await</span><span class="token plain"> wallet</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">sync</span><span class="token punctuation" style="color:#383a42">(</span><span class="token punctuation" style="color:#383a42">{</span><span class="token plain"> unusedAddressCount</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number" style="color:#B35C00;font-weight:normal">10</span><span class="token plain"> </span><span class="token punctuation" style="color:#383a42">}</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token keyword" style="color:#990096">const</span><span class="token plain"> coinRecords </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:#990096">await</span><span class="token plain"> node</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">getCoinRecordsByPuzzleHash</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">        curried</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">hashHex</span><span class="token punctuation" style="color:#383a42">(</span><span class="token punctuation" style="color:#383a42">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token keyword" style="color:#990096">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#383a42">(</span><span class="token operator">!</span><span class="token plain">coinRecords</span><span class="token punctuation" style="color:#383a42">.</span><span class="token plain">success</span><span class="token punctuation" style="color:#383a42">)</span><span class="token plain"> </span><span class="token keyword" style="color:#990096">throw</span><span class="token plain"> </span><span class="token keyword" style="color:#990096">new</span><span class="token plain"> </span><span class="token class-name" style="color:#006100">Error</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">coinRecords</span><span class="token punctuation" style="color:#383a42">.</span><span class="token plain">error</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token keyword" style="color:#990096">const</span><span class="token plain"> record </span><span class="token operator">=</span><span class="token plain"> coinRecords</span><span class="token punctuation" style="color:#383a42">.</span><span class="token plain">coin_records</span><span class="token punctuation" style="color:#383a42">[</span><span class="token number" style="color:#B35C00;font-weight:normal">0</span><span class="token punctuation" style="color:#383a42">]</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token builtin" style="color:#127EAF">console</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">log</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">record</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token punctuation" style="color:#383a42">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token function" style="color:#0045DB">spend</span><span class="token punctuation" style="color:#383a42">(</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This will fetch the first coin record that matches our curried puzzle hash with the full node RPC. We will use this in the next step to spend the coin.</p><p>Run this command to ensure that the coin record is there:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token function" style="color:#0045DB">npm</span><span class="token plain"> run start</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="crafting-a-solution">Crafting a Solution<a href="#crafting-a-solution" class="hash-link" aria-label="Direct link to Crafting a Solution" title="Direct link to Crafting a Solution">​</a></h2><p>THe solution for this puzzle consists of a list of conditions. To write Chialisp within JavaScript we can use the <code>Program.fromSource()</code> method.
We will use a <code>51</code> (<code>CREATE_COIN</code>) condition delivering the value to our wallet puzzle hash.</p><div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token comment" style="color:#73737D;font-weight:normal">// Calculate an unused address we can send the value to.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token keyword" style="color:#990096">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#383a42">[</span><span class="token plain">targetIndex</span><span class="token punctuation" style="color:#383a42">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:#990096">await</span><span class="token plain"> wallet</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">findUnusedIndices</span><span class="token punctuation" style="color:#383a42">(</span><span class="token number" style="color:#B35C00;font-weight:normal">1</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#383a42">[</span><span class="token punctuation" style="color:#383a42">]</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token keyword" style="color:#990096">const</span><span class="token plain"> target </span><span class="token operator">=</span><span class="token plain"> wallet</span><span class="token punctuation" style="color:#383a42">.</span><span class="token plain">puzzleCache</span><span class="token punctuation" style="color:#383a42">[</span><span class="token plain">targetIndex</span><span class="token punctuation" style="color:#383a42">]</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token comment" style="color:#73737D;font-weight:normal">// A fee of 0.00005 XCH.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token keyword" style="color:#990096">const</span><span class="token plain"> fee </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number" style="color:#B35C00;font-weight:normal">0.00005e12</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token comment" style="color:#73737D;font-weight:normal">// Create a coin on the target, leaving a fee to be sent to the farmer.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token keyword" style="color:#990096">const</span><span class="token plain"> conditions </span><span class="token operator">=</span><span class="token plain"> Program</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">fromSource</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token template-string template-punctuation string" style="color:#B35C00;font-weight:normal">`</span><span class="token template-string string" style="color:#B35C00;font-weight:normal">((51 </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#383a42">${</span><span class="token template-string interpolation function" style="color:#0045DB">formatHex</span><span class="token template-string interpolation punctuation" style="color:#383a42">(</span><span class="token template-string interpolation">target</span><span class="token template-string interpolation punctuation" style="color:#383a42">.</span><span class="token template-string interpolation function" style="color:#0045DB">hashHex</span><span class="token template-string interpolation punctuation" style="color:#383a42">(</span><span class="token template-string interpolation punctuation" style="color:#383a42">)</span><span class="token template-string interpolation punctuation" style="color:#383a42">)</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#383a42">}</span><span class="token template-string string" style="color:#B35C00;font-weight:normal"> </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#383a42">${</span><span class="token template-string interpolation">record</span><span class="token template-string interpolation punctuation" style="color:#383a42">.</span><span class="token template-string interpolation">coin</span><span class="token template-string interpolation punctuation" style="color:#383a42">.</span><span class="token template-string interpolation">amount </span><span class="token template-string interpolation operator">-</span><span class="token template-string interpolation"> fee</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#383a42">}</span><span class="token template-string string" style="color:#B35C00;font-weight:normal">))</span><span class="token template-string template-punctuation string" style="color:#B35C00;font-weight:normal">`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token comment" style="color:#73737D;font-weight:normal">// Create a solution from the conditions.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token keyword" style="color:#990096">const</span><span class="token plain"> solution </span><span class="token operator">=</span><span class="token plain"> Program</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">fromSource</span><span class="token punctuation" style="color:#383a42">(</span><span class="token template-string template-punctuation string" style="color:#B35C00;font-weight:normal">`</span><span class="token template-string string" style="color:#B35C00;font-weight:normal">(</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#383a42">${</span><span class="token template-string interpolation">conditions</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#383a42">}</span><span class="token template-string string" style="color:#B35C00;font-weight:normal">)</span><span class="token template-string template-punctuation string" style="color:#B35C00;font-weight:normal">`</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">serializeHex</span><span class="token punctuation" style="color:#383a42">(</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>The <code>Program.fromSource</code> method takes a string and converts it into a CLVM object, which allows it to be hashed or serialized as such. The reason we call it again on the conditions to make the solution is that we need to wrap it in a set of parenthesis to form a list.</p><p>Remember that the solution is a list of arguments, of which the first one is the list of conditions.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="calculate-the-signature">Calculate the Signature<a href="#calculate-the-signature" class="hash-link" aria-label="Direct link to Calculate the Signature" title="Direct link to Calculate the Signature">​</a></h2><p>Reminder that the signature required for <code>AGG_SIG_ME</code> is the message + coin ID + Genesis challenge.</p><div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token keyword" style="color:#990096">const</span><span class="token plain"> signature </span><span class="token operator">=</span><span class="token plain"> AugSchemeMPL</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">sign</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    privateKey</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token function" style="color:#0045DB">concatBytes</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">conditions</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">hash</span><span class="token punctuation" style="color:#383a42">(</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"> </span><span class="token function" style="color:#0045DB">toCoinId</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">record</span><span class="token punctuation" style="color:#383a42">.</span><span class="token plain">coin</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"> genesis</span><span class="token punctuation" style="color:#383a42">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">toHex</span><span class="token punctuation" style="color:#383a42">(</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="spend-the-coin">Spend the Coin<a href="#spend-the-coin" class="hash-link" aria-label="Direct link to Spend the Coin" title="Direct link to Spend the Coin">​</a></h2><p>Finally, we can put everything together in a spend bundle and push the transaction to the mempool.</p><div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token keyword" style="color:#990096">const</span><span class="token plain"> spendBundle</span><span class="token operator">:</span><span class="token plain"> SpendBundle </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#383a42">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    coin_spends</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#383a42">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">        </span><span class="token punctuation" style="color:#383a42">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">            coin</span><span class="token operator">:</span><span class="token plain"> record</span><span class="token punctuation" style="color:#383a42">.</span><span class="token plain">coin</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">            puzzle_reveal</span><span class="token operator">:</span><span class="token plain"> curried</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">serializeHex</span><span class="token punctuation" style="color:#383a42">(</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">            solution</span><span class="token operator">:</span><span class="token plain"> solution</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">        </span><span class="token punctuation" style="color:#383a42">}</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token punctuation" style="color:#383a42">]</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    aggregated_signature</span><span class="token operator">:</span><span class="token plain"> signature</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token punctuation" style="color:#383a42">}</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token builtin" style="color:#127EAF">console</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">log</span><span class="token punctuation" style="color:#383a42">(</span><span class="token keyword" style="color:#990096">await</span><span class="token plain"> node</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">pushTx</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">spendBundle</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Run this command:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token function" style="color:#0045DB">npm</span><span class="token plain"> run start</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Which should produce the following result:</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token punctuation" style="color:#383a42">{</span><span class="token plain"> </span><span class="token literal-property property">status</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:#B35C00;font-weight:normal">&#x27;SUCCESS&#x27;</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"> </span><span class="token literal-property property">success</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean" style="color:#B35C00;font-weight:normal">true</span><span class="token plain"> </span><span class="token punctuation" style="color:#383a42">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Complete Code</summary><div><div class="collapsibleContent_i85q"><div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token keyword" style="color:#990096">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#383a42">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    PrivateKey</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    fromHex</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    AugSchemeMPL</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    concatBytes</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token punctuation" style="color:#383a42">}</span><span class="token plain"> </span><span class="token keyword" style="color:#990096">from</span><span class="token plain"> </span><span class="token string" style="color:#B35C00;font-weight:normal">&#x27;@rigidity/bls-signatures&#x27;</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token keyword" style="color:#990096">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#383a42">{</span><span class="token plain"> mnemonicToSeedSync </span><span class="token punctuation" style="color:#383a42">}</span><span class="token plain"> </span><span class="token keyword" style="color:#990096">from</span><span class="token plain"> </span><span class="token string" style="color:#B35C00;font-weight:normal">&#x27;bip39&#x27;</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token keyword" style="color:#990096">import</span><span class="token plain"> dotenv </span><span class="token keyword" style="color:#990096">from</span><span class="token plain"> </span><span class="token string" style="color:#B35C00;font-weight:normal">&#x27;dotenv&#x27;</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token keyword" style="color:#990096">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#383a42">{</span><span class="token plain"> Program </span><span class="token punctuation" style="color:#383a42">}</span><span class="token plain"> </span><span class="token keyword" style="color:#990096">from</span><span class="token plain"> </span><span class="token string" style="color:#B35C00;font-weight:normal">&#x27;@rigidity/clvm&#x27;</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token keyword" style="color:#990096">import</span><span class="token plain"> fs </span><span class="token keyword" style="color:#990096">from</span><span class="token plain"> </span><span class="token string" style="color:#B35C00;font-weight:normal">&#x27;fs&#x27;</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token keyword" style="color:#990096">import</span><span class="token plain"> path </span><span class="token keyword" style="color:#990096">from</span><span class="token plain"> </span><span class="token string" style="color:#B35C00;font-weight:normal">&#x27;path&#x27;</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token keyword" style="color:#990096">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#383a42">{</span><span class="token plain"> FullNode</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"> formatHex</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"> SpendBundle</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"> toCoinId </span><span class="token punctuation" style="color:#383a42">}</span><span class="token plain"> </span><span class="token keyword" style="color:#990096">from</span><span class="token plain"> </span><span class="token string" style="color:#B35C00;font-weight:normal">&#x27;@rigidity/chia&#x27;</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token keyword" style="color:#990096">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#383a42">{</span><span class="token plain"> KeyStore</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"> StandardWallet </span><span class="token punctuation" style="color:#383a42">}</span><span class="token plain"> </span><span class="token keyword" style="color:#990096">from</span><span class="token plain"> </span><span class="token string" style="color:#B35C00;font-weight:normal">&#x27;@rigidity/chia-wallet&#x27;</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token keyword" style="color:#990096">import</span><span class="token plain"> os </span><span class="token keyword" style="color:#990096">from</span><span class="token plain"> </span><span class="token string" style="color:#B35C00;font-weight:normal">&#x27;os&#x27;</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">dotenv</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">config</span><span class="token punctuation" style="color:#383a42">(</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token keyword" style="color:#990096">const</span><span class="token plain"> program </span><span class="token operator">=</span><span class="token plain"> Program</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">deserializeHex</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    fs</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">readFileSync</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">path</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">join</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">__dirname</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"> </span><span class="token string" style="color:#B35C00;font-weight:normal">&#x27;..&#x27;</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"> </span><span class="token string" style="color:#B35C00;font-weight:normal">&#x27;signature.clsp.hex&#x27;</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"> </span><span class="token string" style="color:#B35C00;font-weight:normal">&#x27;utf-8&#x27;</span><span class="token punctuation" style="color:#383a42">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token builtin" style="color:#127EAF">console</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">log</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">program</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">toString</span><span class="token punctuation" style="color:#383a42">(</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token keyword" style="color:#990096">const</span><span class="token plain"> mnemonic </span><span class="token operator">=</span><span class="token plain"> process</span><span class="token punctuation" style="color:#383a42">.</span><span class="token plain">env</span><span class="token punctuation" style="color:#383a42">.</span><span class="token constant">MNEMONIC</span><span class="token operator">!</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token keyword" style="color:#990096">const</span><span class="token plain"> privateKey </span><span class="token operator">=</span><span class="token plain"> PrivateKey</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">fromSeed</span><span class="token punctuation" style="color:#383a42">(</span><span class="token function" style="color:#0045DB">mnemonicToSeedSync</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">mnemonic</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token keyword" style="color:#990096">const</span><span class="token plain"> publicKey </span><span class="token operator">=</span><span class="token plain"> privateKey</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">getG1</span><span class="token punctuation" style="color:#383a42">(</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token keyword" style="color:#990096">const</span><span class="token plain"> curried </span><span class="token operator">=</span><span class="token plain"> program</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">curry</span><span class="token punctuation" style="color:#383a42">(</span><span class="token punctuation" style="color:#383a42">[</span><span class="token plain">Program</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">fromJacobianPoint</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">publicKey</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">]</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token builtin" style="color:#127EAF">console</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">log</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">curried</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">toString</span><span class="token punctuation" style="color:#383a42">(</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token keyword" style="color:#990096">const</span><span class="token plain"> node </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:#990096">new</span><span class="token plain"> </span><span class="token class-name" style="color:#006100">FullNode</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">os</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">homedir</span><span class="token punctuation" style="color:#383a42">(</span><span class="token punctuation" style="color:#383a42">)</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string" style="color:#B35C00;font-weight:normal">&#x27;/.chia/mainnet&#x27;</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token keyword" style="color:#990096">const</span><span class="token plain"> keyStore </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:#990096">new</span><span class="token plain"> </span><span class="token class-name" style="color:#006100">KeyStore</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">privateKey</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token keyword" style="color:#990096">const</span><span class="token plain"> wallet </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:#990096">new</span><span class="token plain"> </span><span class="token class-name" style="color:#006100">StandardWallet</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">node</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"> keyStore</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token keyword" style="color:#990096">const</span><span class="token plain"> genesis </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:#0045DB">fromHex</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">process</span><span class="token punctuation" style="color:#383a42">.</span><span class="token plain">env</span><span class="token punctuation" style="color:#383a42">.</span><span class="token constant">GENESIS</span><span class="token operator">!</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token keyword" style="color:#990096">async</span><span class="token plain"> </span><span class="token keyword" style="color:#990096">function</span><span class="token plain"> </span><span class="token function" style="color:#0045DB">create</span><span class="token punctuation" style="color:#383a42">(</span><span class="token punctuation" style="color:#383a42">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#383a42">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token keyword" style="color:#990096">await</span><span class="token plain"> wallet</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">sync</span><span class="token punctuation" style="color:#383a42">(</span><span class="token punctuation" style="color:#383a42">{</span><span class="token plain"> unusedAddressCount</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number" style="color:#B35C00;font-weight:normal">10</span><span class="token plain"> </span><span class="token punctuation" style="color:#383a42">}</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token keyword" style="color:#990096">const</span><span class="token plain"> spend </span><span class="token operator">=</span><span class="token plain"> wallet</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">createSpend</span><span class="token punctuation" style="color:#383a42">(</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    spend</span><span class="token punctuation" style="color:#383a42">.</span><span class="token plain">coin_spends </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:#990096">await</span><span class="token plain"> wallet</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">send</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">curried</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">hash</span><span class="token punctuation" style="color:#383a42">(</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"> </span><span class="token number" style="color:#B35C00;font-weight:normal">0.01e12</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"> </span><span class="token number" style="color:#B35C00;font-weight:normal">0.00005e12</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    wallet</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">signSpend</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">spend</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"> genesis</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token builtin" style="color:#127EAF">console</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">log</span><span class="token punctuation" style="color:#383a42">(</span><span class="token keyword" style="color:#990096">await</span><span class="token plain"> node</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">pushTx</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">spend</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token punctuation" style="color:#383a42">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token keyword" style="color:#990096">async</span><span class="token plain"> </span><span class="token keyword" style="color:#990096">function</span><span class="token plain"> </span><span class="token function" style="color:#0045DB">spend</span><span class="token punctuation" style="color:#383a42">(</span><span class="token punctuation" style="color:#383a42">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#383a42">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token keyword" style="color:#990096">await</span><span class="token plain"> wallet</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">sync</span><span class="token punctuation" style="color:#383a42">(</span><span class="token punctuation" style="color:#383a42">{</span><span class="token plain"> unusedAddressCount</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number" style="color:#B35C00;font-weight:normal">10</span><span class="token plain"> </span><span class="token punctuation" style="color:#383a42">}</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token keyword" style="color:#990096">const</span><span class="token plain"> coinRecords </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:#990096">await</span><span class="token plain"> node</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">getCoinRecordsByPuzzleHash</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">        curried</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">hashHex</span><span class="token punctuation" style="color:#383a42">(</span><span class="token punctuation" style="color:#383a42">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token keyword" style="color:#990096">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#383a42">(</span><span class="token operator">!</span><span class="token plain">coinRecords</span><span class="token punctuation" style="color:#383a42">.</span><span class="token plain">success</span><span class="token punctuation" style="color:#383a42">)</span><span class="token plain"> </span><span class="token keyword" style="color:#990096">throw</span><span class="token plain"> </span><span class="token keyword" style="color:#990096">new</span><span class="token plain"> </span><span class="token class-name" style="color:#006100">Error</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">coinRecords</span><span class="token punctuation" style="color:#383a42">.</span><span class="token plain">error</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token keyword" style="color:#990096">const</span><span class="token plain"> record </span><span class="token operator">=</span><span class="token plain"> coinRecords</span><span class="token punctuation" style="color:#383a42">.</span><span class="token plain">coin_records</span><span class="token punctuation" style="color:#383a42">[</span><span class="token number" style="color:#B35C00;font-weight:normal">0</span><span class="token punctuation" style="color:#383a42">]</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token builtin" style="color:#127EAF">console</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">log</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">record</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token keyword" style="color:#990096">const</span><span class="token plain"> fee </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number" style="color:#B35C00;font-weight:normal">0.00005e12</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token keyword" style="color:#990096">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#383a42">[</span><span class="token plain">targetIndex</span><span class="token punctuation" style="color:#383a42">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:#990096">await</span><span class="token plain"> wallet</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">findUnusedIndices</span><span class="token punctuation" style="color:#383a42">(</span><span class="token number" style="color:#B35C00;font-weight:normal">1</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#383a42">[</span><span class="token punctuation" style="color:#383a42">]</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token keyword" style="color:#990096">const</span><span class="token plain"> target </span><span class="token operator">=</span><span class="token plain"> wallet</span><span class="token punctuation" style="color:#383a42">.</span><span class="token plain">puzzleCache</span><span class="token punctuation" style="color:#383a42">[</span><span class="token plain">targetIndex</span><span class="token punctuation" style="color:#383a42">]</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token keyword" style="color:#990096">const</span><span class="token plain"> conditions </span><span class="token operator">=</span><span class="token plain"> Program</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">fromSource</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">        </span><span class="token template-string template-punctuation string" style="color:#B35C00;font-weight:normal">`</span><span class="token template-string string" style="color:#B35C00;font-weight:normal">((51 </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#383a42">${</span><span class="token template-string interpolation function" style="color:#0045DB">formatHex</span><span class="token template-string interpolation punctuation" style="color:#383a42">(</span><span class="token template-string interpolation">target</span><span class="token template-string interpolation punctuation" style="color:#383a42">.</span><span class="token template-string interpolation function" style="color:#0045DB">hashHex</span><span class="token template-string interpolation punctuation" style="color:#383a42">(</span><span class="token template-string interpolation punctuation" style="color:#383a42">)</span><span class="token template-string interpolation punctuation" style="color:#383a42">)</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#383a42">}</span><span class="token template-string string" style="color:#B35C00;font-weight:normal"> </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#383a42">${</span><span class="token template-string interpolation">record</span><span class="token template-string interpolation punctuation" style="color:#383a42">.</span><span class="token template-string interpolation">coin</span><span class="token template-string interpolation punctuation" style="color:#383a42">.</span><span class="token template-string interpolation">amount </span><span class="token template-string interpolation operator">-</span><span class="token template-string interpolation"> fee</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#383a42">}</span><span class="token template-string string" style="color:#B35C00;font-weight:normal">))</span><span class="token template-string template-punctuation string" style="color:#B35C00;font-weight:normal">`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token keyword" style="color:#990096">const</span><span class="token plain"> solution </span><span class="token operator">=</span><span class="token plain"> Program</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">fromSource</span><span class="token punctuation" style="color:#383a42">(</span><span class="token template-string template-punctuation string" style="color:#B35C00;font-weight:normal">`</span><span class="token template-string string" style="color:#B35C00;font-weight:normal">(</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#383a42">${</span><span class="token template-string interpolation">conditions</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#383a42">}</span><span class="token template-string string" style="color:#B35C00;font-weight:normal">)</span><span class="token template-string template-punctuation string" style="color:#B35C00;font-weight:normal">`</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">serializeHex</span><span class="token punctuation" style="color:#383a42">(</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token keyword" style="color:#990096">const</span><span class="token plain"> signature </span><span class="token operator">=</span><span class="token plain"> AugSchemeMPL</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">sign</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">        privateKey</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">        </span><span class="token function" style="color:#0045DB">concatBytes</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">conditions</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">hash</span><span class="token punctuation" style="color:#383a42">(</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"> </span><span class="token function" style="color:#0045DB">toCoinId</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">record</span><span class="token punctuation" style="color:#383a42">.</span><span class="token plain">coin</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"> genesis</span><span class="token punctuation" style="color:#383a42">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">toHex</span><span class="token punctuation" style="color:#383a42">(</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token keyword" style="color:#990096">const</span><span class="token plain"> spendBundle</span><span class="token operator">:</span><span class="token plain"> SpendBundle </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#383a42">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">        coin_spends</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#383a42">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">            </span><span class="token punctuation" style="color:#383a42">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">                coin</span><span class="token operator">:</span><span class="token plain"> record</span><span class="token punctuation" style="color:#383a42">.</span><span class="token plain">coin</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">                puzzle_reveal</span><span class="token operator">:</span><span class="token plain"> curried</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">serializeHex</span><span class="token punctuation" style="color:#383a42">(</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">                solution</span><span class="token operator">:</span><span class="token plain"> solution</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">            </span><span class="token punctuation" style="color:#383a42">}</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">        </span><span class="token punctuation" style="color:#383a42">]</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">        aggregated_signature</span><span class="token operator">:</span><span class="token plain"> signature</span><span class="token punctuation" style="color:#383a42">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token punctuation" style="color:#383a42">}</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token builtin" style="color:#127EAF">console</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">log</span><span class="token punctuation" style="color:#383a42">(</span><span class="token keyword" style="color:#990096">await</span><span class="token plain"> node</span><span class="token punctuation" style="color:#383a42">.</span><span class="token function" style="color:#0045DB">pushTx</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">spendBundle</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token punctuation" style="color:#383a42">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain"></span><span class="token function" style="color:#0045DB">spend</span><span class="token punctuation" style="color:#383a42">(</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-next">What Next<a href="#what-next" class="hash-link" aria-label="Direct link to What Next" title="Direct link to What Next">​</a></h2><p>You have now put together what you have learned to build an actual program that can create and spend coins on the Chia blockchain using the puzzle written in an earlier lesson. This set of tools, in any language that supports them, is a powerful way to build decentralized applications.</p><p>Here are a few examples of how you can expand on this:</p><ul><li>Modify the puzzle and code to require two sets of signatures (either two mnemonics or by using two child keys from the key store).</li><li>Modify the puzzle to add an additional condition requiring the spend to happen at least 10 blocks after the coin is created.</li><li>Modify the puzzle and code to require at least 2 of 3 signatures from the corresponding keys curried in (referred to as an M of N).</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Chia-Network/chia-docs/blob/main/docs/guides/crash-course/chialisp-and-typescript.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#rpc-explained" class="table-of-contents__link toc-highlight">RPC Explained</a></li><li><a href="#language-choice" class="table-of-contents__link toc-highlight">Language Choice</a></li><li><a href="#quick-start" class="table-of-contents__link toc-highlight">Quick Start</a><ul><li><a href="#full-node-rpc" class="table-of-contents__link toc-highlight">Full Node RPC</a></li><li><a href="#bls-signatures" class="table-of-contents__link toc-highlight">BLS Signatures</a></li></ul></li><li><a href="#initializing-a-project" class="table-of-contents__link toc-highlight">Initializing a Project</a><ul><li><a href="#other-dependencies" class="table-of-contents__link toc-highlight">Other Dependencies</a></li></ul></li><li><a href="#mnemonic-phrase" class="table-of-contents__link toc-highlight">Mnemonic Phrase</a><ul><li><a href="#dot-env" class="table-of-contents__link toc-highlight">Dot Env</a></li><li><a href="#imports" class="table-of-contents__link toc-highlight">Imports</a></li></ul></li><li><a href="#loading-chialisp-files" class="table-of-contents__link toc-highlight">Loading Chialisp Files</a></li><li><a href="#currying-the-key" class="table-of-contents__link toc-highlight">Currying the Key</a></li><li><a href="#setting-up-the-wallet" class="table-of-contents__link toc-highlight">Setting up the Wallet</a></li><li><a href="#creating-the-coin" class="table-of-contents__link toc-highlight">Creating the Coin</a></li><li><a href="#retrieve-the-coin-record" class="table-of-contents__link toc-highlight">Retrieve the Coin Record</a></li><li><a href="#crafting-a-solution" class="table-of-contents__link toc-highlight">Crafting a Solution</a></li><li><a href="#calculate-the-signature" class="table-of-contents__link toc-highlight">Calculate the Signature</a></li><li><a href="#spend-the-coin" class="table-of-contents__link toc-highlight">Spend the Coin</a></li><li><a href="#what-next" class="table-of-contents__link toc-highlight">What Next</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Approach</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://chia.net/approach" target="_blank" rel="noopener noreferrer" class="footer__link-item">White Paper</a></li></ul></div><div class="col footer__col"><div class="footer__title">Technology</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://chia.net/greenpaper" target="_blank" rel="noopener noreferrer" class="footer__link-item">Green Paper</a></li><li class="footer__item"><a href="https://docs.chia.net/consensus-intro" target="_blank" rel="noopener noreferrer" class="footer__link-item">Consensus 1.1</a></li></ul></div><div class="col footer__col"><div class="footer__title">Developers</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://chia.net/grants" target="_blank" rel="noopener noreferrer" class="footer__link-item">Grants</a></li><li class="footer__item"><a href="https://chialisp.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Chialisp</a></li></ul></div><div class="col footer__col"><div class="footer__title">Company</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://chia.net/about" target="_blank" rel="noopener noreferrer" class="footer__link-item">About</a></li><li class="footer__item"><a href="https://chia.net/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://chia.net/contact" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2023 Chia Network Inc., Licensed under the <a href="https://github.com/Chia-Network/chia-docs/blob/main/LICENSE" target="_blank">Apache License, Version 2.0</a> | <a href="https://chia.net/terms">Terms</a></div></div></div></footer></div>
<script src="/assets/js/runtime~main.17b782f4.js"></script>
<script src="/assets/js/main.dec40346.js"></script>
</body>
</html>
<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-coin-set-model/conditions" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.3">
<title data-rh="true">Conditions | Chia Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.chia.net/zh-Hans/img/og-chia.png"><meta data-rh="true" name="twitter:image" content="https://docs.chia.net/zh-Hans/img/og-chia.png"><meta data-rh="true" property="og:url" content="https://docs.chia.net/zh-Hans/conditions/"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Conditions | Chia Documentation"><meta data-rh="true" name="description" content="When a coin is spent, its puzzle is executed on the Chialisp Virtual Machine (CLVM). If the program does not fail, it returns a list of conditions. These conditions determine what the outcome of the spend is, and whether or not the spend is valid."><meta data-rh="true" property="og:description" content="When a coin is spent, its puzzle is executed on the Chialisp Virtual Machine (CLVM). If the program does not fail, it returns a list of conditions. These conditions determine what the outcome of the spend is, and whether or not the spend is valid."><link data-rh="true" rel="icon" href="/zh-Hans/svg/chia-leaf-green.svg"><link data-rh="true" rel="canonical" href="https://docs.chia.net/zh-Hans/conditions/"><link data-rh="true" rel="alternate" href="https://docs.chia.net/conditions/" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.chia.net/zh-Hans/conditions/" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://docs.chia.net/conditions/" hreflang="x-default"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous">
<script src="/js/matomo.js" async defer="defer"></script><link rel="stylesheet" href="/zh-Hans/assets/css/styles.1973a624.css">
<script src="/zh-Hans/assets/js/runtime~main.93200178.js" defer="defer"></script>
<script src="/zh-Hans/assets/js/main.f80d6baf.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zh-Hans/"><div class="navbar__logo"><img src="/zh-Hans/svg/chia-leaf-green.svg" alt="Chia Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/zh-Hans/svg/chia-leaf-green.svg" alt="Chia Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Chia Docs</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/zh-Hans/docs-home/">Docs</a><a class="navbar__item navbar__link" href="/zh-Hans/dev-guides-home/">Dev Guides</a><a class="navbar__item navbar__link" href="/zh-Hans/academy-home/">Chia Academy</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>简体中文</a><ul class="dropdown__menu"><li><a href="/conditions/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/zh-Hans/conditions/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh-Hans">简体中文</a></li></ul></div><a href="https://chialisp.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Chialisp<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://chia.net" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Chia Network<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/Chia-Network/chia-blockchain" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="搜索" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/zh-Hans/docs-home/">Getting Started</a><button aria-label="展开侧边栏分类 &#x27;Getting Started&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/zh-Hans/installation/">Advanced User Docs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/zh-Hans/troubleshooting/check-if-things-are-working/">Troubleshooting</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/zh-Hans/contribution/using-github/">Contributing</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/zh-Hans/coin-set-intro/">Learn More</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/zh-Hans/coin-set-intro/">Coin Set Model</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-Hans/coin-set-intro/">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-Hans/coin-set-costs/">Costs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/zh-Hans/conditions/">Conditions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-Hans/spend-bundles/">Spend Bundles</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-Hans/addresses/">Addresses</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-Hans/coin-set-security/">Security</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-Hans/coin-set-vs-utxo/">Coin Set vs UTXO Model</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-Hans/coin-set-vs-account/">Coin Set vs Account Model</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-Hans/clvm-vs-evm/">CLVM vs EVM</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/zh-Hans/architecture-overview/">Architecture</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/zh-Hans/consensus-intro/">Consensus</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/zh-Hans/key-architecture/">Keys</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/zh-Hans/chia-protocol/">Protocol</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/zh-Hans/green-paper-abstract/">Green Paper</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/zh-Hans/cryptocurrency-intro/">Resources</a></div></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/zh-Hans/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Learn More</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Coin Set Model</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Conditions</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>Conditions</h1></header><p>When a coin is spent, its puzzle is executed on the Chialisp Virtual Machine (CLVM). If the program does not fail, it returns a list of conditions. These conditions determine what the outcome of the spend is, and whether or not the spend is valid.</p>
<p>Puzzles have no access to the outside world, or even to blockchain parameters like block height. Therefore, to interact with the outside environment, they return a list of conditions, each of which must be valid in order for the spend itself to be valid.</p>
<p>There are two kinds of conditions. Some require something to be true (such as time passing) in order for the spend to be valid. And others cause something to happen if the spend is valid (such as the creation of new coins).</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="list">Condition List<a href="#list" class="hash-link" aria-label="Condition List的直接链接" title="Condition List的直接链接">​</a></h2>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>注意</div><div class="admonitionContent_BuS1"><p>Be vigilant when using <code>ASSERT_MY_COIN_ID</code> as a shortcut for validating the parent coin ID, puzzle hash, and amount. If they are passed into the solution separately, then validated all at once by hashing them together, it is possible to shift the bytes to the left or right and manipulate the values. If they are passed into the solution separately, then validated all at once by hashing them together, it is possible to shift the bytes to the left or right and manipulate the values.</p><p>You are recommended to use the <code>coinid</code> operator when computing coin IDs. This operator was introduced with <a href="https://github.com/Chia-Network/chips/blob/main/CHIPs/chip-0011.md" target="_blank" rel="noopener noreferrer">CHIP-11</a>. It verifies that hashes are indeed 32 bytes in length, at no extra CLVM cost versus verifying the parent ID, puzzle hash, and amount individually. The <code>coinid</code> operator, as well as the other CHIP-11 operators, are described on the Chialisp <a href="https://chialisp.com/operators#chip-0011-operators" target="_blank" rel="noopener noreferrer">operators page</a>. This operator was introduced with <a href="https://github.com/Chia-Network/chips/blob/main/CHIPs/chip-0011.md" target="_blank" rel="noopener noreferrer">CHIP-11</a>. It verifies that hashes are indeed 32 bytes in length, at no extra CLVM cost versus verifying the parent ID, puzzle hash, and amount individually. The <code>coinid</code> operator, as well as the other CHIP-11 operators, are described on the Chialisp <a href="https://chialisp.com/operators#chip-0011-operators" target="_blank" rel="noopener noreferrer">operators page</a>.</p></div></div>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>注意</div><div class="admonitionContent_BuS1"><p><code>ASSERT_COIN_ANNOUNCEMENT</code> and <code>ASSERT_PUZZLE_ANNOUNCEMENT</code> should typically only be used in a puzzle&#x27;s <em>solution</em>, and not in the puzzle itself. This is especially important when using <code>ASSERT_COIN_ANNOUNCEMENT</code>, because it refers to a specific coin. This is especially important when using <code>ASSERT_COIN_ANNOUNCEMENT</code>, because it refers to a specific coin.</p><p>To illustrate the danger, let&#x27;s say <code>coin A</code> uses this condition in its puzzle, and it asserts a coin announcement from <code>coin B</code>. In this case, <code>coin A</code> requires <code>coin B</code> to be spent in the same block as it is spent. If <code>coin B</code> is spent before <code>coin A</code>, then <code>coin A</code> can <em>never</em> be spent.</p><p>However, if this condition is instead used in the <em>solution</em> for <code>coin A</code>, and <code>coin B</code> has already been spent, then <code>coin A</code> can still be spent later, albeit with a different solution.</p><p>It is somewhat less dangerous to use <code>ASSERT_PUZZLE_ANNOUNCEMENT</code> in a coin&#x27;s puzzle because it only relies on a coin with a specific puzzle, and many such coins might exist. However, it is still best practice to only use this condition in a coin&#x27;s solution.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="remark">1 <code>REMARK</code><a href="#remark" class="hash-link" aria-label="remark的直接链接" title="remark的直接链接">​</a></h3>
<p>Format: <code>(1)</code></p>
<p>This condition is always considered valid by the mempool.</p>
<p>This condition has no parameters.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="agg-sig-parent">43 <code>AGG_SIG_PARENT</code><a href="#agg-sig-parent" class="hash-link" aria-label="agg-sig-parent的直接链接" title="agg-sig-parent的直接链接">​</a></h3>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>信息</div><div class="admonitionContent_BuS1"><p>This condition is part of <a href="https://github.com/Chia-Network/chips/blob/main/CHIPs/chip-0011.md" target="_blank" rel="noopener noreferrer">CHIP-0011</a>, and will be available at block height 5,496,000.</p></div></div>
<p>:::</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_BuS1"><p>This condition adds an additional <a href="/zh-Hans/coin-set-costs/">CLVM cost</a> of 1,200,000.</p></div></div>
<p>:::</p>
<p>Format: <code>(43 public_key message)</code></p>
<p>Verifies a signature for a given message which is concatenated with the following values:</p>
<ul>
<li>The parent coin id of the coin being spent.</li>
<li>The domain string, <code>sha256(genesis_id + 43)</code>.</li>
</ul>
<p>The following parameters are expected:</p>
<table><thead><tr><th>Name</th><th>Type</th></tr></thead><tbody><tr><td><code>public_key</code></td><td>G1Element</td></tr><tr><td><code>message</code></td><td>Bytes</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="agg-sig-puzzle">44 <code>AGG_SIG_PUZZLE</code><a href="#agg-sig-puzzle" class="hash-link" aria-label="agg-sig-puzzle的直接链接" title="agg-sig-puzzle的直接链接">​</a></h3>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>信息</div><div class="admonitionContent_BuS1"><p>This condition is part of <a href="https://github.com/Chia-Network/chips/blob/main/CHIPs/chip-0011.md" target="_blank" rel="noopener noreferrer">CHIP-0011</a>, and will be available at block height 5,496,000.</p></div></div>
<p>:::</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_BuS1"><p>This condition adds an additional <a href="/zh-Hans/coin-set-costs/">CLVM cost</a> of 1,200,000.</p></div></div>
<p>:::</p>
<p>Format: <code>(44 public_key message)</code></p>
<p>Verifies a signature for a given message which is concatenated with the following values:</p>
<ul>
<li>The puzzle hash of the coin being spent.</li>
<li>The domain string, <code>sha256(genesis_id + 44)</code>.</li>
</ul>
<p>The following parameters are expected:</p>
<table><thead><tr><th>Name</th><th>Type</th></tr></thead><tbody><tr><td><code>public_key</code></td><td>G1Element</td></tr><tr><td><code>message</code></td><td>Bytes</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="agg-sig-amount">45 <code>AGG_SIG_AMOUNT</code><a href="#agg-sig-amount" class="hash-link" aria-label="agg-sig-amount的直接链接" title="agg-sig-amount的直接链接">​</a></h3>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>信息</div><div class="admonitionContent_BuS1"><p>This condition is part of <a href="https://github.com/Chia-Network/chips/blob/main/CHIPs/chip-0011.md" target="_blank" rel="noopener noreferrer">CHIP-0011</a>, and will be available at block height 5,496,000.</p></div></div>
<p>:::</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_BuS1"><p>This condition adds an additional <a href="/zh-Hans/coin-set-costs/">CLVM cost</a> of 1,200,000.</p></div></div>
<p>:::</p>
<p>Format: <code>(45 public_key message)</code></p>
<p>Verifies a signature for a given message which is concatenated with the following values:</p>
<ul>
<li>The amount of the coin being spent.</li>
<li>The domain string, <code>sha256(genesis_id + 45)</code>.</li>
</ul>
<p>The following parameters are expected:</p>
<table><thead><tr><th>Name</th><th>Type</th></tr></thead><tbody><tr><td><code>public_key</code></td><td>G1Element</td></tr><tr><td><code>message</code></td><td>Bytes</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="agg-sig-puzzle-amount">46 <code>AGG_SIG_PUZZLE_AMOUNT</code><a href="#agg-sig-puzzle-amount" class="hash-link" aria-label="agg-sig-puzzle-amount的直接链接" title="agg-sig-puzzle-amount的直接链接">​</a></h3>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>信息</div><div class="admonitionContent_BuS1"><p>This condition is part of <a href="https://github.com/Chia-Network/chips/blob/main/CHIPs/chip-0011.md" target="_blank" rel="noopener noreferrer">CHIP-0011</a>, and will be available at block height 5,496,000.</p></div></div>
<p>:::</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_BuS1"><p>This condition adds an additional <a href="/zh-Hans/coin-set-costs/">CLVM cost</a> of 1,200,000.</p></div></div>
<p>:::</p>
<p>Format: <code>(46 public_key message)</code></p>
<p>Verifies a signature for a given message which is concatenated with the following values:</p>
<ul>
<li>The puzzle hash of the coin being spent.</li>
<li>The amount of the coin being spent.</li>
<li>The domain string, <code>sha256(genesis_id + 46)</code>.</li>
</ul>
<p>The following parameters are expected:</p>
<table><thead><tr><th>Name</th><th>Type</th></tr></thead><tbody><tr><td><code>public_key</code></td><td>G1Element</td></tr><tr><td><code>message</code></td><td>Bytes</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="agg-sig-parent-amount">47 <code>AGG_SIG_PARENT_AMOUNT</code><a href="#agg-sig-parent-amount" class="hash-link" aria-label="agg-sig-parent-amount的直接链接" title="agg-sig-parent-amount的直接链接">​</a></h3>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>信息</div><div class="admonitionContent_BuS1"><p>This condition is part of <a href="https://github.com/Chia-Network/chips/blob/main/CHIPs/chip-0011.md" target="_blank" rel="noopener noreferrer">CHIP-0011</a>, and will be available at block height 5,496,000.</p></div></div>
<p>:::</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_BuS1"><p>This condition adds an additional <a href="/zh-Hans/coin-set-costs/">CLVM cost</a> of 1,200,000.</p></div></div>
<p>:::</p>
<p>Format: <code>(47 public_key message)</code></p>
<p>Verifies a signature for a given message which is concatenated with the following values:</p>
<ul>
<li>The parent coin id of the coin being spent.</li>
<li>The amount of the coin being spent.</li>
<li>The domain string, <code>sha256(genesis_id + 47)</code>.</li>
</ul>
<p>The following parameters are expected:</p>
<table><thead><tr><th>Name</th><th>Type</th></tr></thead><tbody><tr><td><code>public_key</code></td><td>G1Element</td></tr><tr><td><code>message</code></td><td>Bytes</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="agg-sig-parent-puzzle">48 <code>AGG_SIG_PARENT_PUZZLE</code><a href="#agg-sig-parent-puzzle" class="hash-link" aria-label="agg-sig-parent-puzzle的直接链接" title="agg-sig-parent-puzzle的直接链接">​</a></h3>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>信息</div><div class="admonitionContent_BuS1"><p>This condition is part of <a href="https://github.com/Chia-Network/chips/blob/main/CHIPs/chip-0011.md" target="_blank" rel="noopener noreferrer">CHIP-0011</a>, and will be available at block height 5,496,000.</p></div></div>
<p>:::</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_BuS1"><p>This condition adds an additional <a href="/zh-Hans/coin-set-costs/">CLVM cost</a> of 1,200,000.</p></div></div>
<p>:::</p>
<p>Format: <code>(48 public_key message)</code></p>
<p>Verifies a signature for a given message which is concatenated with the following values:</p>
<ul>
<li>The parent coin id of the coin being spent.</li>
<li>The puzzle hash of the coin being spent.</li>
<li>The domain string, <code>sha256(genesis_id + 48)</code>.</li>
</ul>
<p>The following parameters are expected:</p>
<table><thead><tr><th>Name</th><th>Type</th></tr></thead><tbody><tr><td><code>public_key</code></td><td>G1Element</td></tr><tr><td><code>message</code></td><td>Bytes</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="agg-sig-unsafe">49 <code>AGG_SIG_UNSAFE</code><a href="#agg-sig-unsafe" class="hash-link" aria-label="agg-sig-unsafe的直接链接" title="agg-sig-unsafe的直接链接">​</a></h3>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_BuS1"><p>This condition adds an additional <a href="/zh-Hans/coin-set-costs/">CLVM cost</a> of 1,200,000.</p></div></div>
<p>:::</p>
<p>Format: <code>(49 public_key message)</code></p>
<p>Verifies a signature for a given message. Verifies a signature for a given message. For <a href="https://github.com/Chia-Network/post-mortem/blob/main/2023-05/2023-05-08-AGG_SIG_UNSAFE-can-mimic-AGG_SIG_ME-condition.md" target="_blank" rel="noopener noreferrer">security reasons</a>, domain strings are not permitted at the end of <code>AGG_SIG_UNSAFE</code> messages.</p>
<p>The following parameters are expected:</p>
<table><thead><tr><th>Name</th><th>Type</th></tr></thead><tbody><tr><td><code>public_key</code></td><td>G1Element</td></tr><tr><td><code>message</code></td><td>Bytes</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="agg-sig-me">50 <code>AGG_SIG_ME</code><a href="#agg-sig-me" class="hash-link" aria-label="agg-sig-me的直接链接" title="agg-sig-me的直接链接">​</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_BuS1"><p>In most cases, <code>AGG_SIG_ME</code> is the recommended condition for requiring signatures. Signatures created for a specific coin spend will only be valid for that exact coin, which prevents an attacker from reusing the signature for other spends. ::: Signatures created for a specific coin spend will only be valid for that exact coin, which prevents an attacker from reusing the signature for other spends.</p></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_BuS1"><p>This condition adds an additional <a href="/zh-Hans/coin-set-costs/">CLVM cost</a> of 1,200,000.</p></div></div>
<p>:::</p>
<p>Format: <code>(50 public_key message)</code></p>
<p>Verifies a signature for a given message which is concatenated with the following values:</p>
<ul>
<li>The id of the coin being spent.</li>
<li>The domain string, <code>genesis_id</code>.</li>
</ul>
<p>The following parameters are expected:</p>
<table><thead><tr><th>Name</th><th>Type</th></tr></thead><tbody><tr><td><code>public_key</code></td><td>G1Element</td></tr><tr><td><code>message</code></td><td>Bytes</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-coin">51 <code>CREATE_COIN</code><a href="#create-coin" class="hash-link" aria-label="create-coin的直接链接" title="create-coin的直接链接">​</a></h3>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_BuS1"><p>This condition adds an additional <a href="/zh-Hans/coin-set-costs/">CLVM cost</a> of 1,800,000.</p></div></div>
<p>:::</p>
<p>Format: <code>(51 puzzle_hash amount (...memos)?)</code></p>
<p>Creates a new coin output with a given puzzle hash and amount. This coin is its parent. This coin is its parent.</p>
<p>For more information on the <code>memos</code> parameter, see the section on <a href="#memos">Memos and Hinting</a>.</p>
<p>The following parameters are expected:</p>
<table><thead><tr><th>Name</th><th>Type</th></tr></thead><tbody><tr><td><code>puzzle_hash</code></td><td>Bytes32</td></tr><tr><td><code>amount</code></td><td>Unsigned Int</td></tr><tr><td><code>memos</code> <em>(optional)</em></td><td>Bytes32 List</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="reserve-fee">52 <code>RESERVE_FEE</code><a href="#reserve-fee" class="hash-link" aria-label="reserve-fee的直接链接" title="reserve-fee的直接链接">​</a></h3>
<p>Format: <code>(52 amount)</code></p>
<p>Requires that the total amount remaining in the transaction after all outputs have been created is no less than the reserved fee amount.</p>
<p>The following parameters are expected:</p>
<table><thead><tr><th>Name</th><th>Type</th></tr></thead><tbody><tr><td><code>amount</code></td><td>Unsigned Int</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-coin-announcement">60 <code>CREATE_COIN_ANNOUNCEMENT</code><a href="#create-coin-announcement" class="hash-link" aria-label="create-coin-announcement的直接链接" title="create-coin-announcement的直接链接">​</a></h3>
<p>Format: <code>(60 message)</code></p>
<p>Creates an announcement of a given message, tied to this coin&#x27;s id. For more details, see the section on <a href="#announcements">Announcements</a>. For more details, see the section on <a href="#announcements">Announcements</a>.</p>
<p>The following parameters are expected:</p>
<table><thead><tr><th>Name</th><th>Type</th></tr></thead><tbody><tr><td><code>message</code></td><td>Bytes</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="assert-coin-announcement">61 <code>ASSERT_COIN_ANNOUNCEMENT</code><a href="#assert-coin-announcement" class="hash-link" aria-label="assert-coin-announcement的直接链接" title="assert-coin-announcement的直接链接">​</a></h3>
<p>Format: <code>(61 announcement_id)</code></p>
<p>Asserts an announcement with a given id, which is calculated as <code>sha256(coin_id + message)</code>. For more details, see the section on <a href="#announcements">Announcements</a>. For more details, see the section on <a href="#announcements">Announcements</a>.</p>
<p>The following parameters are expected:</p>
<table><thead><tr><th>Name</th><th>Type</th></tr></thead><tbody><tr><td><code>announcement_id</code></td><td>Bytes32</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-puzzle-announcement">62 <code>CREATE_PUZZLE_ANNOUNCEMENT</code><a href="#create-puzzle-announcement" class="hash-link" aria-label="create-puzzle-announcement的直接链接" title="create-puzzle-announcement的直接链接">​</a></h3>
<p>Format: <code>(62 message)</code></p>
<p>Creates an announcement of a given message, tied to this coin&#x27;s puzzle hash. For more details, see the section on <a href="#announcements">Announcements</a>. For more details, see the section on <a href="#announcements">Announcements</a>.</p>
<p>The following parameters are expected:</p>
<table><thead><tr><th>Name</th><th>Type</th></tr></thead><tbody><tr><td><code>message</code></td><td>Bytes</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="assert-puzzle-announcement">63 <code>ASSERT_PUZZLE_ANNOUNCEMENT</code><a href="#assert-puzzle-announcement" class="hash-link" aria-label="assert-puzzle-announcement的直接链接" title="assert-puzzle-announcement的直接链接">​</a></h3>
<p>Format: <code>(63 announcement_id)</code></p>
<p>Asserts an announcement with a given id, which is calculated as <code>sha256(puzzle_hash + message)</code>. For more details, see the section on <a href="#announcements">Announcements</a>. For more details, see the section on <a href="#announcements">Announcements</a>.</p>
<p>The following parameters are expected:</p>
<table><thead><tr><th>Name</th><th>Type</th></tr></thead><tbody><tr><td><code>announcement_id</code></td><td>Bytes32</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="assert-concurrent-spend">64 <code>ASSERT_CONCURRENT_SPEND</code><a href="#assert-concurrent-spend" class="hash-link" aria-label="assert-concurrent-spend的直接链接" title="assert-concurrent-spend的直接链接">​</a></h3>
<p>Format: <code>(64 coin_id)</code></p>
<p>Asserts that this coin is spent within the same block as the spend of a given coin.</p>
<p>The following parameters are expected:</p>
<table><thead><tr><th>Name</th><th>Type</th></tr></thead><tbody><tr><td><code>coin_id</code></td><td>Bytes32</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="assert-concurrent-puzzle">65 <code>ASSERT_CONCURRENT_PUZZLE</code><a href="#assert-concurrent-puzzle" class="hash-link" aria-label="assert-concurrent-puzzle的直接链接" title="assert-concurrent-puzzle的直接链接">​</a></h3>
<p>Format: <code>(65 puzzle_hash)</code></p>
<p>Asserts that this coin is in the same block as the spend of another coin with a given puzzle hash.</p>
<p>The following parameters are expected:</p>
<table><thead><tr><th>Name</th><th>Type</th></tr></thead><tbody><tr><td><code>puzzle_hash</code></td><td>Bytes32</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="assert-my-coin-id">70 <code>ASSERT_MY_COIN_ID</code><a href="#assert-my-coin-id" class="hash-link" aria-label="assert-my-coin-id的直接链接" title="assert-my-coin-id的直接链接">​</a></h3>
<p>Format: <code>(70 coin_id)</code></p>
<p>Asserts that id of this coin matches a given value.</p>
<p>The following parameters are expected:</p>
<table><thead><tr><th>Name</th><th>Type</th></tr></thead><tbody><tr><td><code>coin_id</code></td><td>Bytes32</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="assert-my-parent-id">71 <code>ASSERT_MY_PARENT_ID</code><a href="#assert-my-parent-id" class="hash-link" aria-label="assert-my-parent-id的直接链接" title="assert-my-parent-id的直接链接">​</a></h3>
<p>Format: <code>(71 parent_id)</code></p>
<p>Asserts that the parent id of this coin matches a given value.</p>
<p>The following parameters are expected:</p>
<table><thead><tr><th>Name</th><th>Type</th></tr></thead><tbody><tr><td><code>parent_id</code></td><td>Bytes32</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="assert-my-puzzle-hash">72 <code>ASSERT_MY_PUZZLE_HASH</code><a href="#assert-my-puzzle-hash" class="hash-link" aria-label="assert-my-puzzle-hash的直接链接" title="assert-my-puzzle-hash的直接链接">​</a></h3>
<p>Format: <code>(72 puzzle_hash)</code></p>
<p>Asserts that the puzzle hash of this coin matches a given value.</p>
<p>The following parameters are expected:</p>
<table><thead><tr><th>Name</th><th>Type</th></tr></thead><tbody><tr><td><code>puzzle_hash</code></td><td>Bytes32</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="assert-my-amount">73 <code>ASSERT_MY_AMOUNT</code><a href="#assert-my-amount" class="hash-link" aria-label="assert-my-amount的直接链接" title="assert-my-amount的直接链接">​</a></h3>
<p>Format: <code>(73 amount)</code></p>
<p>Asserts that the amount of this coin matches a given value.</p>
<p>The following parameters are expected:</p>
<table><thead><tr><th>Name</th><th>Type</th></tr></thead><tbody><tr><td><code>amount</code></td><td>Unsigned Int</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="assert-my-birth-seconds">74 <code>ASSERT_MY_BIRTH_SECONDS</code><a href="#assert-my-birth-seconds" class="hash-link" aria-label="assert-my-birth-seconds的直接链接" title="assert-my-birth-seconds的直接链接">​</a></h3>
<p>Format: <code>(74 seconds)</code></p>
<p>Asserts that this coin was created at a given timestamp.</p>
<p>The following parameters are expected:</p>
<table><thead><tr><th>Name</th><th>Type</th></tr></thead><tbody><tr><td><code>seconds</code></td><td>Unsigned Int</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="assert-my-birth-height">75 <code>ASSERT_MY_BIRTH_HEIGHT</code><a href="#assert-my-birth-height" class="hash-link" aria-label="assert-my-birth-height的直接链接" title="assert-my-birth-height的直接链接">​</a></h3>
<p>Format: <code>(75 block_height)</code></p>
<p>Asserts that this coin was created at a given block height.</p>
<p>The following parameters are expected:</p>
<table><thead><tr><th>Name</th><th>Type</th></tr></thead><tbody><tr><td><code>block_height</code></td><td>Unsigned Int</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="assert-ephemeral">76 <code>ASSERT_EPHEMERAL</code><a href="#assert-ephemeral" class="hash-link" aria-label="assert-ephemeral的直接链接" title="assert-ephemeral的直接链接">​</a></h3>
<p>Format: <code>(76)</code></p>
<p>Asserts that this coin was created within the current block.</p>
<p>This condition has no parameters.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="assert-seconds-relative">80 <code>ASSERT_SECONDS_RELATIVE</code><a href="#assert-seconds-relative" class="hash-link" aria-label="assert-seconds-relative的直接链接" title="assert-seconds-relative的直接链接">​</a></h3>
<p>Format: <code>(80 seconds_passed)</code></p>
<p>Asserts that the previous transaction block was created at least a given number of seconds after this coin was created.</p>
<p>The following parameters are expected:</p>
<table><thead><tr><th>Name</th><th>Type</th></tr></thead><tbody><tr><td><code>seconds_passed</code></td><td>Unsigned Int</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="assert-seconds-absolute">81 <code>ASSERT_SECONDS_ABSOLUTE</code><a href="#assert-seconds-absolute" class="hash-link" aria-label="assert-seconds-absolute的直接链接" title="assert-seconds-absolute的直接链接">​</a></h3>
<p>Format: <code>(81 seconds)</code></p>
<p>Asserts that the previous transaction block was created at at least a given timestamp, in seconds.</p>
<p>The following parameters are expected:</p>
<table><thead><tr><th>Name</th><th>Type</th></tr></thead><tbody><tr><td><code>seconds</code></td><td>Unsigned Int</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="assert-height-relative">82 <code>ASSERT_HEIGHT_RELATIVE</code><a href="#assert-height-relative" class="hash-link" aria-label="assert-height-relative的直接链接" title="assert-height-relative的直接链接">​</a></h3>
<p>Format: <code>(82 block_height_passed)</code></p>
<p>Asserts that the previous transaction block was created at least a given number of blocks after this coin was created.</p>
<p>The following parameters are expected:</p>
<table><thead><tr><th>Name</th><th>Type</th></tr></thead><tbody><tr><td><code>block_height_passed</code></td><td>Unsigned Int</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="assert-height-absolute">83 <code>ASSERT_HEIGHT_ABSOLUTE</code><a href="#assert-height-absolute" class="hash-link" aria-label="assert-height-absolute的直接链接" title="assert-height-absolute的直接链接">​</a></h3>
<p>Format: <code>(83 block_height)</code></p>
<p>Asserts that the previous transaction block was created at at least a given height.</p>
<p>The following parameters are expected:</p>
<table><thead><tr><th>Name</th><th>Type</th></tr></thead><tbody><tr><td><code>block_height</code></td><td>Unsigned Int</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="assert-before-seconds-relative">84 <code>ASSERT_BEFORE_SECONDS_RELATIVE</code><a href="#assert-before-seconds-relative" class="hash-link" aria-label="assert-before-seconds-relative的直接链接" title="assert-before-seconds-relative的直接链接">​</a></h3>
<p>Format: <code>(84 seconds_passed)</code></p>
<p>Asserts that the previous transaction block was created before a given number of seconds after this coin was created.</p>
<p>The following parameters are expected:</p>
<table><thead><tr><th>Name</th><th>Type</th></tr></thead><tbody><tr><td><code>seconds_passed</code></td><td>Unsigned Int</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="assert-before-seconds-absolute">85 <code>ASSERT_BEFORE_SECONDS_ABSOLUTE</code><a href="#assert-before-seconds-absolute" class="hash-link" aria-label="assert-before-seconds-absolute的直接链接" title="assert-before-seconds-absolute的直接链接">​</a></h3>
<p>Format: <code>(85 seconds)</code></p>
<p>Asserts that the previous transaction block was created before a given timestamp, in seconds.</p>
<p>The following parameters are expected:</p>
<table><thead><tr><th>Name</th><th>Type</th></tr></thead><tbody><tr><td><code>seconds</code></td><td>Unsigned Int</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="assert-before-height-relative">86 <code>ASSERT_BEFORE_HEIGHT_RELATIVE</code><a href="#assert-before-height-relative" class="hash-link" aria-label="assert-before-height-relative的直接链接" title="assert-before-height-relative的直接链接">​</a></h3>
<p>Format: <code>(86 block_height_passed)</code></p>
<p>Asserts that the previous transaction block was created before a given number of blocks after this coin was created.</p>
<p>The following parameters are expected:</p>
<table><thead><tr><th>Name</th><th>Type</th></tr></thead><tbody><tr><td><code>block_height_passed</code></td><td>Unsigned Int</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="assert-before-height-absolute">87 <code>ASSERT_BEFORE_HEIGHT_ABSOLUTE</code><a href="#assert-before-height-absolute" class="hash-link" aria-label="assert-before-height-absolute的直接链接" title="assert-before-height-absolute的直接链接">​</a></h3>
<p>Format: <code>(87 block_height)</code></p>
<p>Asserts that the previous transaction block was created before a given height.</p>
<p>The following parameters are expected:</p>
<table><thead><tr><th>Name</th><th>Type</th></tr></thead><tbody><tr><td><code>block_height</code></td><td>Unsigned Int</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="softfork">90 <code>SOFTFORK</code><a href="#softfork" class="hash-link" aria-label="softfork的直接链接" title="softfork的直接链接">​</a></h3>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>信息</div><div class="admonitionContent_BuS1"><p>This condition is part of <a href="https://github.com/Chia-Network/chips/blob/main/CHIPs/chip-0011.md" target="_blank" rel="noopener noreferrer">CHIP-0011</a>, and will be available at block height 5,496,000.</p></div></div>
<p>:::</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_BuS1"><p>This condition adds an additional <a href="/zh-Hans/coin-set-costs/">CLVM cost</a> equal to whatever the value of the first argument is.</p></div></div>
<p>:::</p>
<p>Format: <code>(90 cost ...args)</code></p>
<p>Allows future conditions with non-zero CLVM costs to be added as soft forks. This functionality was previously only possible as a hard fork. This functionality was previously only possible as a hard fork.</p>
<p>The cost of the condition is specified in ten-thousands, and further arguments are not specified (the soft-forked condition defines these). The cost of the condition is specified in ten-thousands, and further arguments are not specified (the soft-forked condition defines these). The reason to scale the cost by 10,000 is to make the argument smaller. For example, a cost of 100 in this condition would equate to an actual cost of 1 million (1,000,000). The cost argument is two bytes, with a maximum size of 65,535 (an actual cost of 655,350,000). For example, a cost of 100 in this condition would equate to an actual cost of 1 million (1,000,000). The cost argument is two bytes, with a maximum size of 65,535 (an actual cost of 655,350,000).</p>
<p>The following parameters are expected:</p>
<table><thead><tr><th>Name</th><th>Type</th></tr></thead><tbody><tr><td><code>cost</code></td><td>Unsigned Int</td></tr><tr><td><code>...args</code></td><td>Any</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="memos">Memos and Hinting<a href="#memos" class="hash-link" aria-label="Memos and Hinting的直接链接" title="Memos and Hinting的直接链接">​</a></h2>
<p>When a coin uses one or more outer puzzles that change their puzzle hash, it&#x27;s challenging for wallets to know which coins they have the ability to spend. When a coin uses one or more outer puzzles that change their puzzle hash, it&#x27;s challenging for wallets to know which coins they have the ability to spend. The memos field allows you to hint the inner puzzle hash of created coins, which consequently lets the wallet know that the coin belongs to it. Coins can be looked up by the inner puzzle hash rather than the outer puzzle hash. Coins can be looked up by the inner puzzle hash rather than the outer puzzle hash.</p>
<p>The <code>CREATE_COIN</code> condition is defined as a list containing the opcode <code>51</code> and the following arguments:</p>
<div class="language-chialisp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-chialisp codeBlock_bY9V thin-scrollbar" style="color:#383a42;background-color:#fafafa;font-weight:bold"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">; The third parameter is optional.</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">(51 puzzle_hash amount (...memos))</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The <code>memos</code> parameter is an optional list, which must be null terminated.</p>
<p>If <code>memos</code> is present, and the first memo is exactly 32 bytes long, it&#x27;s used as the hint and the rest of the list are memos. Otherwise, values in the entire list are memos. Otherwise, values in the entire list are memos.</p>
<p>As an example, the following inner solution for the <a href="https://chialisp.com/standard-transactions" target="_blank" rel="noopener noreferrer">standard transaction</a> would create an unhinted coin:</p>
<div class="language-chialisp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-chialisp codeBlock_bY9V thin-scrollbar" style="color:#383a42;background-color:#fafafa;font-weight:bold"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">(() (q . (() (q . ((51 target_puzzle_hash amount))) ())</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The following solution would instead create a coin with the hint matching the inner puzzle hash:</p>
<div class="language-chialisp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-chialisp codeBlock_bY9V thin-scrollbar" style="color:#383a42;background-color:#fafafa;font-weight:bold"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">(() (q . (() (q . ((51 target_puzzle_hash amount (target_puzzle_hash)))) ())</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This <code>CREATE_COIN</code> condition creates the same coin as before, but now it specifies the hint with which the receiving wallet can look up to find this coin.</p>
<p>Hints are only necessary for outer puzzles, of which the inner puzzle hash matches the hint. Hints are only necessary for outer puzzles, of which the inner puzzle hash matches the hint. For example, coins using the standard transaction itself with no outer puzzle do not need a hint.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="announcements">Announcements<a href="#announcements" class="hash-link" aria-label="Announcements的直接链接" title="Announcements的直接链接">​</a></h2>
<p>Announcements are ephemeral, meaning that they don&#x27;t last forever. They can only be asserted within the block they are created. Their purpose is to ensure multiple coins are spent together, either for fees, verification, or as a security measure.</p>
<p>For coin announcements, the id is the <code>coin_id</code> and <code>message</code> sha256 hashed together. For coin announcements, the id is the <code>coin_id</code> and <code>message</code> sha256 hashed together. Likewise, for puzzle announcements, it&#x27;s the <code>puzzle_hash</code> and <code>message</code> sha256 hashed together.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/Chia-Network/chia-docs/blob/main/docs/coin-set-model/conditions.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/zh-Hans/coin-set-costs/"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Costs</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/zh-Hans/spend-bundles/"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">Spend Bundles</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#list" class="table-of-contents__link toc-highlight">Condition List</a><ul><li><a href="#remark" class="table-of-contents__link toc-highlight">1 <code>REMARK</code></a></li><li><a href="#agg-sig-parent" class="table-of-contents__link toc-highlight">43 <code>AGG_SIG_PARENT</code></a></li><li><a href="#agg-sig-puzzle" class="table-of-contents__link toc-highlight">44 <code>AGG_SIG_PUZZLE</code></a></li><li><a href="#agg-sig-amount" class="table-of-contents__link toc-highlight">45 <code>AGG_SIG_AMOUNT</code></a></li><li><a href="#agg-sig-puzzle-amount" class="table-of-contents__link toc-highlight">46 <code>AGG_SIG_PUZZLE_AMOUNT</code></a></li><li><a href="#agg-sig-parent-amount" class="table-of-contents__link toc-highlight">47 <code>AGG_SIG_PARENT_AMOUNT</code></a></li><li><a href="#agg-sig-parent-puzzle" class="table-of-contents__link toc-highlight">48 <code>AGG_SIG_PARENT_PUZZLE</code></a></li><li><a href="#agg-sig-unsafe" class="table-of-contents__link toc-highlight">49 <code>AGG_SIG_UNSAFE</code></a></li><li><a href="#agg-sig-me" class="table-of-contents__link toc-highlight">50 <code>AGG_SIG_ME</code></a></li><li><a href="#create-coin" class="table-of-contents__link toc-highlight">51 <code>CREATE_COIN</code></a></li><li><a href="#reserve-fee" class="table-of-contents__link toc-highlight">52 <code>RESERVE_FEE</code></a></li><li><a href="#create-coin-announcement" class="table-of-contents__link toc-highlight">60 <code>CREATE_COIN_ANNOUNCEMENT</code></a></li><li><a href="#assert-coin-announcement" class="table-of-contents__link toc-highlight">61 <code>ASSERT_COIN_ANNOUNCEMENT</code></a></li><li><a href="#create-puzzle-announcement" class="table-of-contents__link toc-highlight">62 <code>CREATE_PUZZLE_ANNOUNCEMENT</code></a></li><li><a href="#assert-puzzle-announcement" class="table-of-contents__link toc-highlight">63 <code>ASSERT_PUZZLE_ANNOUNCEMENT</code></a></li><li><a href="#assert-concurrent-spend" class="table-of-contents__link toc-highlight">64 <code>ASSERT_CONCURRENT_SPEND</code></a></li><li><a href="#assert-concurrent-puzzle" class="table-of-contents__link toc-highlight">65 <code>ASSERT_CONCURRENT_PUZZLE</code></a></li><li><a href="#assert-my-coin-id" class="table-of-contents__link toc-highlight">70 <code>ASSERT_MY_COIN_ID</code></a></li><li><a href="#assert-my-parent-id" class="table-of-contents__link toc-highlight">71 <code>ASSERT_MY_PARENT_ID</code></a></li><li><a href="#assert-my-puzzle-hash" class="table-of-contents__link toc-highlight">72 <code>ASSERT_MY_PUZZLE_HASH</code></a></li><li><a href="#assert-my-amount" class="table-of-contents__link toc-highlight">73 <code>ASSERT_MY_AMOUNT</code></a></li><li><a href="#assert-my-birth-seconds" class="table-of-contents__link toc-highlight">74 <code>ASSERT_MY_BIRTH_SECONDS</code></a></li><li><a href="#assert-my-birth-height" class="table-of-contents__link toc-highlight">75 <code>ASSERT_MY_BIRTH_HEIGHT</code></a></li><li><a href="#assert-ephemeral" class="table-of-contents__link toc-highlight">76 <code>ASSERT_EPHEMERAL</code></a></li><li><a href="#assert-seconds-relative" class="table-of-contents__link toc-highlight">80 <code>ASSERT_SECONDS_RELATIVE</code></a></li><li><a href="#assert-seconds-absolute" class="table-of-contents__link toc-highlight">81 <code>ASSERT_SECONDS_ABSOLUTE</code></a></li><li><a href="#assert-height-relative" class="table-of-contents__link toc-highlight">82 <code>ASSERT_HEIGHT_RELATIVE</code></a></li><li><a href="#assert-height-absolute" class="table-of-contents__link toc-highlight">83 <code>ASSERT_HEIGHT_ABSOLUTE</code></a></li><li><a href="#assert-before-seconds-relative" class="table-of-contents__link toc-highlight">84 <code>ASSERT_BEFORE_SECONDS_RELATIVE</code></a></li><li><a href="#assert-before-seconds-absolute" class="table-of-contents__link toc-highlight">85 <code>ASSERT_BEFORE_SECONDS_ABSOLUTE</code></a></li><li><a href="#assert-before-height-relative" class="table-of-contents__link toc-highlight">86 <code>ASSERT_BEFORE_HEIGHT_RELATIVE</code></a></li><li><a href="#assert-before-height-absolute" class="table-of-contents__link toc-highlight">87 <code>ASSERT_BEFORE_HEIGHT_ABSOLUTE</code></a></li><li><a href="#softfork" class="table-of-contents__link toc-highlight">90 <code>SOFTFORK</code></a></li></ul></li><li><a href="#memos" class="table-of-contents__link toc-highlight">Memos and Hinting</a></li><li><a href="#announcements" class="table-of-contents__link toc-highlight">Announcements</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Approach</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://chia.net/approach" target="_blank" rel="noopener noreferrer" class="footer__link-item">White Paper</a></li></ul></div><div class="col footer__col"><div class="footer__title">Technology</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://chia.net/greenpaper" target="_blank" rel="noopener noreferrer" class="footer__link-item">Green Paper</a></li><li class="footer__item"><a href="https://docs.chia.net/consensus-intro" target="_blank" rel="noopener noreferrer" class="footer__link-item">Consensus 1.1</a></li></ul></div><div class="col footer__col"><div class="footer__title">Developers</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://chialisp.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Chialisp</a></li><li class="footer__item"><a href="https://docs.chia.net/academy-home/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Chia Academy</a></li><li class="footer__item"><a href="https://docs.chia.net/guides/crash-course/introduction" target="_blank" rel="noopener noreferrer" class="footer__link-item">Developer Guides</a></li></ul></div><div class="col footer__col"><div class="footer__title">Company</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://chia.net/about" target="_blank" rel="noopener noreferrer" class="footer__link-item">About</a></li><li class="footer__item"><a href="https://chia.net/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://chia.net/contact" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2024 Chia Network Inc., Licensed under the <a href="https://github.com/Chia-Network/chia-docs/blob/main/LICENSE" target="_blank">Apache License, Version 2.0</a> | <a href="https://chia.net/terms">Terms</a></div></div></div></footer></div>
</body>
</html>
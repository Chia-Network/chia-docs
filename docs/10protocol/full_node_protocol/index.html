<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<title data-react-helmet="true">10.3 Full Node Protocol | Chia Documentation</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://docs.chia.net/docs/10protocol/full_node_protocol"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="10.3 Full Node Protocol | Chia Documentation"><meta data-react-helmet="true" name="description" content="This protocol is a bidirectional protocol for communication between full nodes in the Chia system."><meta data-react-helmet="true" property="og:description" content="This protocol is a bidirectional protocol for communication between full nodes in the Chia system."><link data-react-helmet="true" rel="shortcut icon" href="/img/chia_leaf_green.svg"><link data-react-helmet="true" rel="canonical" href="https://docs.chia.net/docs/10protocol/full_node_protocol"><link data-react-helmet="true" rel="alternate" href="https://docs.chia.net/docs/10protocol/full_node_protocol" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.chia.net/docs/10protocol/full_node_protocol" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.e0d97607.css">
<link rel="preload" href="/assets/js/runtime~main.e9fd25a3.js" as="script">
<link rel="preload" href="/assets/js/main.8d7d39f0.js" as="script">
</head>
<body data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/chia-docs-icon.svg" alt="My Site Logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/img/chia-docs-icon.svg" alt="My Site Logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><b class="navbar__title"> Chia Docs</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/01introduction/what-is-chia">Docs</a><a href="https://www.chia.net/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Chia.net</a><a href="https://github.com/Chia-Network/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Chia Github</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle toggle_2i4l react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_iYfV">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_iYfV">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button class="clean-btn backToTopButton_i9tI" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh menuWithAnnouncementBar_+O1J"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">1 - Introduction</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">2 - Architecture</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">3 - Consensus Algorithm</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">4 - Coin Set Model</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">5 - Block Validation</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">6 - Mempool</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">7 - Networking</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">8 - Serialization</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">9 - Keys and Signatures</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">10 - Protocol</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/10protocol/protocol">10.1 Chia Protocol</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/10protocol/harvester_protocol">10.2 Harvester Protocol</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/10protocol/full_node_protocol">10.3 Full Node Protocol</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/10protocol/wallet_protocol">10.4 Wallet Protocol</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">11 - Pool Protocol</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">12 - RPC APIs</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">13 - Command Line Interface</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">14 - Python Implementation</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">15 - Resources</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>10.3 Full Node Protocol</h1></header><p>This protocol is a bidirectional protocol for communication between full nodes in the Chia system.
The sender is the full node sending the message, and the recipient is the full node that is receiving the message.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="new_peak"></a>new_peak<a class="hash-link" href="#new_peak" title="Direct link to heading">#</a></h2><p>Sent to peers whenever our node&#x27;s peak weight advances (whenever the blockchain moves forward).
The fork point allows peers to detect how deep of a reorg happenned, and fetch the correct blocks.
The unfinished reward block hash allows the receiving peer to use their cache for unfinished blocks,
since they most likely already have the unfinished
version of the same block, and therefore don&#x27;t need to re-request the block transactions generator.</p><p>Usually, during normal operation, peers will ask for just the latest block, or
ignore this message if they have already received it from another peer.  If we are a few blocks behind, blocks are
fetched one by one in reverse order up to the fork.</p><p>If we are far behind this peak, we will start a batch sync (download a few tens of blocks in batches) or a long sync,
where we download a weight proof and then download many blocks in batches.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><pre tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">NewPeak</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#403f53"><span class="token plain">    header_hash</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> bytes32    </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># header_hash of new block</span><span class="token plain"></span></span><span class="token-line" style="color:#403f53"><span class="token plain">    height</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> uint32          </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># height of new block</span><span class="token plain"></span></span><span class="token-line" style="color:#403f53"><span class="token plain">    weight</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> uint128         </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># weight of new block</span><span class="token plain"></span></span><span class="token-line" style="color:#403f53"><span class="token plain">    fork_point_with_previous_peak</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> uint32</span></span><span class="token-line" style="color:#403f53"><span class="token plain">    unfinished_reward_block_hash</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> bytes32</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="new_transaction"></a>new_transaction<a class="hash-link" href="#new_transaction" title="Direct link to heading">#</a></h2><p>Sent to peers when a new spend bundle has been added to the mempool. The receiving peer can then choose to ignore
it, or request the whole transaction.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><pre tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">NewTransaction</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#403f53"><span class="token plain">    transaction_id</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> bytes32  </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># hash of the spend bundle</span><span class="token plain"></span></span><span class="token-line" style="color:#403f53"><span class="token plain">    cost</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> uint64             </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># cost of the transaction, used to see if fees are sufficient for mempool inclusion</span><span class="token plain"></span></span><span class="token-line" style="color:#403f53"><span class="token plain">    fees</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> uint64             </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># fees in mojo of transaction, used to see if fees are sufficient for mempool inclusion</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="request_transaction"></a>request_transaction<a class="hash-link" href="#request_transaction" title="Direct link to heading">#</a></h2><p>Request for a full transaction (spend bundle) from a peer by its id. If a peer does not respond, other peers are contacted
for the same transaction.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><pre tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">RequestTransaction</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#403f53"><span class="token plain">    transaction_id</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> bytes32  </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># hash of the spendbundle</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="respond_transaction"></a>respond_transaction<a class="hash-link" href="#respond_transaction" title="Direct link to heading">#</a></h2><p>Response for a <code>request_transaction</code> message. Sends a spend bundle to a peer. To see the contents of a <code>SpendBundle</code>, see <a href="/docs/04coin-set-model/spend_bundles">this section</a>.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><pre tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">RespondTransaction</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#403f53"><span class="token plain">    transaction</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> SpendBundle</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="request_proof_of_weight"></a>request_proof_of_weight<a class="hash-link" href="#request_proof_of_weight" title="Direct link to heading">#</a></h2><p>Request a weight proof from a peer. This is done right before starting a long sync. The weight proof allows our
node to validate whether a <code>new_peak</code> that we received from a peer corresponds to an actual valid blokchain. It is
proof that a certain amount of &quot;weight&quot;, or space and time, has been used on that blockchain.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><pre tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">RequestProofOfWeight</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#403f53"><span class="token plain">    total_number_of_blocks</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> uint32  </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># Height of the peak block</span><span class="token plain"></span></span><span class="token-line" style="color:#403f53"><span class="token plain">    tip</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> bytes32                    </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># The header_hash of the peak block</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="respond_proof_of_weight"></a>respond_proof_of_weight<a class="hash-link" href="#respond_proof_of_weight" title="Direct link to heading">#</a></h2><p>Response to a <code>request_proof_of_weight</code> message. Note that weight proofs can be quite large, in the tens of MB range.
If the chain VDFs are compressed (aka blueboxed), then they weight proofs will be smaller.
This is the V1 version of weight proofs, more efficient versions might be added in the future.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><pre tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">RespondProofOfWeight</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#403f53"><span class="token plain">    wp</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> WeightProof</span></span><span class="token-line" style="color:#403f53"><span class="token plain">    tip</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> bytes32</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="request_block"></a>request_block<a class="hash-link" href="#request_block" title="Direct link to heading">#</a></h2><p>Request for a block at a certain height from a peer.  Called after receiving a <code>new_peak</code> message.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><pre tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">RequestBlock</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#403f53"><span class="token plain">    height</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> uint32                   </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># Height of the block to request</span><span class="token plain"></span></span><span class="token-line" style="color:#403f53"><span class="token plain">    include_transaction_block</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(72, 118, 214)">bool</span><span class="token plain">  </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># Whether to include transaction data</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="respond_block"></a>respond_block<a class="hash-link" href="#respond_block" title="Direct link to heading">#</a></h2><p>Response to a <code>request_block</code> message.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><pre tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">RespondBlock</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#403f53"><span class="token plain">    block</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> FullBlock</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="reject_block"></a>reject_block<a class="hash-link" href="#reject_block" title="Direct link to heading">#</a></h2><p>Rejection to a <code>request_block</code> message.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><pre tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">RejectBlock</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#403f53"><span class="token plain">    height</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> uint32</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="request_blocks"></a>request_blocks<a class="hash-link" href="#request_blocks" title="Direct link to heading">#</a></h2><p>Request multiple blocks at once from a peer.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><pre tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">RequestBlocks</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#403f53"><span class="token plain">    start_height</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> uint32             </span></span><span class="token-line" style="color:#403f53"><span class="token plain">    end_height</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> uint32               </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># Inclusive</span><span class="token plain"></span></span><span class="token-line" style="color:#403f53"><span class="token plain">    include_transaction_block</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(72, 118, 214)">bool</span><span class="token plain">  </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># Whether to include transaction data</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="respond_blocks"></a>respond_blocks<a class="hash-link" href="#respond_blocks" title="Direct link to heading">#</a></h2><p>Response to a <code>request_blocks</code> message.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><pre tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">RespondBlocks</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#403f53"><span class="token plain">    start_height</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> uint32</span></span><span class="token-line" style="color:#403f53"><span class="token plain">    end_height</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> uint32</span></span><span class="token-line" style="color:#403f53"><span class="token plain">    blocks</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> List</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">FullBlock</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="reject_blocks"></a>reject_blocks<a class="hash-link" href="#reject_blocks" title="Direct link to heading">#</a></h2><p>Rejection to a <code>request_blocks</code> message.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><pre tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">RejectBlocks</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#403f53"><span class="token plain">    start_height</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> uint32</span></span><span class="token-line" style="color:#403f53"><span class="token plain">    end_height</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> uint32</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="new_unfinished_block"></a>new_unfinished_block<a class="hash-link" href="#new_unfinished_block" title="Direct link to heading">#</a></h2><p>Notification to another peer that a new unfinished block was added to the cache. These unfinished blocks are kept
around temporarily, until the infusion point VDF is released, and the block can be &quot;finished&quot; and added to the blockchain.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><pre tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">NewUnfinishedBlock</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#403f53"><span class="token plain">    unfinished_reward_hash</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> bytes32</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="request_unfinished_block"></a>request_unfinished_block<a class="hash-link" href="#request_unfinished_block" title="Direct link to heading">#</a></h2><p>Request for an unfinished block from a peer.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><pre tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">RequestUnfinishedBlock</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#403f53"><span class="token plain">    unfinished_reward_hash</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> bytes32</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="respond_unfinished_block"></a>respond_unfinished_block<a class="hash-link" href="#respond_unfinished_block" title="Direct link to heading">#</a></h2><p>Response to a <code>request_unfinished_block</code> message.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><pre tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">RespondUnfinishedBlock</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#403f53"><span class="token plain">    unfinished_block</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> UnfinishedBlock</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="new_signage_point_or_end_of_sub_slot"></a>new_signage_point_or_end_of_sub_slot<a class="hash-link" href="#new_signage_point_or_end_of_sub_slot" title="Direct link to heading">#</a></h2><p>Sent when the node adds a new signage point or a new end of sub slot to the full node store.  The receiver can choose
to request the object, or potentially request the previous sub slot, if they are far behind. For example, recently
synced up to the peak of the blockchain.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><pre tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">NewSignagePointOrEndOfSubSlot</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#403f53"><span class="token plain">    prev_challenge_hash</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> Optional</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">bytes32</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain">  </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># Challenge hash at the start of the previous sub slot, if present</span><span class="token plain"></span></span><span class="token-line" style="color:#403f53"><span class="token plain">    challenge_hash</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> bytes32                 </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># Challenge hash at the start of the sub slot</span><span class="token plain"></span></span><span class="token-line" style="color:#403f53"><span class="token plain">    index_from_challenge</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> uint8             </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># Index from the start, 0 for end of sub slot</span><span class="token plain"></span></span><span class="token-line" style="color:#403f53"><span class="token plain">    last_rc_infusion</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> bytes32               </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># Last reward chain infusion hash</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="request_signage_point_or_end_of_sub_slot"></a>request_signage_point_or_end_of_sub_slot<a class="hash-link" href="#request_signage_point_or_end_of_sub_slot" title="Direct link to heading">#</a></h2><p>Request for a signage point or end of slot.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><pre tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">RequestSignagePointOrEndOfSubSlot</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#403f53"><span class="token plain">    challenge_hash</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> bytes32</span></span><span class="token-line" style="color:#403f53"><span class="token plain">    index_from_challenge</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> uint8</span></span><span class="token-line" style="color:#403f53"><span class="token plain">    last_rc_infusion</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> bytes32</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="respond_signage_point"></a>respond_signage_point<a class="hash-link" href="#respond_signage_point" title="Direct link to heading">#</a></h2><p>Response for <code>request_signage_point_or_end_of_sub_slot</code>. After receiving this message, the recipient will check that
all VDFs are correct, and forward it to other full nodes and potentially farmers.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><pre tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">RespondSignagePoint</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#403f53"><span class="token plain">    index_from_challenge</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> uint8       </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># Which index out of the 64 signage points, cannot be 0 since that is the EOS</span><span class="token plain"></span></span><span class="token-line" style="color:#403f53"><span class="token plain">    challenge_chain_vdf</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> VDFInfo    </span></span><span class="token-line" style="color:#403f53"><span class="token plain">    challenge_chain_proof</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> VDFProof</span></span><span class="token-line" style="color:#403f53"><span class="token plain">    reward_chain_vdf</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> VDFInfo</span></span><span class="token-line" style="color:#403f53"><span class="token plain">    reward_chain_proof</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> VDFProof</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="respond_end_of_sub_slot"></a>respond_end_of_sub_slot<a class="hash-link" href="#respond_end_of_sub_slot" title="Direct link to heading">#</a></h2><p>Another response for <code>request_signage_point_or_end_of_sub_slot</code> in the case where <code>index_from_challenge</code> is zero.
This is also verified and forwarded by the full node, similar to signage points.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><pre tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">RespondEndOfSubSlot</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#403f53"><span class="token plain">    end_of_slot_bundle</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> EndOfSubSlotBundle</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="request_mempool_transactions"></a>request_mempool_transactions<a class="hash-link" href="#request_mempool_transactions" title="Direct link to heading">#</a></h2><p>This is a request for transactions in the mempool. The filter corresponds to a BIP158 Compact Block Filter, which
allows the recipient to see what transactions the sender already has (with some small chance for false positives),
without sending all transaction IDs. The recipient can then respond using <code>respond_transction</code> directly, but should
not send a very large number of transactions, to not overwhelm the original sending peer.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><pre tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">RequestMempoolTransactions</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token builtin" style="color:rgb(72, 118, 214)">filter</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(72, 118, 214)">bytes</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="new_compact_vdf"></a>new_compact_vdf<a class="hash-link" href="#new_compact_vdf" title="Direct link to heading">#</a></h2><p>A notification to a peer that a new compact VDF has been added to the blockchain. Compact VDFs
are smaller versions of VDF proofs present in blocks. They do not change the block itself, they just
compress the block data to keep the DB smaller and sync time lower. The actual proof</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><pre tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">NewCompactVDF</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#403f53"><span class="token plain">    height</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> uint32           </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># Height of the block which has a new VDF</span><span class="token plain"></span></span><span class="token-line" style="color:#403f53"><span class="token plain">    header_hash</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> bytes32     </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># Header hash of that block</span><span class="token plain"></span></span><span class="token-line" style="color:#403f53"><span class="token plain">    field_vdf</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> uint8         </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># Which VDF in that block was updated (blocks have multiple VDFs)</span><span class="token plain"></span></span><span class="token-line" style="color:#403f53"><span class="token plain">    vdf_info</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> VDFInfo        </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic"># Info of the VDF that was updated</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="request_compact_vdf"></a>request_compact_vdf<a class="hash-link" href="#request_compact_vdf" title="Direct link to heading">#</a></h2><p>A request to a peer for a compact VDf.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><pre tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">RequestCompactVDF</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#403f53"><span class="token plain">    height</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> uint32</span></span><span class="token-line" style="color:#403f53"><span class="token plain">    header_hash</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> bytes32</span></span><span class="token-line" style="color:#403f53"><span class="token plain">    field_vdf</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> uint8</span></span><span class="token-line" style="color:#403f53"><span class="token plain">    vdf_info</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> VDFInfo</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="respond_compact_vdf"></a>respond_compact_vdf<a class="hash-link" href="#respond_compact_vdf" title="Direct link to heading">#</a></h2><p>A response to a peer that requested a compact VDF.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><pre tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">RespondCompactVDF</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#403f53"><span class="token plain">    height</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> uint32</span></span><span class="token-line" style="color:#403f53"><span class="token plain">    header_hash</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> bytes32</span></span><span class="token-line" style="color:#403f53"><span class="token plain">    field_vdf</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> uint8</span></span><span class="token-line" style="color:#403f53"><span class="token plain">    vdf_info</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> VDFInfo</span></span><span class="token-line" style="color:#403f53"><span class="token plain">    vdf_proof</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> VDFProof</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="request_peers"></a>request_peers<a class="hash-link" href="#request_peers" title="Direct link to heading">#</a></h2><p>Request a list of peers. There is no body in this message. This is usually sent when connecting
to a peer.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><pre tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">RequestPeers</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:rgb(72, 118, 214)">&quot;&quot;&quot;</span></span><span class="token-line" style="color:#403f53"><span class="token triple-quoted-string string" style="color:rgb(72, 118, 214)">    Return full list of peers</span></span><span class="token-line" style="color:#403f53"><span class="token triple-quoted-string string" style="color:rgb(72, 118, 214)">    &quot;&quot;&quot;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="respond_peers"></a>respond_peers<a class="hash-link" href="#respond_peers" title="Direct link to heading">#</a></h2><p>A response to <code>request_peers</code>, containing a list of ip and port for each peer. Must be no larger than 1000.
The timestamp corresponds to the last time this peer&#x27;s record was updated, based on the peer DB update rules.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><pre tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">RespondPeers</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#403f53"><span class="token plain">    peer_list</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> List</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">TimestampedPeerInfo</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Chia-Network/chia-docs/blob/main/docs/10protocol/full_node_protocol.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/10protocol/harvester_protocol"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« 10.2 Harvester Protocol</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/10protocol/wallet_protocol"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">10.4 Wallet Protocol Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#new_peak" class="table-of-contents__link">new_peak</a></li><li><a href="#new_transaction" class="table-of-contents__link">new_transaction</a></li><li><a href="#request_transaction" class="table-of-contents__link">request_transaction</a></li><li><a href="#respond_transaction" class="table-of-contents__link">respond_transaction</a></li><li><a href="#request_proof_of_weight" class="table-of-contents__link">request_proof_of_weight</a></li><li><a href="#respond_proof_of_weight" class="table-of-contents__link">respond_proof_of_weight</a></li><li><a href="#request_block" class="table-of-contents__link">request_block</a></li><li><a href="#respond_block" class="table-of-contents__link">respond_block</a></li><li><a href="#reject_block" class="table-of-contents__link">reject_block</a></li><li><a href="#request_blocks" class="table-of-contents__link">request_blocks</a></li><li><a href="#respond_blocks" class="table-of-contents__link">respond_blocks</a></li><li><a href="#reject_blocks" class="table-of-contents__link">reject_blocks</a></li><li><a href="#new_unfinished_block" class="table-of-contents__link">new_unfinished_block</a></li><li><a href="#request_unfinished_block" class="table-of-contents__link">request_unfinished_block</a></li><li><a href="#respond_unfinished_block" class="table-of-contents__link">respond_unfinished_block</a></li><li><a href="#new_signage_point_or_end_of_sub_slot" class="table-of-contents__link">new_signage_point_or_end_of_sub_slot</a></li><li><a href="#request_signage_point_or_end_of_sub_slot" class="table-of-contents__link">request_signage_point_or_end_of_sub_slot</a></li><li><a href="#respond_signage_point" class="table-of-contents__link">respond_signage_point</a></li><li><a href="#respond_end_of_sub_slot" class="table-of-contents__link">respond_end_of_sub_slot</a></li><li><a href="#request_mempool_transactions" class="table-of-contents__link">request_mempool_transactions</a></li><li><a href="#new_compact_vdf" class="table-of-contents__link">new_compact_vdf</a></li><li><a href="#request_compact_vdf" class="table-of-contents__link">request_compact_vdf</a></li><li><a href="#respond_compact_vdf" class="table-of-contents__link">respond_compact_vdf</a></li><li><a href="#request_peers" class="table-of-contents__link">request_peers</a></li><li><a href="#respond_peers" class="table-of-contents__link">respond_peers</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Approach</div><ul class="footer__items"><li class="footer__item"><a href="https://www.chia.net/approach" target="_blank" rel="noopener noreferrer" class="footer__link-item">White Paper</a></li></ul></div><div class="col footer__col"><div class="footer__title">Technology</div><ul class="footer__items"><li class="footer__item"><a href="https://www.chia.net/greenpaper" target="_blank" rel="noopener noreferrer" class="footer__link-item">Green Paper</a></li><li class="footer__item"><a href="https://www.chia.net/assets/Chia-New-Consensus-0.9.pdf" target="_blank" rel="noopener noreferrer" class="footer__link-item">Consensus 1.1</a></li></ul></div><div class="col footer__col"><div class="footer__title">Developers</div><ul class="footer__items"><li class="footer__item"><a href="https://www.chia.net/grants" target="_blank" rel="noopener noreferrer" class="footer__link-item">Grants</a></li><li class="footer__item"><a href="https://www.chialisp.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Chialisp</a></li></ul></div><div class="col footer__col"><div class="footer__title">Company</div><ul class="footer__items"><li class="footer__item"><a href="https://chia.net/about" target="_blank" rel="noopener noreferrer" class="footer__link-item">About</a></li><li class="footer__item"><a href="https://chia.net/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://chia.net/contact" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Â© Chia Network 2022, Licensed under the <a href="https://github.com/Chia-Network/chia-docs/blob/main/LICENSE" target="_blank">Apache License, Version 2.0</a> | <a href="https://www.chia.net/terms">Terms</a></div></div></div></footer></div>
<script src="/assets/js/runtime~main.e9fd25a3.js"></script>
<script src="/assets/js/main.8d7d39f0.js"></script>
</body>
</html>